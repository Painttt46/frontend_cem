{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, withCtx as _withCtx, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createTextVNode as _createTextVNode, normalizeStyle as _normalizeStyle, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"dashboard-container\"\n};\nconst _hoisted_2 = {\n  class: \"header-content\"\n};\nconst _hoisted_3 = {\n  class: \"header-left\"\n};\nconst _hoisted_4 = {\n  class: \"summary-grid mb-4\"\n};\nconst _hoisted_5 = {\n  class: \"summary-content\"\n};\nconst _hoisted_6 = {\n  class: \"summary-info\"\n};\nconst _hoisted_7 = {\n  class: \"summary-content\"\n};\nconst _hoisted_8 = {\n  class: \"summary-info\"\n};\nconst _hoisted_9 = {\n  class: \"summary-content\"\n};\nconst _hoisted_10 = {\n  class: \"summary-info\"\n};\nconst _hoisted_11 = {\n  class: \"summary-content\"\n};\nconst _hoisted_12 = {\n  class: \"summary-info\"\n};\nconst _hoisted_13 = {\n  class: \"summary-content\"\n};\nconst _hoisted_14 = {\n  class: \"summary-info\"\n};\nconst _hoisted_15 = {\n  class: \"summary-content\"\n};\nconst _hoisted_16 = {\n  class: \"summary-info\"\n};\nconst _hoisted_17 = {\n  class: \"summary-content\"\n};\nconst _hoisted_18 = {\n  class: \"summary-info\"\n};\nconst _hoisted_19 = {\n  class: \"summary-content\"\n};\nconst _hoisted_20 = {\n  class: \"summary-info\"\n};\nconst _hoisted_21 = {\n  class: \"charts-container mb-4\"\n};\nconst _hoisted_22 = {\n  ref: \"leaveChart\"\n};\nconst _hoisted_23 = {\n  ref: \"taskChart\"\n};\nconst _hoisted_24 = {\n  class: \"chart-dots\"\n};\nconst _hoisted_25 = [\"onClick\"];\nconst _hoisted_26 = [\"onClick\"];\nconst _hoisted_27 = {\n  style: {\n    \"font-weight\": \"600\",\n    \"color\": \"#4A90E2\"\n  }\n};\nconst _hoisted_28 = {\n  class: \"task-breakdown\"\n};\nconst _hoisted_29 = {\n  style: {\n    \"font-weight\": \"600\",\n    \"color\": \"#10b981\"\n  }\n};\nconst _hoisted_30 = {\n  style: {\n    \"display\": \"flex\",\n    \"align-items\": \"center\",\n    \"gap\": \"0.5rem\"\n  }\n};\nconst _hoisted_31 = {\n  style: {\n    \"flex\": \"1\",\n    \"background\": \"#e9ecef\",\n    \"border-radius\": \"4px\",\n    \"height\": \"20px\",\n    \"overflow\": \"hidden\"\n  }\n};\nconst _hoisted_32 = {\n  style: {\n    \"min-width\": \"50px\",\n    \"text-align\": \"right\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Toast = _resolveComponent(\"Toast\");\n  const _component_Button = _resolveComponent(\"Button\");\n  const _component_Card = _resolveComponent(\"Card\");\n  const _component_Column = _resolveComponent(\"Column\");\n  const _component_DataTable = _resolveComponent(\"DataTable\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_Toast), _createCommentVNode(\" Header \"), _createVNode(_component_Card, {\n    class: \"header-card mb-4\"\n  }, {\n    content: _withCtx(() => [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_Button, {\n      icon: \"pi pi-arrow-left\",\n      onClick: _cache[0] || (_cache[0] = $event => _ctx.$router.go(-1)),\n      text: \"\",\n      class: \"back-btn\"\n    }), _cache[2] || (_cache[2] = _createElementVNode(\"div\", {\n      class: \"header-title\"\n    }, [_createElementVNode(\"i\", {\n      class: \"pi pi-chart-bar header-icon\"\n    }), _createElementVNode(\"h1\", null, \"Dashboard\")], -1 /* CACHED */))])])]),\n    _: 1 /* STABLE */\n  }), _createCommentVNode(\" Summary Cards \"), _createElementVNode(\"div\", _hoisted_4, [_createCommentVNode(\" Loading Skeleton \"), $setup.loading ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 0\n  }, _renderList(8, i => {\n    return _createVNode(_component_Card, {\n      key: i,\n      class: \"summary-card\"\n    }, {\n      content: _withCtx(() => [...(_cache[3] || (_cache[3] = [_createElementVNode(\"div\", {\n        class: \"summary-content\"\n      }, [_createElementVNode(\"div\", {\n        class: \"skeleton skeleton-icon\"\n      }), _createElementVNode(\"div\", {\n        class: \"summary-info\"\n      }, [_createElementVNode(\"div\", {\n        class: \"skeleton skeleton-text\",\n        style: {\n          \"width\": \"60px\",\n          \"height\": \"32px\"\n        }\n      }), _createElementVNode(\"div\", {\n        class: \"skeleton skeleton-text\",\n        style: {\n          \"width\": \"120px\",\n          \"height\": \"16px\",\n          \"margin-top\": \"8px\"\n        }\n      })])], -1 /* CACHED */)]))]),\n      _: 1 /* STABLE */\n    });\n  }), 64 /* STABLE_FRAGMENT */)) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createCommentVNode(\" Actual Data \"), _createVNode(_component_Card, {\n    class: \"summary-card\"\n  }, {\n    content: _withCtx(() => [_createElementVNode(\"div\", _hoisted_5, [_cache[5] || (_cache[5] = _createElementVNode(\"i\", {\n      class: \"pi pi-users summary-icon\",\n      style: {\n        \"color\": \"#4A90E2\"\n      }\n    }, null, -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"h3\", null, _toDisplayString($setup.stats.totalUsers), 1 /* TEXT */), _cache[4] || (_cache[4] = _createElementVNode(\"p\", null, \"ผู้ใช้งานทั้งหมด\", -1 /* CACHED */))])])]),\n    _: 1 /* STABLE */\n  }), _createVNode(_component_Card, {\n    class: \"summary-card\"\n  }, {\n    content: _withCtx(() => [_createElementVNode(\"div\", _hoisted_7, [_cache[7] || (_cache[7] = _createElementVNode(\"i\", {\n      class: \"pi pi-user-plus summary-icon\",\n      style: {\n        \"color\": \"#10b981\"\n      }\n    }, null, -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"h3\", null, _toDisplayString($setup.stats.workingToday), 1 /* TEXT */), _cache[6] || (_cache[6] = _createElementVNode(\"p\", null, \"พนักงานทำงานวันนี้\", -1 /* CACHED */))])])]),\n    _: 1 /* STABLE */\n  }), _createVNode(_component_Card, {\n    class: \"summary-card\"\n  }, {\n    content: _withCtx(() => [_createElementVNode(\"div\", _hoisted_9, [_cache[9] || (_cache[9] = _createElementVNode(\"i\", {\n      class: \"pi pi-calendar-times summary-icon\",\n      style: {\n        \"color\": \"#f59e0b\"\n      }\n    }, null, -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"h3\", null, _toDisplayString($setup.stats.todayLeaves), 1 /* TEXT */), _cache[8] || (_cache[8] = _createElementVNode(\"p\", null, \"ลางานวันนี้\", -1 /* CACHED */))])])]),\n    _: 1 /* STABLE */\n  }), _createVNode(_component_Card, {\n    class: \"summary-card\"\n  }, {\n    content: _withCtx(() => [_createElementVNode(\"div\", _hoisted_11, [_cache[11] || (_cache[11] = _createElementVNode(\"i\", {\n      class: \"pi pi-car summary-icon\",\n      style: {\n        \"color\": \"#06b6d4\"\n      }\n    }, null, -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"h3\", null, _toDisplayString($setup.stats.activeCars), 1 /* TEXT */), _cache[10] || (_cache[10] = _createElementVNode(\"p\", null, \"รถกำลังใช้งาน\", -1 /* CACHED */))])])]),\n    _: 1 /* STABLE */\n  }), _createVNode(_component_Card, {\n    class: \"summary-card\"\n  }, {\n    content: _withCtx(() => [_createElementVNode(\"div\", _hoisted_13, [_cache[13] || (_cache[13] = _createElementVNode(\"i\", {\n      class: \"pi pi-clock summary-icon\",\n      style: {\n        \"color\": \"#3b82f6\"\n      }\n    }, null, -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"h3\", null, _toDisplayString($setup.stats.dueSoon), 1 /* TEXT */), _cache[12] || (_cache[12] = _createElementVNode(\"p\", null, \"งานครบกำหนดสัปดาห์นี้\", -1 /* CACHED */))])])]),\n    _: 1 /* STABLE */\n  }), _createVNode(_component_Card, {\n    class: \"summary-card\"\n  }, {\n    content: _withCtx(() => [_createElementVNode(\"div\", _hoisted_15, [_cache[15] || (_cache[15] = _createElementVNode(\"i\", {\n      class: \"pi pi-exclamation-triangle summary-icon\",\n      style: {\n        \"color\": \"#ef4444\"\n      }\n    }, null, -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_16, [_createElementVNode(\"h3\", null, _toDisplayString($setup.stats.overdue), 1 /* TEXT */), _cache[14] || (_cache[14] = _createElementVNode(\"p\", null, \"งานเลยกำหนด\", -1 /* CACHED */))])])]),\n    _: 1 /* STABLE */\n  }), _createVNode(_component_Card, {\n    class: \"summary-card\"\n  }, {\n    content: _withCtx(() => [_createElementVNode(\"div\", _hoisted_17, [_cache[17] || (_cache[17] = _createElementVNode(\"i\", {\n      class: \"pi pi-briefcase summary-icon\",\n      style: {\n        \"color\": \"#8b5cf6\"\n      }\n    }, null, -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"h3\", null, _toDisplayString($setup.stats.activeTasks), 1 /* TEXT */), _cache[16] || (_cache[16] = _createElementVNode(\"p\", null, \"งานกำลังดำเนินการ\", -1 /* CACHED */))])])]),\n    _: 1 /* STABLE */\n  }), _createVNode(_component_Card, {\n    class: \"summary-card\"\n  }, {\n    content: _withCtx(() => [_createElementVNode(\"div\", _hoisted_19, [_cache[19] || (_cache[19] = _createElementVNode(\"i\", {\n      class: \"pi pi-check-circle summary-icon\",\n      style: {\n        \"color\": \"#22c55e\"\n      }\n    }, null, -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_20, [_createElementVNode(\"h3\", null, _toDisplayString($setup.stats.completedTasks), 1 /* TEXT */), _cache[18] || (_cache[18] = _createElementVNode(\"p\", null, \"งานเสร็จสิ้น\", -1 /* CACHED */))])])]),\n    _: 1 /* STABLE */\n  })], 64 /* STABLE_FRAGMENT */))]), _createCommentVNode(\" Charts with Swipe Support \"), _createElementVNode(\"div\", _hoisted_21, [_createElementVNode(\"div\", {\n    class: \"charts-wrapper\",\n    ref: \"chartsWrapper\",\n    onTouchstart: $setup.handleTouchStart,\n    onTouchmove: $setup.handleTouchMove,\n    onTouchend: $setup.handleTouchEnd\n  }, [_createVNode(_component_Card, {\n    class: _normalizeClass([\"chart-card\", {\n      active: $setup.currentChart === 0\n    }])\n  }, {\n    content: _withCtx(() => [_cache[20] || (_cache[20] = _createElementVNode(\"h3\", null, \"จำนวนวันลาของพนักงาน (รายปี)\", -1 /* CACHED */)), _createElementVNode(\"canvas\", _hoisted_22, null, 512 /* NEED_PATCH */)]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"class\"]), _createVNode(_component_Card, {\n    class: _normalizeClass([\"chart-card\", {\n      active: $setup.currentChart === 1\n    }])\n  }, {\n    content: _withCtx(() => [_cache[21] || (_cache[21] = _createElementVNode(\"h3\", null, \"สถานะงาน\", -1 /* CACHED */)), _createElementVNode(\"canvas\", _hoisted_23, null, 512 /* NEED_PATCH */)]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"class\"])], 544 /* NEED_HYDRATION, NEED_PATCH */), _createCommentVNode(\" Chart Navigation Dots (Mobile) \"), _createElementVNode(\"div\", _hoisted_24, [(_openBlock(), _createElementBlock(_Fragment, null, _renderList(2, i => {\n    return _createElementVNode(\"span\", {\n      key: i,\n      class: _normalizeClass({\n        active: $setup.currentChart === i - 1\n      }),\n      onClick: $event => $setup.currentChart = i - 1\n    }, null, 10 /* CLASS, PROPS */, _hoisted_25);\n  }), 64 /* STABLE_FRAGMENT */))])]), _createCommentVNode(\" Work Statistics \"), _createVNode(_component_Card, null, {\n    content: _withCtx(() => [_cache[23] || (_cache[23] = _createElementVNode(\"h3\", {\n      class: \"mb-3\"\n    }, \"สถิติเวลาทำงานของพนักงาน (รายปี)\", -1 /* CACHED */)), _createVNode(_component_DataTable, {\n      value: $setup.workStatistics,\n      loading: $setup.loading,\n      paginator: \"\",\n      rows: 10,\n      sortField: \"totalHours\",\n      sortOrder: -1,\n      expandedRows: $setup.expandedRows\n    }, {\n      expansion: _withCtx(({\n        data\n      }) => [_createElementVNode(\"div\", _hoisted_28, [_cache[22] || (_cache[22] = _createElementVNode(\"h4\", null, \"รายละเอียดงานทั้งหมด\", -1 /* CACHED */)), _createVNode(_component_DataTable, {\n        value: data.taskDetails,\n        class: \"p-datatable-sm\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_Column, {\n          field: \"taskName\",\n          header: \"ชื่องาน\",\n          style: {\n            \"min-width\": \"200px\"\n          }\n        }), _createVNode(_component_Column, {\n          field: \"hours\",\n          header: \"ชั่วโมง\",\n          sortable: \"\"\n        }, {\n          body: _withCtx(({\n            data: task\n          }) => [_createElementVNode(\"span\", _hoisted_29, _toDisplayString(task.hours.toFixed(1)) + \" ชม.\", 1 /* TEXT */)]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_Column, {\n          field: \"percentage\",\n          header: \"สัดส่วน\",\n          sortable: \"\"\n        }, {\n          body: _withCtx(({\n            data: task\n          }) => [_createElementVNode(\"div\", _hoisted_30, [_createElementVNode(\"div\", _hoisted_31, [_createElementVNode(\"div\", {\n            style: _normalizeStyle({\n              width: task.percentage + '%',\n              background: '#4A90E2',\n              height: '100%'\n            })\n          }, null, 4 /* STYLE */)]), _createElementVNode(\"span\", _hoisted_32, _toDisplayString(task.percentage.toFixed(1)) + \"%\", 1 /* TEXT */)])]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"value\"])])]),\n      default: _withCtx(() => [_createVNode(_component_Column, {\n        expander: true,\n        style: {\n          \"width\": \"3rem\"\n        }\n      }), _createVNode(_component_Column, {\n        field: \"userName\",\n        header: \"ชื่อพนักงาน\",\n        sortable: \"\",\n        style: {\n          \"min-width\": \"150px\"\n        }\n      }, {\n        body: _withCtx(({\n          data\n        }) => [_createElementVNode(\"span\", {\n          class: \"clickable-name\",\n          onClick: $event => {\n            $setup.selectedUserId = data.userId;\n            $setup.showUserDialog = true;\n          }\n        }, _toDisplayString(data.userName), 9 /* TEXT, PROPS */, _hoisted_26)]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_Column, {\n        field: \"department\",\n        header: \"แผนก\",\n        sortable: \"\",\n        style: {\n          \"min-width\": \"120px\"\n        }\n      }), _createVNode(_component_Column, {\n        field: \"totalHours\",\n        header: \"รวมชั่วโมง\",\n        sortable: \"\",\n        style: {\n          \"min-width\": \"120px\"\n        }\n      }, {\n        body: _withCtx(({\n          data\n        }) => [_createElementVNode(\"span\", _hoisted_27, _toDisplayString(data.totalHours.toFixed(1)) + \" ชม.\", 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_Column, {\n        field: \"taskCount\",\n        header: \"จำนวนงาน\",\n        sortable: \"\",\n        style: {\n          \"min-width\": \"100px\"\n        }\n      }), _createVNode(_component_Column, {\n        field: \"avgHoursPerTask\",\n        header: \"เฉลี่ย/งาน\",\n        sortable: \"\",\n        style: {\n          \"min-width\": \"100px\"\n        }\n      }, {\n        body: _withCtx(({\n          data\n        }) => [_createTextVNode(_toDisplayString(data.avgHoursPerTask.toFixed(1)) + \" ชม. \", 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"value\", \"loading\", \"expandedRows\"])]),\n    _: 1 /* STABLE */\n  })]), $setup.showUserDialog ? (_openBlock(), _createBlock($setup[\"UserInfoDialog\"], {\n    key: 0,\n    visible: true,\n    \"onUpdate:visible\": _cache[1] || (_cache[1] = $event => $setup.showUserDialog = false),\n    userId: $setup.selectedUserId\n  }, null, 8 /* PROPS */, [\"userId\"])) : _createCommentVNode(\"v-if\", true)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","ref","style","_createElementVNode","_hoisted_1","_createVNode","_component_Toast","_createCommentVNode","_component_Card","content","_withCtx","_hoisted_2","_hoisted_3","_component_Button","icon","onClick","_cache","$event","_ctx","$router","go","text","_hoisted_4","$setup","loading","_createElementBlock","_Fragment","key","_renderList","i","_hoisted_5","_hoisted_6","_toDisplayString","stats","totalUsers","_hoisted_7","_hoisted_8","workingToday","_hoisted_9","_hoisted_10","todayLeaves","_hoisted_11","_hoisted_12","activeCars","_hoisted_13","_hoisted_14","dueSoon","_hoisted_15","_hoisted_16","overdue","_hoisted_17","_hoisted_18","activeTasks","_hoisted_19","_hoisted_20","completedTasks","_hoisted_21","onTouchstart","handleTouchStart","onTouchmove","handleTouchMove","onTouchend","handleTouchEnd","_normalizeClass","active","currentChart","_hoisted_22","_hoisted_23","_hoisted_24","_component_DataTable","value","workStatistics","paginator","rows","sortField","sortOrder","expandedRows","expansion","data","_hoisted_28","taskDetails","_component_Column","field","header","sortable","body","task","_hoisted_29","hours","toFixed","_hoisted_30","_hoisted_31","_normalizeStyle","width","percentage","background","height","_hoisted_32","expander","selectedUserId","userId","showUserDialog","userName","_hoisted_26","_hoisted_27","totalHours","avgHoursPerTask","_createBlock","visible"],"sources":["D:\\frontend_cem\\src\\views\\management\\Dashboard.vue"],"sourcesContent":["<!-- eslint-disable vue/multi-word-component-names -->\r\n<template>\r\n  <div class=\"dashboard-container\">\r\n    <Toast />\r\n    \r\n    <!-- Header -->\r\n    <Card class=\"header-card mb-4\">\r\n      <template #content>\r\n        <div class=\"header-content\">\r\n          <div class=\"header-left\">\r\n            <Button icon=\"pi pi-arrow-left\" @click=\"$router.go(-1)\" text class=\"back-btn\" />\r\n            <div class=\"header-title\">\r\n              <i class=\"pi pi-chart-bar header-icon\"></i>\r\n              <h1>Dashboard</h1>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </template>\r\n    </Card>\r\n\r\n    <!-- Summary Cards -->\r\n    <div class=\"summary-grid mb-4\">\r\n      <!-- Loading Skeleton -->\r\n      <template v-if=\"loading\">\r\n        <Card v-for=\"i in 8\" :key=\"i\" class=\"summary-card\">\r\n          <template #content>\r\n            <div class=\"summary-content\">\r\n              <div class=\"skeleton skeleton-icon\"></div>\r\n              <div class=\"summary-info\">\r\n                <div class=\"skeleton skeleton-text\" style=\"width: 60px; height: 32px;\"></div>\r\n                <div class=\"skeleton skeleton-text\" style=\"width: 120px; height: 16px; margin-top: 8px;\"></div>\r\n              </div>\r\n            </div>\r\n          </template>\r\n        </Card>\r\n      </template>\r\n      \r\n      <!-- Actual Data -->\r\n      <template v-else>\r\n        <Card class=\"summary-card\">\r\n        <template #content>\r\n          <div class=\"summary-content\">\r\n            <i class=\"pi pi-users summary-icon\" style=\"color: #4A90E2\"></i>\r\n            <div class=\"summary-info\">\r\n              <h3>{{ stats.totalUsers }}</h3>\r\n              <p>ผู้ใช้งานทั้งหมด</p>\r\n            </div>\r\n          </div>\r\n        </template>\r\n      </Card>\r\n\r\n      <Card class=\"summary-card\">\r\n        <template #content>\r\n          <div class=\"summary-content\">\r\n            <i class=\"pi pi-user-plus summary-icon\" style=\"color: #10b981\"></i>\r\n            <div class=\"summary-info\">\r\n              <h3>{{ stats.workingToday }}</h3>\r\n              <p>พนักงานทำงานวันนี้</p>\r\n            </div>\r\n          </div>\r\n        </template>\r\n      </Card>\r\n\r\n      <Card class=\"summary-card\">\r\n        <template #content>\r\n          <div class=\"summary-content\">\r\n            <i class=\"pi pi-calendar-times summary-icon\" style=\"color: #f59e0b\"></i>\r\n            <div class=\"summary-info\">\r\n              <h3>{{ stats.todayLeaves }}</h3>\r\n              <p>ลางานวันนี้</p>\r\n            </div>\r\n          </div>\r\n        </template>\r\n      </Card>\r\n\r\n      <Card class=\"summary-card\">\r\n        <template #content>\r\n          <div class=\"summary-content\">\r\n            <i class=\"pi pi-car summary-icon\" style=\"color: #06b6d4\"></i>\r\n            <div class=\"summary-info\">\r\n              <h3>{{ stats.activeCars }}</h3>\r\n              <p>รถกำลังใช้งาน</p>\r\n            </div>\r\n          </div>\r\n        </template>\r\n      </Card>\r\n\r\n      <Card class=\"summary-card\">\r\n        <template #content>\r\n          <div class=\"summary-content\">\r\n            <i class=\"pi pi-clock summary-icon\" style=\"color: #3b82f6\"></i>\r\n            <div class=\"summary-info\">\r\n              <h3>{{ stats.dueSoon }}</h3>\r\n              <p>งานครบกำหนดสัปดาห์นี้</p>\r\n            </div>\r\n          </div>\r\n        </template>\r\n      </Card>\r\n\r\n      <Card class=\"summary-card\">\r\n        <template #content>\r\n          <div class=\"summary-content\">\r\n            <i class=\"pi pi-exclamation-triangle summary-icon\" style=\"color: #ef4444\"></i>\r\n            <div class=\"summary-info\">\r\n              <h3>{{ stats.overdue }}</h3>\r\n              <p>งานเลยกำหนด</p>\r\n            </div>\r\n          </div>\r\n        </template>\r\n      </Card>\r\n\r\n      <Card class=\"summary-card\">\r\n        <template #content>\r\n          <div class=\"summary-content\">\r\n            <i class=\"pi pi-briefcase summary-icon\" style=\"color: #8b5cf6\"></i>\r\n            <div class=\"summary-info\">\r\n              <h3>{{ stats.activeTasks }}</h3>\r\n              <p>งานกำลังดำเนินการ</p>\r\n            </div>\r\n          </div>\r\n        </template>\r\n      </Card>\r\n\r\n      <Card class=\"summary-card\">\r\n        <template #content>\r\n          <div class=\"summary-content\">\r\n            <i class=\"pi pi-check-circle summary-icon\" style=\"color: #22c55e\"></i>\r\n            <div class=\"summary-info\">\r\n              <h3>{{ stats.completedTasks }}</h3>\r\n              <p>งานเสร็จสิ้น</p>\r\n            </div>\r\n          </div>\r\n        </template>\r\n      </Card>\r\n      </template>\r\n    </div>\r\n\r\n    <!-- Charts with Swipe Support -->\r\n    <div class=\"charts-container mb-4\">\r\n      <div class=\"charts-wrapper\" \r\n           ref=\"chartsWrapper\"\r\n           @touchstart=\"handleTouchStart\"\r\n           @touchmove=\"handleTouchMove\"\r\n           @touchend=\"handleTouchEnd\">\r\n        <Card class=\"chart-card\" :class=\"{ active: currentChart === 0 }\">\r\n          <template #content>\r\n            <h3>จำนวนวันลาของพนักงาน (รายปี)</h3>\r\n            <canvas ref=\"leaveChart\"></canvas>\r\n          </template>\r\n        </Card>\r\n\r\n        <Card class=\"chart-card\" :class=\"{ active: currentChart === 1 }\">\r\n          <template #content>\r\n            <h3>สถานะงาน</h3>\r\n            <canvas ref=\"taskChart\"></canvas>\r\n          </template>\r\n        </Card>\r\n      </div>\r\n      \r\n      <!-- Chart Navigation Dots (Mobile) -->\r\n      <div class=\"chart-dots\">\r\n        <span v-for=\"i in 2\" :key=\"i\" \r\n              :class=\"{ active: currentChart === i - 1 }\"\r\n              @click=\"currentChart = i - 1\"></span>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Work Statistics -->\r\n    <Card>\r\n      <template #content>\r\n        <h3 class=\"mb-3\">สถิติเวลาทำงานของพนักงาน (รายปี)</h3>\r\n        <DataTable :value=\"workStatistics\" :loading=\"loading\" paginator :rows=\"10\" sortField=\"totalHours\" :sortOrder=\"-1\"\r\n                   :expandedRows=\"expandedRows\">\r\n          <Column :expander=\"true\" style=\"width: 3rem\" />\r\n          <Column field=\"userName\" header=\"ชื่อพนักงาน\" sortable style=\"min-width: 150px\">\r\n            <template #body=\"{ data }\">\r\n              <span class=\"clickable-name\" @click=\"selectedUserId = data.userId; showUserDialog = true\">\r\n                {{ data.userName }}\r\n              </span>\r\n            </template>\r\n          </Column>\r\n          <Column field=\"department\" header=\"แผนก\" sortable style=\"min-width: 120px\" />\r\n          <Column field=\"totalHours\" header=\"รวมชั่วโมง\" sortable style=\"min-width: 120px\">\r\n            <template #body=\"{ data }\">\r\n              <span style=\"font-weight: 600; color: #4A90E2\">{{ data.totalHours.toFixed(1) }} ชม.</span>\r\n            </template>\r\n          </Column>\r\n          <Column field=\"taskCount\" header=\"จำนวนงาน\" sortable style=\"min-width: 100px\" />\r\n          <Column field=\"avgHoursPerTask\" header=\"เฉลี่ย/งาน\" sortable style=\"min-width: 100px\">\r\n            <template #body=\"{ data }\">\r\n              {{ data.avgHoursPerTask.toFixed(1) }} ชม.\r\n            </template>\r\n          </Column>\r\n          \r\n          <template #expansion=\"{ data }\">\r\n            <div class=\"task-breakdown\">\r\n              <h4>รายละเอียดงานทั้งหมด</h4>\r\n              <DataTable :value=\"data.taskDetails\" class=\"p-datatable-sm\">\r\n                <Column field=\"taskName\" header=\"ชื่องาน\" style=\"min-width: 200px\" />\r\n                <Column field=\"hours\" header=\"ชั่วโมง\" sortable>\r\n                  <template #body=\"{ data: task }\">\r\n                    <span style=\"font-weight: 600; color: #10b981\">{{ task.hours.toFixed(1) }} ชม.</span>\r\n                  </template>\r\n                </Column>\r\n                <Column field=\"percentage\" header=\"สัดส่วน\" sortable>\r\n                  <template #body=\"{ data: task }\">\r\n                    <div style=\"display: flex; align-items: center; gap: 0.5rem\">\r\n                      <div style=\"flex: 1; background: #e9ecef; border-radius: 4px; height: 20px; overflow: hidden\">\r\n                        <div :style=\"{ width: task.percentage + '%', background: '#4A90E2', height: '100%' }\"></div>\r\n                      </div>\r\n                      <span style=\"min-width: 50px; text-align: right\">{{ task.percentage.toFixed(1) }}%</span>\r\n                    </div>\r\n                  </template>\r\n                </Column>\r\n              </DataTable>\r\n            </div>\r\n          </template>\r\n        </DataTable>\r\n      </template>\r\n    </Card>\r\n  </div>\r\n\r\n  <UserInfoDialog v-if=\"showUserDialog\" :visible=\"true\" @update:visible=\"showUserDialog = false\" :userId=\"selectedUserId\" />\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted, nextTick, watch } from 'vue'\r\nimport { useErrorHandler } from '@/composables/useErrorHandler'\r\nimport { Chart } from 'chart.js/auto'\r\nimport axios from '@/utils/axiosConfig'\r\nimport userService from '@/services/userService'\r\nimport dailyWorkService from '@/services/dailyWorkService'\r\nimport UserInfoDialog from '@/components/UserInfoDialog.vue'\r\nimport { isCompleted, isActive } from '@/utils/statusHelper'\r\n\r\nconst { handleError } = useErrorHandler()\r\nconst loading = ref(false)\r\nconst leaveTypeColors = ref({})\r\nconst showUserDialog = ref(false)\r\nconst selectedUserId = ref(null)\r\n\r\n// Swipe functionality\r\nconst currentChart = ref(0)\r\nconst chartsWrapper = ref(null)\r\nlet touchStartX = 0\r\nlet touchEndX = 0\r\n\r\n\r\nconst stats = ref({\r\n  totalUsers: 0,\r\n  workingToday: 0,\r\n  todayLeaves: 0,\r\n  activeCars: 0,\r\n  activeTasks: 0,\r\n  completedTasks: 0,\r\n  dueSoon: 0,\r\n  overdue: 0\r\n})\r\n\r\nconst workStatistics = ref([])\r\nconst expandedRows = ref([])\r\nconst leaveChart = ref(null)\r\nconst taskChart = ref(null)\r\nlet leaveChartInstance = null\r\nlet taskChartInstance = null\r\n\r\nonMounted(() => {\r\n  loadLeaveTypeColors()\r\n  loadData()\r\n})\r\n\r\n// Swipe handlers\r\nconst handleTouchStart = (e) => {\r\n  touchStartX = e.touches[0].clientX\r\n}\r\n\r\nconst handleTouchMove = (e) => {\r\n  touchEndX = e.touches[0].clientX\r\n}\r\n\r\nconst handleTouchEnd = () => {\r\n  const diff = touchStartX - touchEndX\r\n  const threshold = 50\r\n  \r\n  if (Math.abs(diff) > threshold) {\r\n    if (diff > 0 && currentChart.value < 1) {\r\n      currentChart.value++\r\n    } else if (diff < 0 && currentChart.value > 0) {\r\n      currentChart.value--\r\n    }\r\n  }\r\n}\r\n\r\n// Watch chart changes for smooth transition\r\nwatch(currentChart, (newVal) => {\r\n  if (chartsWrapper.value) {\r\n    chartsWrapper.value.style.transform = `translateX(-${newVal * 100}%)`\r\n  }\r\n})\r\n\r\nconst loadLeaveTypeColors = async () => {\r\n  try {\r\n    const response = await axios.get('/api/leave/leave-types')\r\n    const colorMap = {}\r\n    response.data.forEach(type => {\r\n      colorMap[type.value] = type.color\r\n    })\r\n    leaveTypeColors.value = colorMap\r\n  } catch (error) {\r\n    handleError(error, {\r\n      customMessage: 'ไม่สามารถโหลดสีประเภทการลาได้',\r\n      showToast: false // ไม่แสดง toast เพราะไม่สำคัญมาก\r\n    })\r\n  }\r\n}\r\n\r\nconst loadData = async () => {\r\n  loading.value = true\r\n  \r\n  try {\r\n    // ใช้ service layer พร้อม cache\r\n    const [activeUsers, leaves, cars, tasks, dailyWork] = await Promise.all([\r\n      userService.getActiveUsers(),  // มี cache 5 นาที + filter is_active\r\n      axios.get('/api/leave').then(r => r.data),\r\n      axios.get('/api/car-booking').then(r => r.data),\r\n      axios.get('/api/tasks').then(r => r.data),\r\n      dailyWorkService.getDailyWork()  // มี cache 2 นาที\r\n    ])\r\n\r\n    // Calculate stats\r\n    stats.value.totalUsers = activeUsers.length\r\n    \r\n    const today = new Date().toISOString().split('T')[0]\r\n    const todayDate = new Date(today + 'T00:00:00') // Local midnight\r\n    const weekFromNow = new Date(todayDate)\r\n    weekFromNow.setDate(weekFromNow.getDate() + 7)\r\n    \r\n    // Helper function to parse date as local\r\n    const parseLocalDate = (dateStr) => {\r\n      if (!dateStr) return null\r\n      const datePart = dateStr.split('T')[0]\r\n      return new Date(datePart + 'T00:00:00')\r\n    }\r\n    \r\n    // Get unique user IDs who have approved leave today\r\n    const todayLeavesUsers = leaves.filter(l => {\r\n      if (l.status !== 'approved') return false\r\n      if (!l.start_datetime || !l.end_datetime) return false\r\n      \r\n      // แปลง UTC เป็น local date\r\n      const startDate = new Date(l.start_datetime)\r\n      const endDate = new Date(l.end_datetime)\r\n      \r\n      // เปรียบเทียบแบบ local date (ไม่สนเวลา)\r\n      const startLocalDate = new Date(startDate.getFullYear(), startDate.getMonth(), startDate.getDate())\r\n      const endLocalDate = new Date(endDate.getFullYear(), endDate.getMonth(), endDate.getDate())\r\n      \r\n      return startLocalDate <= todayDate && endLocalDate >= todayDate\r\n    })\r\n    \r\n    // Count unique users (DISTINCT user_id)\r\n    const uniqueUserIds = [...new Set(todayLeavesUsers.map(l => l.user_id))]\r\n    stats.value.todayLeaves = uniqueUserIds.length\r\n    \r\n    // พนักงานที่ทำงานวันนี้ = คนที่ลงงานรายวันวันนี้\r\n    const todayWorkUsers = dailyWork.filter(w => {\r\n      const workDate = w.work_date?.split('T')[0]\r\n      return workDate === today\r\n    })\r\n    const uniqueWorkUserIds = [...new Set(todayWorkUsers.map(w => w.user_id))]\r\n    stats.value.workingToday = uniqueWorkUserIds.length\r\n    \r\n    stats.value.activeCars = cars.filter(c => c.status === 'active').length\r\n    stats.value.activeTasks = tasks.filter(t => isActive(t.status)).length\r\n    stats.value.completedTasks = tasks.filter(t => isCompleted(t.status)).length\r\n    \r\n    // งานที่ครบกำหนดสัปดาห์นี้\r\n    stats.value.dueSoon = tasks.filter(t => {\r\n      if (!t.project_end_date) return false\r\n      const endDate = parseLocalDate(t.project_end_date)\r\n      return endDate >= todayDate && endDate <= weekFromNow && isActive(t.status)\r\n    }).length\r\n    \r\n    // งานที่เลยกำหนด\r\n    stats.value.overdue = tasks.filter(t => {\r\n      if (!t.project_end_date) return false\r\n      const endDate = parseLocalDate(t.project_end_date)\r\n      return endDate < todayDate && isActive(t.status)\r\n    }).length\r\n\r\n    // Work Statistics - คำนวณเวลาทำงานของแต่ละคน (รายปี)\r\n    const currentYear = new Date().getFullYear()\r\n    const userWorkData = {}\r\n    \r\n    dailyWork.forEach(w => {\r\n      const workYear = new Date(w.work_date).getFullYear()\r\n      if (workYear !== currentYear) return\r\n      \r\n      const userId = w.user_id\r\n      if (!userId) return // ข้ามถ้าไม่มี userId\r\n      \r\n      if (!userWorkData[userId]) {\r\n        const user = activeUsers.find(u => u.id === userId)\r\n        if (!user) return // ข้ามถ้าไม่เจอ user ใน activeUsers\r\n        \r\n        userWorkData[userId] = {\r\n          userId: userId,\r\n          userName: `${user.firstname} ${user.lastname}`,\r\n          department: user.department || 'N/A',\r\n          totalHours: 0,\r\n          taskCount: 0,\r\n          taskHours: {} // เก็บชั่วโมงของแต่ละงาน\r\n        }\r\n      }\r\n      \r\n      // คำนวณชั่วโมงจาก start_time และ end_time\r\n      if (w.start_time && w.end_time) {\r\n        const [startH, startM] = w.start_time.split(':').map(Number)\r\n        const [endH, endM] = w.end_time.split(':').map(Number)\r\n        const hours = (endH + endM/60) - (startH + startM/60)\r\n        \r\n        if (hours > 0) {\r\n          userWorkData[userId].totalHours += hours\r\n          \r\n          // เก็บชั่วโมงของแต่ละงาน\r\n          const taskName = w.task_name || w.project_name || 'ไม่ระบุ'\r\n          if (!userWorkData[userId].taskHours[taskName]) {\r\n            userWorkData[userId].taskHours[taskName] = 0\r\n          }\r\n          userWorkData[userId].taskHours[taskName] += hours\r\n        }\r\n      }\r\n      \r\n      userWorkData[userId].taskCount += 1\r\n    })\r\n    \r\n    workStatistics.value = Object.values(userWorkData).map(data => {\r\n      // สร้างรายละเอียดงานทั้งหมด\r\n      const taskDetails = Object.entries(data.taskHours)\r\n        .map(([taskName, hours]) => ({\r\n          taskName: taskName,\r\n          hours: hours,\r\n          percentage: (hours / data.totalHours) * 100\r\n        }))\r\n        .sort((a, b) => b.hours - a.hours)\r\n      \r\n      return {\r\n        userId: data.userId,\r\n        userName: data.userName,\r\n        department: data.department,\r\n        totalHours: data.totalHours,\r\n        taskCount: data.taskCount,\r\n        avgHoursPerTask: data.taskCount > 0 ? data.totalHours / data.taskCount : 0,\r\n        taskDetails: taskDetails\r\n      }\r\n    }).sort((a, b) => b.totalHours - a.totalHours)\r\n\r\n    await nextTick()\r\n    renderCharts(leaves, tasks)\r\n  } catch (error) {\r\n    handleError(error, {\r\n      customMessage: 'ไม่สามารถโหลดข้อมูล Dashboard ได้ กรุณาลองใหม่อีกครั้ง'\r\n    })\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\nconst renderCharts = (leaves, tasks) => {\r\n  // Leave Chart - แสดงจำนวนวันลาของแต่ละคนแยกตามประเภท (รายปี)\r\n  if (leaveChartInstance) leaveChartInstance.destroy()\r\n  \r\n  const currentYear = new Date().getFullYear()\r\n  const users = {}\r\n  const leaveTypes = new Set()\r\n  \r\n  // รวบรวมข้อมูล\r\n  leaves.forEach(l => {\r\n    if (l.status !== 'approved') return\r\n    const leaveYear = new Date(l.start_datetime).getFullYear()\r\n    if (leaveYear !== currentYear) return\r\n    \r\n    const userName = l.user_name || 'ไม่ระบุ'\r\n    const leaveType = l.leave_type || 'อื่นๆ'\r\n    const days = parseFloat(l.total_days) || 0\r\n    \r\n    if (!users[userName]) {\r\n      users[userName] = {}\r\n    }\r\n    if (!users[userName][leaveType]) {\r\n      users[userName][leaveType] = 0\r\n    }\r\n    users[userName][leaveType] += days\r\n    leaveTypes.add(leaveType)\r\n  })\r\n\r\n  // สร้าง datasets สำหรับแต่ละประเภทการลา\r\n  const datasets = Array.from(leaveTypes).map(type => ({\r\n    label: type,\r\n    data: Object.keys(users).map(userName => users[userName][type] || 0),\r\n    backgroundColor: leaveTypeColors.value[type] || '#' + Math.floor(Math.random()*16777215).toString(16)\r\n  }))\r\n\r\n  leaveChartInstance = new Chart(leaveChart.value, {\r\n    type: 'bar',\r\n    data: {\r\n      labels: Object.keys(users),\r\n      datasets: datasets\r\n    },\r\n    options: {\r\n      responsive: true,\r\n      maintainAspectRatio: false,\r\n      scales: {\r\n        x: {\r\n          stacked: false\r\n        },\r\n        y: {\r\n          beginAtZero: true,\r\n          title: {\r\n            display: true,\r\n            text: 'จำนวนวัน'\r\n          }\r\n        }\r\n      },\r\n      plugins: {\r\n        legend: {\r\n          display: true,\r\n          position: 'top'\r\n        }\r\n      }\r\n    }\r\n  })\r\n\r\n  // Task Chart\r\n  if (taskChartInstance) taskChartInstance.destroy()\r\n  \r\n  const taskStatus = {}\r\n  tasks.forEach(t => {\r\n    taskStatus[t.status || 'pending'] = (taskStatus[t.status || 'pending'] || 0) + 1\r\n  })\r\n\r\n  taskChartInstance = new Chart(taskChart.value, {\r\n    type: 'doughnut',\r\n    data: {\r\n      labels: Object.keys(taskStatus),\r\n      datasets: [{\r\n        data: Object.values(taskStatus),\r\n        backgroundColor: ['#f59e0b', '#4A90E2', '#10b981', '#ef4444']\r\n      }]\r\n    },\r\n    options: {\r\n      responsive: true,\r\n      maintainAspectRatio: false\r\n    }\r\n  })\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.clickable-name {\r\n  cursor: pointer;\r\n  color: #667eea;\r\n  font-weight: 600;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.clickable-name:hover {\r\n  color: #764ba2;\r\n  text-decoration: underline;\r\n}\r\n\r\n.dashboard-container {\r\n  padding: 1rem;\r\n  max-width: 1400px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.header-card {\r\n  background: linear-gradient(135deg, #4A90E2, #D73527);\r\n  color: white;\r\n  border: none;\r\n}\r\n\r\n.header-content {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 1rem;\r\n}\r\n\r\n.header-left {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 1rem;\r\n}\r\n\r\n.header-title {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.75rem;\r\n}\r\n\r\n.header-icon {\r\n  font-size: 1.5rem;\r\n}\r\n\r\n.header-title h1 {\r\n  margin: 0;\r\n  font-size: 1.5rem;\r\n  font-weight: 600;\r\n}\r\n\r\n.back-btn {\r\n  color: white !important;\r\n  background: rgba(255, 255, 255, 0.2) !important;\r\n  border: 1px solid rgba(255, 255, 255, 0.3) !important;\r\n  border-radius: 8px !important;\r\n  padding: 0.5rem !important;\r\n}\r\n\r\n.back-btn:hover {\r\n  background: rgba(255, 255, 255, 0.3) !important;\r\n}\r\n\r\n.summary-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));\r\n  gap: 1rem;\r\n}\r\n\r\n/* Charts Container with Swipe */\r\n.charts-container {\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n.charts-wrapper {\r\n  display: flex;\r\n  transition: transform 0.3s ease-out;\r\n  touch-action: pan-y;\r\n}\r\n\r\n.chart-card {\r\n  flex: 0 0 100%;\r\n  min-width: 100%;\r\n  border: 1px solid #e9ecef;\r\n  min-height: 350px;\r\n  opacity: 0.5;\r\n  transition: opacity 0.3s;\r\n}\r\n\r\n.chart-card.active {\r\n  opacity: 1;\r\n}\r\n\r\n.chart-card h3 {\r\n  margin: 0 0 1rem 0;\r\n  font-size: 1.1rem;\r\n  color: #2c3e50;\r\n}\r\n\r\ncanvas {\r\n  max-height: 300px;\r\n}\r\n\r\n.chart-dots {\r\n  display: none;\r\n  justify-content: center;\r\n  gap: 0.5rem;\r\n  margin-top: 1rem;\r\n}\r\n\r\n.chart-dots span {\r\n  width: 8px;\r\n  height: 8px;\r\n  border-radius: 50%;\r\n  background: #d1d5db;\r\n  cursor: pointer;\r\n  transition: all 0.3s;\r\n}\r\n\r\n.chart-dots span.active {\r\n  background: #4A90E2;\r\n  width: 24px;\r\n  border-radius: 4px;\r\n}\r\n\r\n/* Desktop: Show grid */\r\n@media (min-width: 769px) {\r\n  .charts-wrapper {\r\n    display: grid;\r\n    grid-template-columns: repeat(2, 1fr);\r\n    gap: 1rem;\r\n  }\r\n  \r\n  .chart-card {\r\n    flex: none;\r\n    min-width: auto;\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n/* Mobile: Show swipe */\r\n@media (max-width: 768px) {\r\n  .dashboard-container {\r\n    padding: 0.5rem;\r\n  }\r\n  \r\n  .summary-grid {\r\n    grid-template-columns: repeat(2, 1fr);\r\n    gap: 0.5rem;\r\n  }\r\n  \r\n  .summary-card {\r\n    padding: 0.5rem;\r\n  }\r\n  \r\n  .summary-content {\r\n    flex-direction: column;\r\n    text-align: center;\r\n    gap: 0.5rem;\r\n  }\r\n  \r\n  .summary-icon {\r\n    font-size: 1.8rem;\r\n  }\r\n  \r\n  .summary-info h3 {\r\n    font-size: 1.5rem;\r\n  }\r\n  \r\n  .summary-info p {\r\n    font-size: 0.75rem;\r\n  }\r\n  \r\n  .chart-dots {\r\n    display: flex;\r\n  }\r\n  \r\n  .header-title h1 {\r\n    font-size: 1.2rem;\r\n  }\r\n  \r\n  .header-icon {\r\n    font-size: 1.2rem;\r\n  }\r\n  \r\n  /* Hide table columns on mobile */\r\n  :deep(.p-datatable-wrapper) {\r\n    overflow-x: auto;\r\n  }\r\n  \r\n  :deep(.p-datatable) {\r\n    font-size: 0.85rem;\r\n  }\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .summary-grid {\r\n    grid-template-columns: 1fr;\r\n  }\r\n  \r\n  .header-content {\r\n    padding: 0.5rem;\r\n  }\r\n  \r\n  .back-btn {\r\n    padding: 0.4rem !important;\r\n  }\r\n}\r\n\r\n.task-breakdown {\r\n  padding: 1rem;\r\n  background: #f8f9fa;\r\n  border-radius: 8px;\r\n}\r\n\r\n.task-breakdown h4 {\r\n  margin: 0 0 1rem 0;\r\n  color: #2c3e50;\r\n  font-size: 1rem;\r\n}\r\n\r\n.skeleton {\r\n  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\r\n  background-size: 200% 100%;\r\n  animation: loading 1.5s infinite;\r\n  border-radius: 4px;\r\n}\r\n\r\n.skeleton-icon {\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n}\r\n\r\n.skeleton-text {\r\n  border-radius: 4px;\r\n}\r\n\r\n@keyframes loading {\r\n  0% {\r\n    background-position: 200% 0;\r\n  }\r\n  100% {\r\n    background-position: -200% 0;\r\n  }\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .dashboard-container {\r\n    padding: 0.75rem;\r\n  }\r\n  \r\n  .summary-grid {\r\n    grid-template-columns: repeat(2, 1fr);\r\n    gap: 0.75rem;\r\n  }\r\n  \r\n  .summary-card:hover {\r\n    transform: none;\r\n  }\r\n  \r\n  .summary-content {\r\n    flex-direction: column;\r\n    text-align: center;\r\n    gap: 0.5rem;\r\n  }\r\n  \r\n  .summary-icon {\r\n    font-size: 2rem;\r\n  }\r\n  \r\n  .summary-info h3 {\r\n    font-size: 1.5rem;\r\n  }\r\n  \r\n  .summary-info p {\r\n    font-size: 0.8rem;\r\n  }\r\n  \r\n  .chart-dots {\r\n    display: flex;\r\n  }\r\n  \r\n  .header-title h1 {\r\n    font-size: 1.25rem;\r\n  }\r\n  \r\n  .header-icon {\r\n    font-size: 1.25rem;\r\n  }\r\n  \r\n  :deep(.p-datatable-wrapper) {\r\n    overflow-x: auto;\r\n  }\r\n  \r\n  :deep(.p-datatable) {\r\n    font-size: 0.9rem;\r\n  }\r\n  \r\n  :deep(.p-datatable .p-column-title) {\r\n    font-size: 0.85rem;\r\n  }\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .dashboard-container {\r\n    padding: 0.5rem;\r\n  }\r\n  \r\n  .summary-grid {\r\n    grid-template-columns: 1fr;\r\n    gap: 0.5rem;\r\n  }\r\n  \r\n  .header-content {\r\n    padding: 0.5rem;\r\n  }\r\n  \r\n  .header-left {\r\n    gap: 0.5rem;\r\n  }\r\n  \r\n  .header-title {\r\n    gap: 0.5rem;\r\n  }\r\n  \r\n  .header-title h1 {\r\n    font-size: 1.1rem;\r\n  }\r\n  \r\n  .header-icon {\r\n    font-size: 1.1rem;\r\n  }\r\n  \r\n  .back-btn {\r\n    padding: 0.4rem !important;\r\n  }\r\n  \r\n  .summary-icon {\r\n    font-size: 1.8rem;\r\n  }\r\n  \r\n  .summary-info h3 {\r\n    font-size: 1.3rem;\r\n  }\r\n  \r\n  .summary-info p {\r\n    font-size: 0.75rem;\r\n  }\r\n  \r\n  .chart-card {\r\n    min-height: 300px;\r\n  }\r\n  \r\n  canvas {\r\n    max-height: 250px;\r\n  }\r\n  \r\n  :deep(.p-datatable) {\r\n    font-size: 0.8rem;\r\n  }\r\n  \r\n  :deep(.p-datatable .p-column-title) {\r\n    font-size: 0.75rem;\r\n  }\r\n  \r\n  :deep(.p-paginator) {\r\n    font-size: 0.8rem;\r\n  }\r\n}\r\n\r\n@media (max-width: 360px) {\r\n  .summary-info h3 {\r\n    font-size: 1.2rem;\r\n  }\r\n  \r\n  .summary-info p {\r\n    font-size: 0.7rem;\r\n  }\r\n  \r\n  .header-title h1 {\r\n    font-size: 1rem;\r\n  }\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}