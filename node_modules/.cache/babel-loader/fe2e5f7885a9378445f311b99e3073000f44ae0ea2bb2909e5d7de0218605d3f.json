{"ast":null,"code":"/**\r\n * Simple in-memory cache with TTL (Time To Live)\r\n */\nclass Cache {\n  constructor() {\n    this.store = new Map();\n  }\n\n  /**\r\n   * Set cache with TTL\r\n   * @param {string} key - Cache key\r\n   * @param {any} value - Value to cache\r\n   * @param {number} ttl - Time to live in milliseconds (default: 5 minutes)\r\n   */\n  set(key, value, ttl = 5 * 60 * 1000) {\n    const expiry = Date.now() + ttl;\n    this.store.set(key, {\n      value,\n      expiry\n    });\n  }\n\n  /**\r\n   * Get cached value\r\n   * @param {string} key - Cache key\r\n   * @returns {any|null} Cached value or null if expired/not found\r\n   */\n  get(key) {\n    const item = this.store.get(key);\n    if (!item) {\n      return null;\n    }\n\n    // Check if expired\n    if (Date.now() > item.expiry) {\n      this.store.delete(key);\n      return null;\n    }\n    return item.value;\n  }\n\n  /**\r\n   * Check if cache exists and is valid\r\n   * @param {string} key - Cache key\r\n   * @returns {boolean}\r\n   */\n  has(key) {\n    return this.get(key) !== null;\n  }\n\n  /**\r\n   * Delete cache\r\n   * @param {string} key - Cache key\r\n   */\n  delete(key) {\n    this.store.delete(key);\n  }\n\n  /**\r\n   * Clear all cache\r\n   */\n  clear() {\n    this.store.clear();\n  }\n\n  /**\r\n   * Get or set cache\r\n   * @param {string} key - Cache key\r\n   * @param {Function} fetcher - Async function to fetch data if not cached\r\n   * @param {number} ttl - Time to live in milliseconds\r\n   * @returns {Promise<any>}\r\n   */\n  async getOrSet(key, fetcher, ttl = 5 * 60 * 1000) {\n    const cached = this.get(key);\n    if (cached !== null) {\n      return cached;\n    }\n    const value = await fetcher();\n    this.set(key, value, ttl);\n    return value;\n  }\n}\n\n// Export singleton instance\nexport default new Cache();","map":{"version":3,"names":["Cache","constructor","store","Map","set","key","value","ttl","expiry","Date","now","get","item","delete","has","clear","getOrSet","fetcher","cached"],"sources":["D:/frontend_cem/src/utils/cache.js"],"sourcesContent":["/**\r\n * Simple in-memory cache with TTL (Time To Live)\r\n */\r\nclass Cache {\r\n  constructor() {\r\n    this.store = new Map()\r\n  }\r\n\r\n  /**\r\n   * Set cache with TTL\r\n   * @param {string} key - Cache key\r\n   * @param {any} value - Value to cache\r\n   * @param {number} ttl - Time to live in milliseconds (default: 5 minutes)\r\n   */\r\n  set(key, value, ttl = 5 * 60 * 1000) {\r\n    const expiry = Date.now() + ttl\r\n    this.store.set(key, { value, expiry })\r\n  }\r\n\r\n  /**\r\n   * Get cached value\r\n   * @param {string} key - Cache key\r\n   * @returns {any|null} Cached value or null if expired/not found\r\n   */\r\n  get(key) {\r\n    const item = this.store.get(key)\r\n    \r\n    if (!item) {\r\n      return null\r\n    }\r\n\r\n    // Check if expired\r\n    if (Date.now() > item.expiry) {\r\n      this.store.delete(key)\r\n      return null\r\n    }\r\n\r\n    return item.value\r\n  }\r\n\r\n  /**\r\n   * Check if cache exists and is valid\r\n   * @param {string} key - Cache key\r\n   * @returns {boolean}\r\n   */\r\n  has(key) {\r\n    return this.get(key) !== null\r\n  }\r\n\r\n  /**\r\n   * Delete cache\r\n   * @param {string} key - Cache key\r\n   */\r\n  delete(key) {\r\n    this.store.delete(key)\r\n  }\r\n\r\n  /**\r\n   * Clear all cache\r\n   */\r\n  clear() {\r\n    this.store.clear()\r\n  }\r\n\r\n  /**\r\n   * Get or set cache\r\n   * @param {string} key - Cache key\r\n   * @param {Function} fetcher - Async function to fetch data if not cached\r\n   * @param {number} ttl - Time to live in milliseconds\r\n   * @returns {Promise<any>}\r\n   */\r\n  async getOrSet(key, fetcher, ttl = 5 * 60 * 1000) {\r\n    const cached = this.get(key)\r\n    \r\n    if (cached !== null) {\r\n      return cached\r\n    }\r\n\r\n    const value = await fetcher()\r\n    this.set(key, value, ttl)\r\n    return value\r\n  }\r\n}\r\n\r\n// Export singleton instance\r\nexport default new Cache()\r\n"],"mappings":"AAAA;AACA;AACA;AACA,MAAMA,KAAK,CAAC;EACVC,WAAWA,CAAA,EAAG;IACZ,IAAI,CAACC,KAAK,GAAG,IAAIC,GAAG,CAAC,CAAC;EACxB;;EAEA;AACF;AACA;AACA;AACA;AACA;EACEC,GAAGA,CAACC,GAAG,EAAEC,KAAK,EAAEC,GAAG,GAAG,CAAC,GAAG,EAAE,GAAG,IAAI,EAAE;IACnC,MAAMC,MAAM,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,GAAGH,GAAG;IAC/B,IAAI,CAACL,KAAK,CAACE,GAAG,CAACC,GAAG,EAAE;MAAEC,KAAK;MAAEE;IAAO,CAAC,CAAC;EACxC;;EAEA;AACF;AACA;AACA;AACA;EACEG,GAAGA,CAACN,GAAG,EAAE;IACP,MAAMO,IAAI,GAAG,IAAI,CAACV,KAAK,CAACS,GAAG,CAACN,GAAG,CAAC;IAEhC,IAAI,CAACO,IAAI,EAAE;MACT,OAAO,IAAI;IACb;;IAEA;IACA,IAAIH,IAAI,CAACC,GAAG,CAAC,CAAC,GAAGE,IAAI,CAACJ,MAAM,EAAE;MAC5B,IAAI,CAACN,KAAK,CAACW,MAAM,CAACR,GAAG,CAAC;MACtB,OAAO,IAAI;IACb;IAEA,OAAOO,IAAI,CAACN,KAAK;EACnB;;EAEA;AACF;AACA;AACA;AACA;EACEQ,GAAGA,CAACT,GAAG,EAAE;IACP,OAAO,IAAI,CAACM,GAAG,CAACN,GAAG,CAAC,KAAK,IAAI;EAC/B;;EAEA;AACF;AACA;AACA;EACEQ,MAAMA,CAACR,GAAG,EAAE;IACV,IAAI,CAACH,KAAK,CAACW,MAAM,CAACR,GAAG,CAAC;EACxB;;EAEA;AACF;AACA;EACEU,KAAKA,CAAA,EAAG;IACN,IAAI,CAACb,KAAK,CAACa,KAAK,CAAC,CAAC;EACpB;;EAEA;AACF;AACA;AACA;AACA;AACA;AACA;EACE,MAAMC,QAAQA,CAACX,GAAG,EAAEY,OAAO,EAAEV,GAAG,GAAG,CAAC,GAAG,EAAE,GAAG,IAAI,EAAE;IAChD,MAAMW,MAAM,GAAG,IAAI,CAACP,GAAG,CAACN,GAAG,CAAC;IAE5B,IAAIa,MAAM,KAAK,IAAI,EAAE;MACnB,OAAOA,MAAM;IACf;IAEA,MAAMZ,KAAK,GAAG,MAAMW,OAAO,CAAC,CAAC;IAC7B,IAAI,CAACb,GAAG,CAACC,GAAG,EAAEC,KAAK,EAAEC,GAAG,CAAC;IACzB,OAAOD,KAAK;EACd;AACF;;AAEA;AACA,eAAe,IAAIN,KAAK,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}