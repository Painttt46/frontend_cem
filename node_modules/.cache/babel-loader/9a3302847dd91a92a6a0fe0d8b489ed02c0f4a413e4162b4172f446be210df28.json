{"ast":null,"code":"import { createRouter, createWebHistory } from 'vue-router';\nimport { usePermissions } from '@/composables/usePermissions';\n\n// Lazy load components\nconst LoginPage = () => import('../views/LoginPage.vue');\nconst TwoFAAuthPage = () => import('../views/TwoFAAuthPage.vue');\nconst ProfileView = () => import('../views/profile/ProfileView.vue');\nconst CarBookingHome = () => import('../views/car_booking/car_booking.vue');\nconst LeaveWork = () => import('../views/leave_work/LeaveWork.vue');\nconst DailyWork = () => import('../views/daily_work/DailyWork.vue');\nconst Projects = () => import('../views/projects/Projects.vue');\nconst ManagementView = () => import('../views/ManagementView.vue');\nconst UserManagement = () => import('../views/management/UserManagement.vue');\nconst TaskManagement = () => import('../views/management/TaskManagement.vue');\nconst ProjectsView = () => import('../views/management/ProjectsView.vue');\nconst DailyWorkManagement = () => import('../views/management/DailyWorkManagement.vue');\nconst SystemSettings = () => import('../views/management/SystemSettings.vue');\nconst RolePermissions = () => import('../views/management/RolePermissions.vue');\nconst LeaveManagement = () => import('../views/management/LeaveManagement.vue');\nconst Dashboard = () => import('../views/management/Dashboard.vue');\nconst routes = [{\n  path: '/',\n  name: '',\n  redirect: 'daily_work'\n}, {\n  path: '/login',\n  name: 'login',\n  component: LoginPage,\n  meta: {\n    title: 'ลงชื่อเข้าใช้ - Gent-CEM'\n  }\n}, {\n  path: '/profile',\n  name: 'profile',\n  component: ProfileView,\n  meta: {\n    requiresAuth: true,\n    title: 'โปรไฟล์ - Gent-CEM'\n  }\n}, {\n  path: '/two-authentication',\n  name: 'two-authentication',\n  component: TwoFAAuthPage,\n  meta: {\n    title: 'ยืนยันตัวตน 2 ขั้นตอน - Gent-CEM'\n  }\n}, {\n  path: '/car_booking',\n  name: 'car booking',\n  component: CarBookingHome,\n  meta: {\n    requiresAuth: true,\n    title: 'ระบบเเจ้งใช้งานรถ - Gent-CEM'\n  }\n}, {\n  path: '/leave_work',\n  name: 'leave work',\n  component: LeaveWork,\n  meta: {\n    requiresAuth: true,\n    title: 'ระบบแจ้งลางาน - Gent-CEM'\n  }\n}, {\n  path: '/daily_work',\n  name: 'daily work',\n  component: DailyWork,\n  meta: {\n    requiresAuth: true,\n    title: 'ระบบลงงานรายวัน - Gent-CEM'\n  }\n}, {\n  path: '/projects',\n  name: 'projects-main',\n  component: Projects,\n  meta: {\n    requiresAuth: true,\n    title: 'โครงการ - Gent-CEM'\n  }\n}, {\n  path: '/management',\n  name: 'management',\n  component: ManagementView,\n  meta: {\n    requiresAuth: true,\n    title: 'ระบบจัดการ - Gent-CEM'\n  }\n}, {\n  path: '/management/users',\n  name: 'user-management',\n  component: UserManagement,\n  meta: {\n    requiresAuth: true,\n    title: 'จัดการผู้ใช้งาน - Gent-CEM'\n  }\n}, {\n  path: '/management/tasks',\n  name: 'task-management',\n  component: TaskManagement,\n  meta: {\n    requiresAuth: true,\n    title: 'จัดการงาน - Gent-CEM'\n  }\n}, {\n  path: '/management/projects',\n  name: 'management-projects',\n  component: ProjectsView,\n  meta: {\n    requiresAuth: true,\n    title: 'รายการงาน - Gent-CEM'\n  }\n}, {\n  path: '/management/daily-work',\n  name: 'daily-work-management',\n  component: DailyWorkManagement,\n  meta: {\n    requiresAuth: true,\n    title: 'งานรายวัน - Gent-CEM'\n  }\n}, {\n  path: '/management/settings',\n  name: 'system-settings',\n  component: SystemSettings,\n  meta: {\n    requiresAuth: true,\n    title: 'ตั้งค่าระบบ - Gent-CEM'\n  }\n}, {\n  path: '/management/settings/role-permissions',\n  name: 'role-permissions',\n  component: RolePermissions,\n  meta: {\n    requiresAuth: true,\n    title: 'จัดการสิทธิ์การเข้าถึง - Gent-CEM'\n  }\n}, {\n  path: '/management/leave',\n  name: 'leave-management',\n  component: LeaveManagement,\n  meta: {\n    requiresAuth: true,\n    title: 'จัดการการลางาน - Gent-CEM'\n  }\n}, {\n  path: '/management/dashboard',\n  name: 'dashboard',\n  component: Dashboard,\n  meta: {\n    requiresAuth: true,\n    title: 'Dashboard - Gent-CEM'\n  }\n}, {\n  path: '/:pathMatch(.*)*',\n  redirect: () => {\n    // Redirect to home for any undefined routes\n    return '/daily_work';\n  }\n}];\nconst router = createRouter({\n  mode: 'history',\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n});\n\n// ✅ Route Guard ตรวจสอบการ Login และสิทธิ์การเข้าถึง\nrouter.beforeEach(async (to, from, next) => {\n  const userId = localStorage.getItem(\"soc_user_id\");\n  const role = localStorage.getItem(\"soc_role\");\n  const token = localStorage.getItem(\"soc_token\");\n\n  // ถ้าไปหน้า login แต่มี token อยู่แล้ว → redirect ไป daily_work\n  if (to.path === '/login' && token && userId) {\n    next(\"/daily_work\");\n    return;\n  }\n  if (to.meta.requiresAuth) {\n    if (!userId || !token) {\n      localStorage.clear();\n      sessionStorage.clear();\n      next(\"/login\");\n      return;\n    }\n\n    // Check if token is expired\n    try {\n      const tokenParts = token.split('.');\n      if (tokenParts.length === 3) {\n        const payload = JSON.parse(atob(tokenParts[1]));\n        if (Date.now() >= payload.exp * 1000) {\n          localStorage.clear();\n          sessionStorage.clear();\n          next(\"/login\");\n          return;\n        }\n      }\n    } catch (e) {\n      localStorage.clear();\n      sessionStorage.clear();\n      next(\"/login\");\n      return;\n    }\n\n    // Skip permission check for basic pages (fix race condition after login)\n    const skipPermissionCheck = ['/profile', '/login', '/two-authentication', '/daily_work'];\n    if (role && !skipPermissionCheck.includes(to.path)) {\n      const {\n        loadPermissions,\n        canAccessRoute,\n        permissionsLoaded\n      } = usePermissions();\n      if (!permissionsLoaded.value) {\n        const loaded = await loadPermissions();\n        // ถ้า load ไม่สำเร็จ ให้ผ่านไปก่อน (ไม่ block user)\n        if (!loaded) {\n          next();\n          return;\n        }\n      }\n      if (!canAccessRoute(to.path)) {\n        next(\"/daily_work\");\n        return;\n      }\n    }\n    next();\n  } else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","usePermissions","LoginPage","TwoFAAuthPage","ProfileView","CarBookingHome","LeaveWork","DailyWork","Projects","ManagementView","UserManagement","TaskManagement","ProjectsView","DailyWorkManagement","SystemSettings","RolePermissions","LeaveManagement","Dashboard","routes","path","name","redirect","component","meta","title","requiresAuth","router","mode","history","process","env","BASE_URL","beforeEach","to","from","next","userId","localStorage","getItem","role","token","clear","sessionStorage","tokenParts","split","length","payload","JSON","parse","atob","Date","now","exp","e","skipPermissionCheck","includes","loadPermissions","canAccessRoute","permissionsLoaded","value","loaded"],"sources":["D:/frontend_cem/src/router/index.js"],"sourcesContent":["import { createRouter, createWebHistory } from 'vue-router'\r\nimport { usePermissions } from '@/composables/usePermissions'\r\n\r\n// Lazy load components\r\nconst LoginPage = () => import('../views/LoginPage.vue')\r\nconst TwoFAAuthPage = () => import('../views/TwoFAAuthPage.vue')\r\nconst ProfileView = () => import('../views/profile/ProfileView.vue')\r\nconst CarBookingHome = () => import('../views/car_booking/car_booking.vue')\r\nconst LeaveWork = () => import('../views/leave_work/LeaveWork.vue')\r\nconst DailyWork = () => import('../views/daily_work/DailyWork.vue')\r\nconst Projects = () => import('../views/projects/Projects.vue')\r\nconst ManagementView = () => import('../views/ManagementView.vue')\r\nconst UserManagement = () => import('../views/management/UserManagement.vue')\r\nconst TaskManagement = () => import('../views/management/TaskManagement.vue')\r\nconst ProjectsView = () => import('../views/management/ProjectsView.vue')\r\nconst DailyWorkManagement = () => import('../views/management/DailyWorkManagement.vue')\r\nconst SystemSettings = () => import('../views/management/SystemSettings.vue')\r\nconst RolePermissions = () => import('../views/management/RolePermissions.vue')\r\nconst LeaveManagement = () => import('../views/management/LeaveManagement.vue')\r\nconst Dashboard = () => import('../views/management/Dashboard.vue')\r\n\r\nconst routes = [\r\n  {\r\n    path: '/',\r\n    name: '',\r\n    redirect: 'daily_work',\r\n  },\r\n  {\r\n    path: '/login',\r\n    name: 'login',\r\n    component: LoginPage,\r\n    meta: { title: 'ลงชื่อเข้าใช้ - Gent-CEM' },\r\n  },\r\n  {\r\n    path: '/profile',\r\n    name: 'profile',\r\n    component: ProfileView,\r\n    meta: { requiresAuth: true, title: 'โปรไฟล์ - Gent-CEM' },\r\n  },\r\n  {\r\n    path: '/two-authentication',\r\n    name: 'two-authentication',\r\n    component: TwoFAAuthPage,\r\n    meta: { title: 'ยืนยันตัวตน 2 ขั้นตอน - Gent-CEM' },\r\n  },\r\n  {\r\n    path: '/car_booking',\r\n    name: 'car booking',\r\n    component: CarBookingHome,\r\n    meta: { requiresAuth: true, title: 'ระบบเเจ้งใช้งานรถ - Gent-CEM' },\r\n  },\r\n  {\r\n    path: '/leave_work',\r\n    name: 'leave work',\r\n    component: LeaveWork,\r\n    meta: { requiresAuth: true, title: 'ระบบแจ้งลางาน - Gent-CEM' },\r\n  },\r\n  {\r\n    path: '/daily_work',\r\n    name: 'daily work',\r\n    component: DailyWork,\r\n    meta: { requiresAuth: true, title: 'ระบบลงงานรายวัน - Gent-CEM' },\r\n  },\r\n  {\r\n    path: '/projects',\r\n    name: 'projects-main',\r\n    component: Projects,\r\n    meta: { requiresAuth: true, title: 'โครงการ - Gent-CEM' },\r\n  },\r\n  {\r\n    path: '/management',\r\n    name: 'management',\r\n    component: ManagementView,\r\n    meta: { requiresAuth: true, title: 'ระบบจัดการ - Gent-CEM' },\r\n  },\r\n  {\r\n    path: '/management/users',\r\n    name: 'user-management',\r\n    component: UserManagement,\r\n    meta: { requiresAuth: true, title: 'จัดการผู้ใช้งาน - Gent-CEM' },\r\n  },\r\n  {\r\n    path: '/management/tasks',\r\n    name: 'task-management',\r\n    component: TaskManagement,\r\n    meta: { requiresAuth: true, title: 'จัดการงาน - Gent-CEM' },\r\n  },\r\n  {\r\n    path: '/management/projects',\r\n    name: 'management-projects',\r\n    component: ProjectsView,\r\n    meta: { requiresAuth: true, title: 'รายการงาน - Gent-CEM' },\r\n  },\r\n  {\r\n    path: '/management/daily-work',\r\n    name: 'daily-work-management',\r\n    component: DailyWorkManagement,\r\n    meta: { requiresAuth: true, title: 'งานรายวัน - Gent-CEM' },\r\n  },\r\n  {\r\n    path: '/management/settings',\r\n    name: 'system-settings',\r\n    component: SystemSettings,\r\n    meta: { requiresAuth: true, title: 'ตั้งค่าระบบ - Gent-CEM' },\r\n  },\r\n  {\r\n    path: '/management/settings/role-permissions',\r\n    name: 'role-permissions',\r\n    component: RolePermissions,\r\n    meta: { requiresAuth: true, title: 'จัดการสิทธิ์การเข้าถึง - Gent-CEM' },\r\n  },\r\n  {\r\n    path: '/management/leave',\r\n    name: 'leave-management',\r\n    component: LeaveManagement,\r\n    meta: { requiresAuth: true, title: 'จัดการการลางาน - Gent-CEM' },\r\n  },\r\n  {\r\n    path: '/management/dashboard',\r\n    name: 'dashboard',\r\n    component: Dashboard,\r\n    meta: { requiresAuth: true, title: 'Dashboard - Gent-CEM' },\r\n  },\r\n  {\r\n    path: '/:pathMatch(.*)*',\r\n    redirect: () => {\r\n      // Redirect to home for any undefined routes\r\n      return '/daily_work'\r\n    }\r\n  }\r\n];\r\n\r\nconst router = createRouter({\r\n  mode: 'history',\r\n  history: createWebHistory(process.env.BASE_URL),\r\n  routes\r\n});\r\n\r\n// ✅ Route Guard ตรวจสอบการ Login และสิทธิ์การเข้าถึง\r\nrouter.beforeEach(async (to, from, next) => {\r\n  const userId = localStorage.getItem(\"soc_user_id\");\r\n  const role = localStorage.getItem(\"soc_role\");\r\n  const token = localStorage.getItem(\"soc_token\");\r\n\r\n  // ถ้าไปหน้า login แต่มี token อยู่แล้ว → redirect ไป daily_work\r\n  if (to.path === '/login' && token && userId) {\r\n    next(\"/daily_work\");\r\n    return;\r\n  }\r\n\r\n  if (to.meta.requiresAuth) {\r\n    if (!userId || !token) {\r\n      localStorage.clear();\r\n      sessionStorage.clear();\r\n      next(\"/login\");\r\n      return;\r\n    }\r\n\r\n    // Check if token is expired\r\n    try {\r\n      const tokenParts = token.split('.');\r\n      if (tokenParts.length === 3) {\r\n        const payload = JSON.parse(atob(tokenParts[1]));\r\n        if (Date.now() >= payload.exp * 1000) {\r\n          localStorage.clear();\r\n          sessionStorage.clear();\r\n          next(\"/login\");\r\n          return;\r\n        }\r\n      }\r\n    } catch (e) {\r\n      localStorage.clear();\r\n      sessionStorage.clear();\r\n      next(\"/login\");\r\n      return;\r\n    }\r\n\r\n    // Skip permission check for basic pages (fix race condition after login)\r\n    const skipPermissionCheck = ['/profile', '/login', '/two-authentication', '/daily_work'];\r\n    if (role && !skipPermissionCheck.includes(to.path)) {\r\n      const { loadPermissions, canAccessRoute, permissionsLoaded } = usePermissions();\r\n\r\n      if (!permissionsLoaded.value) {\r\n        const loaded = await loadPermissions();\r\n        // ถ้า load ไม่สำเร็จ ให้ผ่านไปก่อน (ไม่ block user)\r\n        if (!loaded) {\r\n          next();\r\n          return;\r\n        }\r\n      }\r\n\r\n      if (!canAccessRoute(to.path)) {\r\n        next(\"/daily_work\");\r\n        return;\r\n      }\r\n    }\r\n\r\n    next();\r\n  } else {\r\n    next();\r\n  }\r\n});\r\n\r\nexport default router;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}