{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, normalizeStyle as _normalizeStyle, createBlock as _createBlock, resolveDirective as _resolveDirective, withDirectives as _withDirectives, withModifiers as _withModifiers, renderList as _renderList, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  key: 0,\n  class: \"empty-state\"\n};\nconst _hoisted_2 = {\n  style: {\n    \"text-align\": \"center\"\n  }\n};\nconst _hoisted_3 = {\n  class: \"task-name\"\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"so-number\"\n};\nconst _hoisted_5 = {\n  key: 1,\n  class: \"text-muted\"\n};\nconst _hoisted_6 = {\n  key: 0,\n  class: \"sale-info\"\n};\nconst _hoisted_7 = {\n  key: 1,\n  class: \"text-muted\"\n};\nconst _hoisted_8 = {\n  class: \"badge-container\"\n};\nconst _hoisted_9 = {\n  key: 1,\n  class: \"no-status\"\n};\nconst _hoisted_10 = {\n  class: \"action-buttons\"\n};\nconst _hoisted_11 = {\n  key: 0,\n  class: \"attachments-info\"\n};\nconst _hoisted_12 = {\n  key: 1,\n  class: \"no-files\"\n};\nconst _hoisted_13 = {\n  class: \"dialog-header\"\n};\nconst _hoisted_14 = {\n  class: \"dialog-body\"\n};\nconst _hoisted_15 = {\n  class: \"work-description\"\n};\nconst _hoisted_16 = {\n  key: 0,\n  class: \"files-list\"\n};\nconst _hoisted_17 = {\n  class: \"file-info\"\n};\nconst _hoisted_18 = [\"src\", \"onClick\"];\nconst _hoisted_19 = {\n  key: 1,\n  class: \"pi pi-file file-icon\"\n};\nconst _hoisted_20 = {\n  class: \"file-name\"\n};\nconst _hoisted_21 = {\n  key: 1,\n  class: \"no-files\"\n};\nconst _hoisted_22 = [\"src\"];\nconst _hoisted_23 = {\n  key: 0,\n  class: \"loading-state\"\n};\nconst _hoisted_24 = {\n  key: 1,\n  class: \"empty-works\"\n};\nconst _hoisted_25 = {\n  key: 2,\n  class: \"works-container\"\n};\nconst _hoisted_26 = {\n  class: \"works-summary\"\n};\nconst _hoisted_27 = {\n  class: \"summary-item\"\n};\nconst _hoisted_28 = {\n  class: \"summary-item\"\n};\nconst _hoisted_29 = {\n  class: \"works-filters\"\n};\nconst _hoisted_30 = {\n  class: \"filter-group\"\n};\nconst _hoisted_31 = {\n  class: \"filter-group\"\n};\nconst _hoisted_32 = {\n  class: \"works-table-wrapper\"\n};\nconst _hoisted_33 = {\n  class: \"works-table\"\n};\nconst _hoisted_34 = {\n  class: \"text-center\"\n};\nconst _hoisted_35 = [\"onClick\"];\nconst _hoisted_36 = {\n  class: \"text-center\"\n};\nconst _hoisted_37 = {\n  class: \"text-center\"\n};\nconst _hoisted_38 = {\n  class: \"text-center\"\n};\nconst _hoisted_39 = {\n  key: 1\n};\nconst _hoisted_40 = {\n  key: 0,\n  class: \"files-list\"\n};\nconst _hoisted_41 = {\n  class: \"file-info\"\n};\nconst _hoisted_42 = [\"src\", \"onClick\"];\nconst _hoisted_43 = {\n  key: 1,\n  class: \"pi pi-file file-icon\"\n};\nconst _hoisted_44 = {\n  class: \"file-name\"\n};\nconst _hoisted_45 = {\n  class: \"form-grid\"\n};\nconst _hoisted_46 = {\n  class: \"input-group\"\n};\nconst _hoisted_47 = {\n  class: \"input-group\"\n};\nconst _hoisted_48 = {\n  class: \"input-group\"\n};\nconst _hoisted_49 = {\n  class: \"input-group\"\n};\nconst _hoisted_50 = {\n  class: \"input-group\"\n};\nconst _hoisted_51 = {\n  class: \"input-group\"\n};\nconst _hoisted_52 = {\n  class: \"input-group\"\n};\nconst _hoisted_53 = {\n  key: 0\n};\nconst _hoisted_54 = {\n  class: \"input-group\"\n};\nconst _hoisted_55 = {\n  key: 0\n};\nconst _hoisted_56 = {\n  class: \"input-group full-width\"\n};\nconst _hoisted_57 = {\n  class: \"input-group full-width\"\n};\nconst _hoisted_58 = {\n  class: \"file-upload-section\"\n};\nconst _hoisted_59 = {\n  key: 0,\n  class: \"existing-files\"\n};\nconst _hoisted_60 = {\n  class: \"file-name\"\n};\nconst _hoisted_61 = {\n  key: 1,\n  class: \"new-files\"\n};\nconst _hoisted_62 = {\n  class: \"file-name\"\n};\nconst _hoisted_63 = {\n  class: \"form-actions\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Badge = _resolveComponent(\"Badge\");\n  const _component_Column = _resolveComponent(\"Column\");\n  const _component_Button = _resolveComponent(\"Button\");\n  const _component_EnhancedDataTable = _resolveComponent(\"EnhancedDataTable\");\n  const _component_Card = _resolveComponent(\"Card\");\n  const _component_Dialog = _resolveComponent(\"Dialog\");\n  const _component_Dropdown = _resolveComponent(\"Dropdown\");\n  const _component_InputText = _resolveComponent(\"InputText\");\n  const _component_Calendar = _resolveComponent(\"Calendar\");\n  const _component_Textarea = _resolveComponent(\"Textarea\");\n  const _component_UserInfoDialog = _resolveComponent(\"UserInfoDialog\");\n  const _directive_tooltip = _resolveDirective(\"tooltip\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_Card, {\n    class: \"history-card\"\n  }, {\n    content: _withCtx(() => [$data.tasks.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [...(_cache[25] || (_cache[25] = [_createElementVNode(\"i\", {\n      class: \"pi pi-briefcase\",\n      style: {\n        \"font-size\": \"4rem\",\n        \"color\": \"#ccc\"\n      }\n    }, null, -1 /* CACHED */), _createElementVNode(\"p\", null, \"ยังไม่มีงานที่เพิ่มไว้\", -1 /* CACHED */)]))])) : $data.categories.length > 0 ? (_openBlock(), _createBlock(_component_EnhancedDataTable, {\n      key: 1,\n      data: $options.enrichedTasks,\n      paginator: true,\n      rows: 10,\n      rowsPerPageOptions: [5, 10, 20],\n      responsiveLayout: \"scroll\",\n      class: \"history-table\",\n      stripedRows: \"\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_Column, {\n        field: \"id\",\n        header: \"รหัสงาน\",\n        sortable: true\n      }, {\n        body: _withCtx(slotProps => [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_Badge, {\n          value: slotProps.data.id,\n          class: \"custom-id-badge\"\n        }, null, 8 /* PROPS */, [\"value\"])])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_Column, {\n        field: \"task_name\",\n        header: \"ชื่อโครงการ\",\n        sortable: true,\n        style: {\n          \"min-width\": \"150px\",\n          \"max-width\": \"250px\"\n        }\n      }, {\n        body: _withCtx(slotProps => [_createElementVNode(\"div\", _hoisted_3, _toDisplayString(slotProps.data.task_name), 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_Column, {\n        field: \"so_number\",\n        header: \"เลข SO\",\n        class: \"hide-mobile\"\n      }, {\n        body: _withCtx(slotProps => [slotProps.data.so_number ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, _toDisplayString(slotProps.data.so_number), 1 /* TEXT */)) : (_openBlock(), _createElementBlock(\"span\", _hoisted_5, \"-\"))]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_Column, {\n        field: \"contract_number\",\n        header: \"เลขที่สัญญา\",\n        class: \"hide-mobile\"\n      }, {\n        body: _withCtx(slotProps => [_createTextVNode(_toDisplayString(slotProps.data.contract_number || '-'), 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_Column, {\n        field: \"sale_owner\",\n        header: \"Sale เจ้าของงาน\",\n        class: \"hide-mobile\"\n      }, {\n        body: _withCtx(slotProps => [slotProps.data.sale_owner ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [_cache[26] || (_cache[26] = _createElementVNode(\"i\", {\n          class: \"pi pi-user\"\n        }, null, -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString(slotProps.data.sale_owner), 1 /* TEXT */)])) : (_openBlock(), _createElementBlock(\"span\", _hoisted_7, \"-\"))]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_Column, {\n        field: \"category\",\n        header: \"หมวดหมู่\",\n        sortable: true,\n        style: {\n          \"min-width\": \"120px\",\n          \"text-align\": \"center\"\n        }\n      }, {\n        body: _withCtx(slotProps => [_createVNode(_component_Badge, {\n          value: $options.getCategoryLabel(slotProps.data.category),\n          style: _normalizeStyle({\n            backgroundColor: $options.getCategoryColor(slotProps.data.category),\n            color: '#fff',\n            fontWeight: 'bold'\n          }),\n          class: \"category-badge\"\n        }, null, 8 /* PROPS */, [\"value\", \"style\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_Column, {\n        field: \"project_start_date\",\n        header: \"วันเริ่มโครงการ\",\n        sortable: true\n      }, {\n        body: _withCtx(slotProps => [_createTextVNode(_toDisplayString(slotProps.data.project_start_date ? $options.formatDate(slotProps.data.project_start_date) : '-'), 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_Column, {\n        field: \"project_end_date\",\n        header: \"วันสิ้นสุดโครงการ\",\n        sortable: true,\n        class: \"hide-mobile\"\n      }, {\n        body: _withCtx(slotProps => [_createTextVNode(_toDisplayString(slotProps.data.project_end_date ? $options.formatDate(slotProps.data.project_end_date) : '-'), 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_Column, {\n        header: \"รายละเอียด\",\n        class: \"hide-mobile\"\n      }, {\n        body: _withCtx(slotProps => [_createVNode(_component_Button, {\n          label: \"ดูรายละเอียด\",\n          icon: \"pi pi-info-circle\",\n          size: \"small\",\n          severity: \"info\",\n          outlined: \"\",\n          onClick: $event => $options.showTaskDetails(slotProps.data),\n          disabled: !slotProps.data.description\n        }, null, 8 /* PROPS */, [\"onClick\", \"disabled\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_Column, {\n        header: \"สถานะ\",\n        style: {\n          \"text-align\": \"center\",\n          \"min-width\": \"140px\"\n        }\n      }, {\n        body: _withCtx(slotProps => [_createElementVNode(\"div\", _hoisted_8, [slotProps.data.status && $data.workStatuses.find(s => s.value === slotProps.data.status) ? (_openBlock(), _createBlock(_component_Badge, {\n          key: 0,\n          value: $options.getStatusLabel(slotProps.data.status),\n          style: _normalizeStyle({\n            backgroundColor: $options.getStatusColor(slotProps.data.status),\n            color: '#fff',\n            fontWeight: 'bold'\n          })\n        }, null, 8 /* PROPS */, [\"value\", \"style\"])) : (_openBlock(), _createElementBlock(\"span\", _hoisted_9, \"-\"))])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_Column, {\n        header: \"จัดการ\",\n        style: {\n          \"width\": \"200px\"\n        }\n      }, {\n        body: _withCtx(slotProps => [_createElementVNode(\"div\", _hoisted_10, [_withDirectives(_createVNode(_component_Button, {\n          icon: \"pi pi-eye\",\n          size: \"small\",\n          severity: \"info\",\n          outlined: \"\",\n          onClick: $event => $options.viewTaskWorks(slotProps.data)\n        }, null, 8 /* PROPS */, [\"onClick\"]), [[_directive_tooltip, 'ดูงานรายวัน']]), _withDirectives(_createVNode(_component_Button, {\n          icon: \"pi pi-pencil\",\n          size: \"small\",\n          severity: \"warning\",\n          outlined: \"\",\n          onClick: $event => $options.editTask(slotProps.data)\n        }, null, 8 /* PROPS */, [\"onClick\"]), [[_directive_tooltip, 'แก้ไข']]), _withDirectives(_createVNode(_component_Button, {\n          icon: \"pi pi-trash\",\n          size: \"small\",\n          severity: \"danger\",\n          outlined: \"\",\n          onClick: $event => $options.confirmDeleteTask(slotProps.data)\n        }, null, 8 /* PROPS */, [\"onClick\"]), [[_directive_tooltip, 'ลบ']])])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_Column, {\n        header: \"ไฟล์แนบ\",\n        style: {\n          \"width\": \"80px\"\n        }\n      }, {\n        body: _withCtx(slotProps => [$options.hasFiles(slotProps.data) ? (_openBlock(), _createElementBlock(\"div\", _hoisted_11, [_withDirectives(_createVNode(_component_Button, {\n          icon: \"pi pi-paperclip\",\n          size: \"small\",\n          severity: \"info\",\n          outlined: \"\",\n          onClick: $event => $options.downloadTaskFiles(slotProps.data)\n        }, null, 8 /* PROPS */, [\"onClick\"]), [[_directive_tooltip, `${slotProps.data.files.length} ไฟล์`]])])) : (_openBlock(), _createElementBlock(\"span\", _hoisted_12, \"-\"))]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"data\"])) : _createCommentVNode(\"v-if\", true)]),\n    _: 1 /* STABLE */\n  }), _createCommentVNode(\" Dialog สำหรับแสดงรายละเอียดงาน \"), $data.detailDialog ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    class: \"dialog-overlay\",\n    onClick: _cache[2] || (_cache[2] = $event => $data.detailDialog = false)\n  }, [_createElementVNode(\"div\", {\n    class: \"dialog-content\",\n    onClick: _cache[1] || (_cache[1] = _withModifiers(() => {}, [\"stop\"]))\n  }, [_createElementVNode(\"div\", _hoisted_13, [_cache[27] || (_cache[27] = _createElementVNode(\"h3\", null, \"รายละเอียดงาน\", -1 /* CACHED */)), _createElementVNode(\"button\", {\n    class: \"dialog-close\",\n    onClick: _cache[0] || (_cache[0] = $event => $data.detailDialog = false)\n  }, \"×\")]), _createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"div\", _hoisted_15, _toDisplayString($data.selectedTask?.description || 'ไม่มีรายละเอียด'), 1 /* TEXT */)])])])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Files Dialog \"), _createVNode(_component_Dialog, {\n    visible: $data.filesDialog,\n    \"onUpdate:visible\": _cache[3] || (_cache[3] = $event => $data.filesDialog = $event),\n    modal: \"\",\n    header: \"ไฟล์แนบ\",\n    style: {\n      width: '90vw',\n      maxWidth: '800px'\n    },\n    draggable: false\n  }, {\n    default: _withCtx(() => [$data.selectedTaskFiles && $data.selectedTaskFiles.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_16, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.selectedTaskFiles, (file, index) => {\n      return _openBlock(), _createElementBlock(\"div\", {\n        key: index,\n        class: \"file-item\"\n      }, [_createElementVNode(\"div\", _hoisted_17, [$options.isImageFile(file) ? (_openBlock(), _createElementBlock(\"img\", {\n        key: 0,\n        src: $options.getFileUrl(file),\n        class: \"file-preview\",\n        onClick: $event => $options.viewFullImage(file)\n      }, null, 8 /* PROPS */, _hoisted_18)) : (_openBlock(), _createElementBlock(\"i\", _hoisted_19)), _createElementVNode(\"span\", _hoisted_20, _toDisplayString(file), 1 /* TEXT */)]), _withDirectives(_createVNode(_component_Button, {\n        icon: \"pi pi-download\",\n        size: \"small\",\n        severity: \"success\",\n        outlined: \"\",\n        onClick: $event => $options.downloadFile(file)\n      }, null, 8 /* PROPS */, [\"onClick\"]), [[_directive_tooltip, 'ดาวน์โหลด']])]);\n    }), 128 /* KEYED_FRAGMENT */))])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_21, [...(_cache[28] || (_cache[28] = [_createElementVNode(\"p\", null, \"ไม่มีไฟล์แนบ\", -1 /* CACHED */)]))]))]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"visible\"]), _createCommentVNode(\" Full Image Dialog \"), _createVNode(_component_Dialog, {\n    visible: $data.fullImageDialog,\n    \"onUpdate:visible\": _cache[4] || (_cache[4] = $event => $data.fullImageDialog = $event),\n    modal: \"\",\n    header: \"รูปภาพ\",\n    style: {\n      width: '90vw',\n      maxWidth: '900px'\n    },\n    draggable: false\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"img\", {\n      src: $data.fullImageUrl,\n      class: \"full-image\"\n    }, null, 8 /* PROPS */, _hoisted_22)]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"visible\"]), _createCommentVNode(\" Task Works Dialog \"), _createVNode(_component_Dialog, {\n    visible: $data.taskWorksDialog,\n    \"onUpdate:visible\": _cache[8] || (_cache[8] = $event => $data.taskWorksDialog = $event),\n    modal: \"\",\n    header: `งานรายวันของโครงการ: ${$data.selectedTask?.task_name || ''}`,\n    style: {\n      width: '90vw',\n      maxWidth: '1200px'\n    },\n    draggable: false,\n    position: \"center\"\n  }, {\n    footer: _withCtx(() => [_createVNode(_component_Button, {\n      label: \"ปิด\",\n      icon: \"pi pi-times\",\n      onClick: _cache[7] || (_cache[7] = $event => $data.taskWorksDialog = false)\n    })]),\n    default: _withCtx(() => [$data.loadingWorks ? (_openBlock(), _createElementBlock(\"div\", _hoisted_23, [...(_cache[29] || (_cache[29] = [_createElementVNode(\"i\", {\n      class: \"pi pi-spin pi-spinner\",\n      style: {\n        \"font-size\": \"2rem\"\n      }\n    }, null, -1 /* CACHED */), _createElementVNode(\"p\", null, \"กำลังโหลดข้อมูล...\", -1 /* CACHED */)]))])) : $data.taskWorks.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_24, [...(_cache[30] || (_cache[30] = [_createElementVNode(\"i\", {\n      class: \"pi pi-inbox\",\n      style: {\n        \"font-size\": \"3rem\",\n        \"color\": \"#ccc\"\n      }\n    }, null, -1 /* CACHED */), _createElementVNode(\"p\", null, \"ยังไม่มีการลงงานรายวันสำหรับโครงการนี้\", -1 /* CACHED */)]))])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_25, [_createElementVNode(\"div\", _hoisted_26, [_createElementVNode(\"div\", _hoisted_27, [_cache[33] || (_cache[33] = _createElementVNode(\"i\", {\n      class: \"pi pi-calendar\"\n    }, null, -1 /* CACHED */)), _createElementVNode(\"span\", null, [_cache[31] || (_cache[31] = _createTextVNode(\"ทั้งหมด: \", -1 /* CACHED */)), _createElementVNode(\"strong\", null, _toDisplayString($data.taskWorks.length), 1 /* TEXT */), _cache[32] || (_cache[32] = _createTextVNode(\" รายการ\", -1 /* CACHED */))])]), _createElementVNode(\"div\", _hoisted_28, [_cache[35] || (_cache[35] = _createElementVNode(\"i\", {\n      class: \"pi pi-clock\"\n    }, null, -1 /* CACHED */)), _createElementVNode(\"span\", null, [_cache[34] || (_cache[34] = _createTextVNode(\"รวม: \", -1 /* CACHED */)), _createElementVNode(\"strong\", null, _toDisplayString($options.getTotalHours()), 1 /* TEXT */)])])]), _createElementVNode(\"div\", _hoisted_29, [_createElementVNode(\"div\", _hoisted_30, [_cache[36] || (_cache[36] = _createElementVNode(\"label\", null, \"กรองตามสถานะ:\", -1 /* CACHED */)), _createVNode(_component_Dropdown, {\n      modelValue: $data.workStatusFilter,\n      \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.workStatusFilter = $event),\n      options: $options.workStatusFilterOptions,\n      optionLabel: \"label\",\n      optionValue: \"value\",\n      placeholder: \"ทั้งหมด\",\n      class: \"filter-dropdown\"\n    }, null, 8 /* PROPS */, [\"modelValue\", \"options\"])]), _createElementVNode(\"div\", _hoisted_31, [_cache[37] || (_cache[37] = _createElementVNode(\"label\", null, \"เรียงตาม:\", -1 /* CACHED */)), _createVNode(_component_Dropdown, {\n      modelValue: $data.workSortBy,\n      \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.workSortBy = $event),\n      options: $data.workSortOptions,\n      optionLabel: \"label\",\n      optionValue: \"value\",\n      class: \"filter-dropdown\"\n    }, null, 8 /* PROPS */, [\"modelValue\", \"options\"])])]), _createElementVNode(\"div\", _hoisted_32, [_createElementVNode(\"table\", _hoisted_33, [_cache[38] || (_cache[38] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"ID\"), _createElementVNode(\"th\", null, \"วันที่\"), _createElementVNode(\"th\", null, \"ผู้ปฏิบัติงาน\"), _createElementVNode(\"th\", null, \"เวลา\"), _createElementVNode(\"th\", null, \"ชั่วโมง\"), _createElementVNode(\"th\", null, \"สถานะ\"), _createElementVNode(\"th\", null, \"สถานที่\"), _createElementVNode(\"th\", null, \"ไฟล์แนบ\")])], -1 /* CACHED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.filteredAndSortedWorks, work => {\n      return _openBlock(), _createElementBlock(\"tr\", {\n        key: work.id\n      }, [_createElementVNode(\"td\", _hoisted_34, [_createVNode(_component_Badge, {\n        value: work.id,\n        severity: \"info\"\n      }, null, 8 /* PROPS */, [\"value\"])]), _createElementVNode(\"td\", null, _toDisplayString($options.formatDate(work.work_date)), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"span\", {\n        class: \"clickable-name\",\n        onClick: $event => $options.showUserInfo(work.employee_name, work.user_id)\n      }, _toDisplayString(work.employee_name || 'ไม่ระบุ'), 9 /* TEXT, PROPS */, _hoisted_35)]), _createElementVNode(\"td\", null, _toDisplayString(work.start_time) + \" - \" + _toDisplayString(work.end_time), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_36, _toDisplayString($options.formatHoursMinutes(work.total_hours)), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_37, [_createVNode(_component_Badge, {\n        value: $options.getStatusLabel(work.work_status),\n        style: _normalizeStyle({\n          backgroundColor: $options.getStatusColor(work.work_status),\n          color: '#fff',\n          fontWeight: 'bold'\n        })\n      }, null, 8 /* PROPS */, [\"value\", \"style\"])]), _createElementVNode(\"td\", null, _toDisplayString(work.location || '-'), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_38, [work.files && work.files.length > 0 ? _withDirectives((_openBlock(), _createBlock(_component_Button, {\n        key: 0,\n        icon: \"pi pi-paperclip\",\n        label: work.files.length.toString(),\n        size: \"small\",\n        severity: \"success\",\n        outlined: \"\",\n        onClick: $event => $options.showWorkFiles(work)\n      }, null, 8 /* PROPS */, [\"label\", \"onClick\"])), [[_directive_tooltip, `${work.files.length} ไฟล์`]]) : (_openBlock(), _createElementBlock(\"span\", _hoisted_39, \"-\"))])]);\n    }), 128 /* KEYED_FRAGMENT */))])])])]))]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"visible\", \"header\"]), _createCommentVNode(\" Work Files Dialog \"), _createVNode(_component_Dialog, {\n    visible: $data.workFilesDialog,\n    \"onUpdate:visible\": _cache[9] || (_cache[9] = $event => $data.workFilesDialog = $event),\n    modal: \"\",\n    header: \"ไฟล์แนบ\",\n    style: {\n      width: '500px'\n    },\n    draggable: false\n  }, {\n    default: _withCtx(() => [$data.selectedWorkFiles && $data.selectedWorkFiles.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_40, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.selectedWorkFiles, (file, index) => {\n      return _openBlock(), _createElementBlock(\"div\", {\n        key: index,\n        class: \"file-item\"\n      }, [_createElementVNode(\"div\", _hoisted_41, [$options.isImageFile(file) ? (_openBlock(), _createElementBlock(\"img\", {\n        key: 0,\n        src: $options.getFileUrl(file),\n        class: \"file-preview\",\n        onClick: $event => $options.viewFullImage(file)\n      }, null, 8 /* PROPS */, _hoisted_42)) : (_openBlock(), _createElementBlock(\"i\", _hoisted_43)), _createElementVNode(\"span\", _hoisted_44, _toDisplayString(file), 1 /* TEXT */)]), _withDirectives(_createVNode(_component_Button, {\n        icon: \"pi pi-download\",\n        size: \"small\",\n        severity: \"success\",\n        outlined: \"\",\n        onClick: $event => $options.downloadWorkFile(file)\n      }, null, 8 /* PROPS */, [\"onClick\"]), [[_directive_tooltip, 'ดาวน์โหลด']])]);\n    }), 128 /* KEYED_FRAGMENT */))])) : _createCommentVNode(\"v-if\", true)]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"visible\"]), _createCommentVNode(\" Edit Task Dialog \"), _createVNode(_component_Dialog, {\n    visible: $data.editDialog,\n    \"onUpdate:visible\": _cache[23] || (_cache[23] = $event => $data.editDialog = $event),\n    modal: \"\",\n    header: \"แก้ไขรายการงาน\",\n    style: {\n      width: '90vw',\n      maxWidth: '800px'\n    },\n    draggable: false,\n    position: \"center\"\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"form\", {\n      onSubmit: _cache[22] || (_cache[22] = _withModifiers((...args) => $options.updateTask && $options.updateTask(...args), [\"prevent\"])),\n      class: \"edit-form\"\n    }, [_createElementVNode(\"div\", _hoisted_45, [_createElementVNode(\"div\", _hoisted_46, [_cache[39] || (_cache[39] = _createElementVNode(\"label\", {\n      class: \"input-label\"\n    }, \"ชื่องาน *\", -1 /* CACHED */)), _createVNode(_component_InputText, {\n      modelValue: $data.editFormData.task_name,\n      \"onUpdate:modelValue\": _cache[10] || (_cache[10] = $event => $data.editFormData.task_name = $event),\n      required: \"\",\n      class: \"corporate-input\"\n    }, null, 8 /* PROPS */, [\"modelValue\"])]), _createElementVNode(\"div\", _hoisted_47, [_cache[40] || (_cache[40] = _createElementVNode(\"label\", {\n      class: \"input-label\"\n    }, \"SO Number\", -1 /* CACHED */)), _createVNode(_component_InputText, {\n      modelValue: $data.editFormData.so_number,\n      \"onUpdate:modelValue\": _cache[11] || (_cache[11] = $event => $data.editFormData.so_number = $event),\n      class: \"corporate-input\"\n    }, null, 8 /* PROPS */, [\"modelValue\"])]), _createElementVNode(\"div\", _hoisted_48, [_cache[41] || (_cache[41] = _createElementVNode(\"label\", {\n      class: \"input-label\"\n    }, \"Contract Number\", -1 /* CACHED */)), _createVNode(_component_InputText, {\n      modelValue: $data.editFormData.contract_number,\n      \"onUpdate:modelValue\": _cache[12] || (_cache[12] = $event => $data.editFormData.contract_number = $event),\n      class: \"corporate-input\"\n    }, null, 8 /* PROPS */, [\"modelValue\"])]), _createElementVNode(\"div\", _hoisted_49, [_cache[42] || (_cache[42] = _createElementVNode(\"label\", {\n      class: \"input-label\"\n    }, \"Sale Owner\", -1 /* CACHED */)), _createVNode(_component_InputText, {\n      modelValue: $data.editFormData.sale_owner,\n      \"onUpdate:modelValue\": _cache[13] || (_cache[13] = $event => $data.editFormData.sale_owner = $event),\n      class: \"corporate-input\"\n    }, null, 8 /* PROPS */, [\"modelValue\"])]), _createElementVNode(\"div\", _hoisted_50, [_cache[43] || (_cache[43] = _createElementVNode(\"label\", {\n      class: \"input-label\"\n    }, \"วันเริ่มโครงการ\", -1 /* CACHED */)), _createVNode(_component_Calendar, {\n      modelValue: $data.editFormData.project_start_date,\n      \"onUpdate:modelValue\": _cache[14] || (_cache[14] = $event => $data.editFormData.project_start_date = $event),\n      dateFormat: \"dd/mm/yy\",\n      class: \"corporate-input\"\n    }, null, 8 /* PROPS */, [\"modelValue\"])]), _createElementVNode(\"div\", _hoisted_51, [_cache[44] || (_cache[44] = _createElementVNode(\"label\", {\n      class: \"input-label\"\n    }, \"วันสิ้นสุดโครงการ\", -1 /* CACHED */)), _createVNode(_component_Calendar, {\n      modelValue: $data.editFormData.project_end_date,\n      \"onUpdate:modelValue\": _cache[15] || (_cache[15] = $event => $data.editFormData.project_end_date = $event),\n      dateFormat: \"dd/mm/yy\",\n      minDate: $data.editFormData.project_start_date,\n      class: \"corporate-input\"\n    }, null, 8 /* PROPS */, [\"modelValue\", \"minDate\"])]), _createElementVNode(\"div\", _hoisted_52, [_cache[45] || (_cache[45] = _createElementVNode(\"label\", {\n      class: \"input-label\"\n    }, \"หมวดหมู่งาน *\", -1 /* CACHED */)), _createVNode(_component_Dropdown, {\n      modelValue: $data.editFormData.category,\n      \"onUpdate:modelValue\": _cache[16] || (_cache[16] = $event => $data.editFormData.category = $event),\n      options: $data.categories,\n      optionLabel: \"label\",\n      optionValue: \"value\",\n      placeholder: \"เลือกหมวดหมู่งาน\",\n      class: \"corporate-input\",\n      required: \"\"\n    }, {\n      value: _withCtx(slotProps => [slotProps.value ? (_openBlock(), _createElementBlock(\"span\", _hoisted_53, _toDisplayString($options.getCategoryLabel(slotProps.value)), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]),\n      option: _withCtx(slotProps => [_createElementVNode(\"span\", null, _toDisplayString(slotProps.option.label), 1 /* TEXT */)]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"modelValue\", \"options\"])]), _createElementVNode(\"div\", _hoisted_54, [_cache[46] || (_cache[46] = _createElementVNode(\"label\", {\n      class: \"input-label\"\n    }, \"สถานะงาน\", -1 /* CACHED */)), _createVNode(_component_Dropdown, {\n      modelValue: $data.editFormData.status,\n      \"onUpdate:modelValue\": _cache[17] || (_cache[17] = $event => $data.editFormData.status = $event),\n      options: $data.workStatuses,\n      optionLabel: \"label\",\n      optionValue: \"value\",\n      placeholder: \"เลือกสถานะงาน\",\n      class: \"corporate-input\"\n    }, {\n      value: _withCtx(slotProps => [slotProps.value ? (_openBlock(), _createElementBlock(\"span\", _hoisted_55, _toDisplayString($options.getStatusLabel(slotProps.value)), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]),\n      option: _withCtx(slotProps => [_createElementVNode(\"span\", null, _toDisplayString(slotProps.option.label), 1 /* TEXT */)]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"modelValue\", \"options\"])]), _createElementVNode(\"div\", _hoisted_56, [_cache[47] || (_cache[47] = _createElementVNode(\"label\", {\n      class: \"input-label\"\n    }, \"รายละเอียด\", -1 /* CACHED */)), _createVNode(_component_Textarea, {\n      modelValue: $data.editFormData.description,\n      \"onUpdate:modelValue\": _cache[18] || (_cache[18] = $event => $data.editFormData.description = $event),\n      rows: \"4\",\n      class: \"corporate-input\"\n    }, null, 8 /* PROPS */, [\"modelValue\"])]), _createElementVNode(\"div\", _hoisted_57, [_cache[52] || (_cache[52] = _createElementVNode(\"label\", {\n      class: \"input-label\"\n    }, \"ไฟล์แนบ\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_58, [_createElementVNode(\"input\", {\n      type: \"file\",\n      ref: \"editFileInput\",\n      onChange: _cache[19] || (_cache[19] = (...args) => $options.handleEditFileUpload && $options.handleEditFileUpload(...args)),\n      accept: \"image/*,.pdf,.doc,.docx,.xls,.xlsx\",\n      multiple: \"\",\n      class: \"file-input\",\n      style: {\n        \"display\": \"none\"\n      }\n    }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), _createVNode(_component_Button, {\n      type: \"button\",\n      label: \"เพิ่มไฟล์\",\n      icon: \"pi pi-upload\",\n      severity: \"secondary\",\n      outlined: \"\",\n      onClick: _cache[20] || (_cache[20] = $event => _ctx.$refs.editFileInput.click())\n    })]), _createCommentVNode(\" แสดงไฟล์เดิม \"), $data.editFormData.existingFiles?.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_59, [_cache[49] || (_cache[49] = _createElementVNode(\"h4\", null, \"ไฟล์เดิม:\", -1 /* CACHED */)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.editFormData.existingFiles, (file, index) => {\n      return _openBlock(), _createElementBlock(\"div\", {\n        key: index,\n        class: \"file-item\"\n      }, [_cache[48] || (_cache[48] = _createElementVNode(\"i\", {\n        class: \"pi pi-file\"\n      }, null, -1 /* CACHED */)), _createElementVNode(\"span\", _hoisted_60, _toDisplayString(file), 1 /* TEXT */), _createVNode(_component_Button, {\n        icon: \"pi pi-times\",\n        size: \"small\",\n        severity: \"danger\",\n        text: \"\",\n        onClick: $event => $options.removeExistingFile(index)\n      }, null, 8 /* PROPS */, [\"onClick\"])]);\n    }), 128 /* KEYED_FRAGMENT */))])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" แสดงไฟล์ใหม่ \"), $data.editFormData.newFiles?.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_61, [_cache[51] || (_cache[51] = _createElementVNode(\"h4\", null, \"ไฟล์ใหม่:\", -1 /* CACHED */)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.editFormData.newFiles, (file, index) => {\n      return _openBlock(), _createElementBlock(\"div\", {\n        key: index,\n        class: \"file-item\"\n      }, [_cache[50] || (_cache[50] = _createElementVNode(\"i\", {\n        class: \"pi pi-file\"\n      }, null, -1 /* CACHED */)), _createElementVNode(\"span\", _hoisted_62, _toDisplayString(file.name), 1 /* TEXT */), _createVNode(_component_Button, {\n        icon: \"pi pi-times\",\n        size: \"small\",\n        severity: \"danger\",\n        text: \"\",\n        onClick: $event => $options.removeNewFile(index)\n      }, null, 8 /* PROPS */, [\"onClick\"])]);\n    }), 128 /* KEYED_FRAGMENT */))])) : _createCommentVNode(\"v-if\", true)])]), _createElementVNode(\"div\", _hoisted_63, [_createVNode(_component_Button, {\n      type: \"button\",\n      label: \"ยกเลิก\",\n      severity: \"secondary\",\n      outlined: \"\",\n      onClick: _cache[21] || (_cache[21] = $event => $data.editDialog = false)\n    }), _createVNode(_component_Button, {\n      type: \"submit\",\n      label: \"บันทึก\",\n      severity: \"success\"\n    })])], 32 /* NEED_HYDRATION */)]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"visible\"]), _createCommentVNode(\" User Info Dialog \"), _createVNode(_component_UserInfoDialog, {\n    visible: $data.showUserInfoDialog,\n    \"onUpdate:visible\": _cache[24] || (_cache[24] = $event => $data.showUserInfoDialog = $event),\n    userId: $data.selectedUserId,\n    userName: $data.selectedUserName\n  }, null, 8 /* PROPS */, [\"visible\", \"userId\", \"userName\"])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","style","_createVNode","_component_Card","content","_withCtx","$data","tasks","length","_createElementBlock","_hoisted_1","_cache","_createElementVNode","categories","_createBlock","_component_EnhancedDataTable","data","$options","enrichedTasks","paginator","rows","rowsPerPageOptions","responsiveLayout","stripedRows","_component_Column","field","header","sortable","body","slotProps","_hoisted_2","_component_Badge","value","id","_hoisted_3","_toDisplayString","task_name","so_number","_hoisted_4","_hoisted_5","contract_number","sale_owner","_hoisted_6","_hoisted_7","getCategoryLabel","category","_normalizeStyle","backgroundColor","getCategoryColor","color","fontWeight","project_start_date","formatDate","project_end_date","_component_Button","label","icon","size","severity","outlined","onClick","$event","showTaskDetails","disabled","description","_hoisted_8","status","workStatuses","find","s","getStatusLabel","getStatusColor","_hoisted_9","_hoisted_10","viewTaskWorks","editTask","confirmDeleteTask","hasFiles","_hoisted_11","downloadTaskFiles","files","_hoisted_12","_createCommentVNode","detailDialog","_withModifiers","_hoisted_13","_hoisted_14","_hoisted_15","selectedTask","_component_Dialog","visible","filesDialog","modal","width","maxWidth","draggable","selectedTaskFiles","_hoisted_16","_Fragment","_renderList","file","index","key","_hoisted_17","isImageFile","src","getFileUrl","viewFullImage","_hoisted_19","_hoisted_20","downloadFile","_hoisted_21","fullImageDialog","fullImageUrl","taskWorksDialog","position","footer","loadingWorks","_hoisted_23","taskWorks","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","getTotalHours","_hoisted_29","_hoisted_30","_component_Dropdown","workStatusFilter","options","workStatusFilterOptions","optionLabel","optionValue","placeholder","_hoisted_31","workSortBy","workSortOptions","_hoisted_32","_hoisted_33","filteredAndSortedWorks","work","_hoisted_34","work_date","showUserInfo","employee_name","user_id","_hoisted_35","start_time","end_time","_hoisted_36","formatHoursMinutes","total_hours","_hoisted_37","work_status","location","_hoisted_38","toString","showWorkFiles","_hoisted_39","workFilesDialog","selectedWorkFiles","_hoisted_40","_hoisted_41","_hoisted_43","_hoisted_44","downloadWorkFile","editDialog","onSubmit","args","updateTask","_hoisted_45","_hoisted_46","_component_InputText","editFormData","required","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_component_Calendar","dateFormat","_hoisted_51","minDate","_hoisted_52","_hoisted_53","option","_hoisted_54","_hoisted_55","_hoisted_56","_component_Textarea","_hoisted_57","_hoisted_58","type","ref","onChange","handleEditFileUpload","accept","multiple","_ctx","$refs","editFileInput","click","existingFiles","_hoisted_59","_hoisted_60","text","removeExistingFile","newFiles","_hoisted_61","_hoisted_62","name","removeNewFile","_hoisted_63","_component_UserInfoDialog","showUserInfoDialog","userId","selectedUserId","userName","selectedUserName"],"sources":["D:\\frontend_cem\\src\\views\\daily_work\\TaskList.vue"],"sourcesContent":["<template>\n  <Card class=\"history-card\">\n    <template #content>\n      <div v-if=\"tasks.length === 0\" class=\"empty-state\">\n        <i class=\"pi pi-briefcase\" style=\"font-size: 4rem; color: #ccc;\"></i>\n        <p>ยังไม่มีงานที่เพิ่มไว้</p>\n      </div>\n\n      <EnhancedDataTable v-else-if=\"categories.length > 0\" :data=\"enrichedTasks\" \n        :paginator=\"true\" :rows=\"10\" :rowsPerPageOptions=\"[5, 10, 20]\" \n        responsiveLayout=\"scroll\" class=\"history-table\" stripedRows>\n        \n        <Column field=\"id\" header=\"รหัสงาน\" :sortable=\"true\">\n          <template #body=\"slotProps\">\n            <div style=\"text-align: center;\">\n              <Badge :value=\"slotProps.data.id\" class=\"custom-id-badge\" />\n            </div>\n          </template>\n        </Column>\n\n        <Column field=\"task_name\" header=\"ชื่อโครงการ\" :sortable=\"true\" style=\"min-width: 150px; max-width: 250px;\">\n          <template #body=\"slotProps\">\n            <div class=\"task-name\">{{ slotProps.data.task_name }}</div>\n          </template>\n        </Column>\n\n        <Column field=\"so_number\" header=\"เลข SO\" class=\"hide-mobile\">\n          <template #body=\"slotProps\">\n            <div v-if=\"slotProps.data.so_number\" class=\"so-number\">\n              {{ slotProps.data.so_number }}\n            </div>\n            <span v-else class=\"text-muted\">-</span>\n          </template>\n        </Column>\n\n        <Column field=\"contract_number\" header=\"เลขที่สัญญา\" class=\"hide-mobile\">\n          <template #body=\"slotProps\">\n            {{ slotProps.data.contract_number || '-' }}\n          </template>\n        </Column>\n\n        <Column field=\"sale_owner\" header=\"Sale เจ้าของงาน\" class=\"hide-mobile\">\n          <template #body=\"slotProps\">\n            <div v-if=\"slotProps.data.sale_owner\" class=\"sale-info\">\n              <i class=\"pi pi-user\"></i>\n              {{ slotProps.data.sale_owner }}\n            </div>\n            <span v-else class=\"text-muted\">-</span>\n          </template>\n        </Column>\n\n        <Column field=\"category\" header=\"หมวดหมู่\" :sortable=\"true\" style=\"min-width: 120px; text-align: center;\">\n          <template #body=\"slotProps\">\n            <Badge :value=\"getCategoryLabel(slotProps.data.category)\" \n                   :style=\"{ backgroundColor: getCategoryColor(slotProps.data.category), color: '#fff', fontWeight: 'bold' }\" \n                   class=\"category-badge\" />\n          </template>\n        </Column>\n\n        <Column field=\"project_start_date\" header=\"วันเริ่มโครงการ\" :sortable=\"true\">\n          <template #body=\"slotProps\">\n            {{ slotProps.data.project_start_date ? formatDate(slotProps.data.project_start_date) : '-' }}\n          </template>\n        </Column>\n\n        <Column field=\"project_end_date\" header=\"วันสิ้นสุดโครงการ\" :sortable=\"true\" class=\"hide-mobile\">\n          <template #body=\"slotProps\">\n            {{ slotProps.data.project_end_date ? formatDate(slotProps.data.project_end_date) : '-' }}\n          </template>\n        </Column>\n\n        <Column header=\"รายละเอียด\" class=\"hide-mobile\">\n          <template #body=\"slotProps\">\n            <Button \n              label=\"ดูรายละเอียด\" \n              icon=\"pi pi-info-circle\" \n              size=\"small\" \n              severity=\"info\" \n              outlined \n              @click=\"showTaskDetails(slotProps.data)\"\n              :disabled=\"!slotProps.data.description\" />\n          </template>\n        </Column>\n\n        <Column header=\"สถานะ\" style=\"text-align: center; min-width: 140px;\">\n          <template #body=\"slotProps\">\n            <div class=\"badge-container\">\n              <Badge v-if=\"slotProps.data.status && workStatuses.find(s => s.value === slotProps.data.status)\" \n                     :value=\"getStatusLabel(slotProps.data.status)\" \n                     :style=\"{ backgroundColor: getStatusColor(slotProps.data.status), color: '#fff', fontWeight: 'bold' }\" />\n              <span v-else class=\"no-status\">-</span>\n            </div>\n          </template>\n        </Column>\n\n        <Column header=\"จัดการ\" style=\"width: 200px;\">\n          <template #body=\"slotProps\">\n            <div class=\"action-buttons\">\n              <Button \n                icon=\"pi pi-eye\" \n                size=\"small\" \n                severity=\"info\" \n                outlined\n                @click=\"viewTaskWorks(slotProps.data)\"\n                v-tooltip=\"'ดูงานรายวัน'\"\n              />\n              <Button \n                icon=\"pi pi-pencil\" \n                size=\"small\" \n                severity=\"warning\" \n                outlined\n                @click=\"editTask(slotProps.data)\"\n                v-tooltip=\"'แก้ไข'\"\n              />\n              <Button \n                icon=\"pi pi-trash\" \n                size=\"small\" \n                severity=\"danger\" \n                outlined\n                @click=\"confirmDeleteTask(slotProps.data)\"\n                v-tooltip=\"'ลบ'\"\n              />\n            </div>\n          </template>\n        </Column>\n\n        <Column header=\"ไฟล์แนบ\" style=\"width: 80px;\">\n          <template #body=\"slotProps\">\n            <div v-if=\"hasFiles(slotProps.data)\" class=\"attachments-info\">\n              <Button icon=\"pi pi-paperclip\" size=\"small\" severity=\"info\" outlined\n                @click=\"downloadTaskFiles(slotProps.data)\" v-tooltip=\"`${slotProps.data.files.length} ไฟล์`\" />\n            </div>\n            <span v-else class=\"no-files\">-</span>\n          </template>\n        </Column>\n      </EnhancedDataTable>\n    </template>\n  </Card>\n\n  <!-- Dialog สำหรับแสดงรายละเอียดงาน -->\n  <div v-if=\"detailDialog\" class=\"dialog-overlay\" @click=\"detailDialog = false\">\n    <div class=\"dialog-content\" @click.stop>\n      <div class=\"dialog-header\">\n        <h3>รายละเอียดงาน</h3>\n        <button class=\"dialog-close\" @click=\"detailDialog = false\">&times;</button>\n      </div>\n      <div class=\"dialog-body\">\n        <div class=\"work-description\">\n          {{ selectedTask?.description || 'ไม่มีรายละเอียด' }}\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- Files Dialog -->\n  <Dialog v-model:visible=\"filesDialog\" modal header=\"ไฟล์แนบ\" :style=\"{ width: '90vw', maxWidth: '800px' }\" :draggable=\"false\">\n    <div v-if=\"selectedTaskFiles && selectedTaskFiles.length > 0\" class=\"files-list\">\n      <div v-for=\"(file, index) in selectedTaskFiles\" :key=\"index\" class=\"file-item\">\n        <div class=\"file-info\">\n          <img v-if=\"isImageFile(file)\" :src=\"getFileUrl(file)\" class=\"file-preview\" @click=\"viewFullImage(file)\" />\n          <i v-else class=\"pi pi-file file-icon\"></i>\n          <span class=\"file-name\">{{ file }}</span>\n        </div>\n        <Button \n          icon=\"pi pi-download\" \n          size=\"small\" \n          severity=\"success\" \n          outlined\n          @click=\"downloadFile(file)\"\n          v-tooltip=\"'ดาวน์โหลด'\"\n        />\n      </div>\n    </div>\n    <div v-else class=\"no-files\">\n      <p>ไม่มีไฟล์แนบ</p>\n    </div>\n  </Dialog>\n\n  <!-- Full Image Dialog -->\n  <Dialog v-model:visible=\"fullImageDialog\" modal header=\"รูปภาพ\" :style=\"{ width: '90vw', maxWidth: '900px' }\" :draggable=\"false\">\n    <img :src=\"fullImageUrl\" class=\"full-image\" />\n  </Dialog>\n\n  <!-- Task Works Dialog -->\n  <Dialog v-model:visible=\"taskWorksDialog\" modal :header=\"`งานรายวันของโครงการ: ${selectedTask?.task_name || ''}`\" \n          :style=\"{ width: '90vw', maxWidth: '1200px' }\" :draggable=\"false\" position=\"center\">\n    <div v-if=\"loadingWorks\" class=\"loading-state\">\n      <i class=\"pi pi-spin pi-spinner\" style=\"font-size: 2rem;\"></i>\n      <p>กำลังโหลดข้อมูล...</p>\n    </div>\n    \n    <div v-else-if=\"taskWorks.length === 0\" class=\"empty-works\">\n      <i class=\"pi pi-inbox\" style=\"font-size: 3rem; color: #ccc;\"></i>\n      <p>ยังไม่มีการลงงานรายวันสำหรับโครงการนี้</p>\n    </div>\n    \n    <div v-else class=\"works-container\">\n      <div class=\"works-summary\">\n        <div class=\"summary-item\">\n          <i class=\"pi pi-calendar\"></i>\n          <span>ทั้งหมด: <strong>{{ taskWorks.length }}</strong> รายการ</span>\n        </div>\n        <div class=\"summary-item\">\n          <i class=\"pi pi-clock\"></i>\n          <span>รวม: <strong>{{ getTotalHours() }}</strong></span>\n        </div>\n      </div>\n      \n      <div class=\"works-filters\">\n        <div class=\"filter-group\">\n          <label>กรองตามสถานะ:</label>\n          <Dropdown v-model=\"workStatusFilter\" :options=\"workStatusFilterOptions\" \n                    optionLabel=\"label\" optionValue=\"value\" placeholder=\"ทั้งหมด\" \n                    class=\"filter-dropdown\" />\n        </div>\n        <div class=\"filter-group\">\n          <label>เรียงตาม:</label>\n          <Dropdown v-model=\"workSortBy\" :options=\"workSortOptions\" \n                    optionLabel=\"label\" optionValue=\"value\" \n                    class=\"filter-dropdown\" />\n        </div>\n      </div>\n      \n      <div class=\"works-table-wrapper\">\n        <table class=\"works-table\">\n          <thead>\n            <tr>\n              <th>ID</th>\n              <th>วันที่</th>\n              <th>ผู้ปฏิบัติงาน</th>\n              <th>เวลา</th>\n              <th>ชั่วโมง</th>\n              <th>สถานะ</th>\n              <th>สถานที่</th>\n              <th>ไฟล์แนบ</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"work in filteredAndSortedWorks\" :key=\"work.id\">\n              <td class=\"text-center\">\n                <Badge :value=\"work.id\" severity=\"info\" />\n              </td>\n              <td>{{ formatDate(work.work_date) }}</td>\n              <td>\n                <span class=\"clickable-name\" @click=\"showUserInfo(work.employee_name, work.user_id)\">\n                  {{ work.employee_name || 'ไม่ระบุ' }}\n                </span>\n              </td>\n              <td>{{ work.start_time }} - {{ work.end_time }}</td>\n              <td class=\"text-center\">{{ formatHoursMinutes(work.total_hours) }}</td>\n              <td class=\"text-center\">\n                <Badge :value=\"getStatusLabel(work.work_status)\" \n                       :style=\"{ backgroundColor: getStatusColor(work.work_status), color: '#fff', fontWeight: 'bold' }\" />\n              </td>\n              <td>{{ work.location || '-' }}</td>\n              <td class=\"text-center\">\n                <Button v-if=\"work.files && work.files.length > 0\"\n                        icon=\"pi pi-paperclip\" \n                        :label=\"work.files.length.toString()\"\n                        size=\"small\" \n                        severity=\"success\" \n                        outlined\n                        @click=\"showWorkFiles(work)\"\n                        v-tooltip=\"`${work.files.length} ไฟล์`\" />\n                <span v-else>-</span>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n    \n    <template #footer>\n      <Button label=\"ปิด\" icon=\"pi pi-times\" @click=\"taskWorksDialog = false\" />\n    </template>\n  </Dialog>\n\n  <!-- Work Files Dialog -->\n  <Dialog v-model:visible=\"workFilesDialog\" modal header=\"ไฟล์แนบ\" \n          :style=\"{ width: '500px' }\" :draggable=\"false\">\n    <div v-if=\"selectedWorkFiles && selectedWorkFiles.length > 0\" class=\"files-list\">\n      <div v-for=\"(file, index) in selectedWorkFiles\" :key=\"index\" class=\"file-item\">\n        <div class=\"file-info\">\n          <img v-if=\"isImageFile(file)\" :src=\"getFileUrl(file)\" class=\"file-preview\" @click=\"viewFullImage(file)\" />\n          <i v-else class=\"pi pi-file file-icon\"></i>\n          <span class=\"file-name\">{{ file }}</span>\n        </div>\n        <Button icon=\"pi pi-download\" size=\"small\" severity=\"success\" outlined\n                @click=\"downloadWorkFile(file)\" v-tooltip=\"'ดาวน์โหลด'\" />\n      </div>\n    </div>\n  </Dialog>\n\n  <!-- Edit Task Dialog -->\n  <Dialog v-model:visible=\"editDialog\" modal header=\"แก้ไขรายการงาน\" :style=\"{ width: '90vw', maxWidth: '800px' }\" :draggable=\"false\" position=\"center\">\n    <form @submit.prevent=\"updateTask\" class=\"edit-form\">\n      <div class=\"form-grid\">\n        <div class=\"input-group\">\n          <label class=\"input-label\">ชื่องาน *</label>\n          <InputText v-model=\"editFormData.task_name\" required class=\"corporate-input\" />\n        </div>\n        \n        <div class=\"input-group\">\n          <label class=\"input-label\">SO Number</label>\n          <InputText v-model=\"editFormData.so_number\" class=\"corporate-input\" />\n        </div>\n        \n        <div class=\"input-group\">\n          <label class=\"input-label\">Contract Number</label>\n          <InputText v-model=\"editFormData.contract_number\" class=\"corporate-input\" />\n        </div>\n        \n        <div class=\"input-group\">\n          <label class=\"input-label\">Sale Owner</label>\n          <InputText v-model=\"editFormData.sale_owner\" class=\"corporate-input\" />\n        </div>\n\n        <div class=\"input-group\">\n          <label class=\"input-label\">วันเริ่มโครงการ</label>\n          <Calendar v-model=\"editFormData.project_start_date\" dateFormat=\"dd/mm/yy\" class=\"corporate-input\" />\n        </div>\n\n        <div class=\"input-group\">\n          <label class=\"input-label\">วันสิ้นสุดโครงการ</label>\n          <Calendar v-model=\"editFormData.project_end_date\" dateFormat=\"dd/mm/yy\" \n                    :minDate=\"editFormData.project_start_date\" class=\"corporate-input\" />\n        </div>\n\n        <div class=\"input-group\">\n          <label class=\"input-label\">หมวดหมู่งาน *</label>\n          <Dropdown v-model=\"editFormData.category\" :options=\"categories\" \n                    optionLabel=\"label\" optionValue=\"value\" placeholder=\"เลือกหมวดหมู่งาน\" \n                    class=\"corporate-input\" required>\n            <template #value=\"slotProps\">\n              <span v-if=\"slotProps.value\">{{ getCategoryLabel(slotProps.value) }}</span>\n            </template>\n            <template #option=\"slotProps\">\n              <span>{{ slotProps.option.label }}</span>\n            </template>\n          </Dropdown>\n        </div>\n\n        <div class=\"input-group\">\n          <label class=\"input-label\">สถานะงาน</label>\n          <Dropdown v-model=\"editFormData.status\" :options=\"workStatuses\" \n                    optionLabel=\"label\" optionValue=\"value\" placeholder=\"เลือกสถานะงาน\" \n                    class=\"corporate-input\">\n            <template #value=\"slotProps\">\n              <span v-if=\"slotProps.value\">{{ getStatusLabel(slotProps.value) }}</span>\n            </template>\n            <template #option=\"slotProps\">\n              <span>{{ slotProps.option.label }}</span>\n            </template>\n          </Dropdown>\n        </div>\n        \n        <div class=\"input-group full-width\">\n          <label class=\"input-label\">รายละเอียด</label>\n          <Textarea v-model=\"editFormData.description\" rows=\"4\" class=\"corporate-input\" />\n        </div>\n\n        <div class=\"input-group full-width\">\n          <label class=\"input-label\">ไฟล์แนบ</label>\n          <div class=\"file-upload-section\">\n            <input type=\"file\" ref=\"editFileInput\" @change=\"handleEditFileUpload\" \n              accept=\"image/*,.pdf,.doc,.docx,.xls,.xlsx\" multiple class=\"file-input\" style=\"display: none;\">\n            <Button type=\"button\" \n              label=\"เพิ่มไฟล์\" \n              icon=\"pi pi-upload\" \n              severity=\"secondary\" \n              outlined \n              @click=\"$refs.editFileInput.click()\" />\n          </div>\n          \n          <!-- แสดงไฟล์เดิม -->\n          <div v-if=\"editFormData.existingFiles?.length > 0\" class=\"existing-files\">\n            <h4>ไฟล์เดิม:</h4>\n            <div v-for=\"(file, index) in editFormData.existingFiles\" :key=\"index\" class=\"file-item\">\n              <i class=\"pi pi-file\"></i>\n              <span class=\"file-name\">{{ file }}</span>\n              <Button icon=\"pi pi-times\" size=\"small\" severity=\"danger\" text @click=\"removeExistingFile(index)\" />\n            </div>\n          </div>\n          \n          <!-- แสดงไฟล์ใหม่ -->\n          <div v-if=\"editFormData.newFiles?.length > 0\" class=\"new-files\">\n            <h4>ไฟล์ใหม่:</h4>\n            <div v-for=\"(file, index) in editFormData.newFiles\" :key=\"index\" class=\"file-item\">\n              <i class=\"pi pi-file\"></i>\n              <span class=\"file-name\">{{ file.name }}</span>\n              <Button icon=\"pi pi-times\" size=\"small\" severity=\"danger\" text @click=\"removeNewFile(index)\" />\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      <div class=\"form-actions\">\n        <Button type=\"button\" label=\"ยกเลิก\" severity=\"secondary\" outlined @click=\"editDialog = false\" />\n        <Button type=\"submit\" label=\"บันทึก\" severity=\"success\" />\n      </div>\n    </form>\n  </Dialog>\n\n  <!-- User Info Dialog -->\n  <UserInfoDialog \n    v-model:visible=\"showUserInfoDialog\" \n    :userId=\"selectedUserId\"\n    :userName=\"selectedUserName\"\n  />\n</template>\n\n<script>\nimport axios from '@/utils/axiosConfig'\nimport EnhancedDataTable from '@/components/EnhancedDataTable.vue'\nimport UserInfoDialog from '@/components/UserInfoDialog.vue'\n\nexport default {\n  name: 'TaskList',\n  components: {\n    EnhancedDataTable,\n    UserInfoDialog\n  },\n  created() {\n    this.$http = axios\n  },\n  async mounted() {\n    // Listen for task updates\n    window.addEventListener('taskUpdated', this.handleTaskUpdate)\n    window.addEventListener('workRecordUpdated', this.handleTaskUpdate)\n    window.addEventListener('taskStatusChanged', this.handleTaskUpdate)\n    window.addEventListener('categoriesUpdated', this.handleCategoriesUpdate)\n    window.addEventListener('statusesUpdated', this.handleStatusesUpdate)\n    \n    // Load categories and statuses first, then tasks\n    await this.loadCategoriesFromStorage()\n    await this.loadStatusesFromStorage()\n    this.loadTasks()\n  },\n  beforeUnmount() {\n    window.removeEventListener('taskUpdated', this.handleTaskUpdate)\n    window.removeEventListener('workRecordUpdated', this.handleTaskUpdate)\n    window.removeEventListener('taskStatusChanged', this.handleTaskUpdate)\n    window.removeEventListener('categoriesUpdated', this.handleCategoriesUpdate)\n    window.removeEventListener('statusesUpdated', this.handleStatusesUpdate)\n  },\n  data() {\n    return {\n      tasks: [],\n      detailDialog: false,\n      selectedTask: null,\n      filesDialog: false,\n      selectedTaskFiles: [],\n      fullImageDialog: false,\n      fullImageUrl: '',\n      editDialog: false,\n      taskWorksDialog: false,\n      taskWorks: [],\n      loadingWorks: false,\n      workFilesDialog: false,\n      selectedWorkFiles: [],\n      showUserInfoDialog: false,\n      selectedUserId: null,\n      selectedUserName: '',\n      workStatusFilter: null,\n      workSortBy: 'date_desc',\n      workSortOptions: [\n        { label: 'วันที่ล่าสุด', value: 'date_desc' },\n        { label: 'วันที่เก่าสุด', value: 'date_asc' },\n        { label: 'สถานะ', value: 'status' }\n      ],\n      editFormData: {\n        id: null,\n        task_name: '',\n        so_number: '',\n        contract_number: '',\n        sale_owner: '',\n        description: '',\n        category: 'งานทั่วไป',\n        project_start_date: null,\n        project_end_date: null,\n        existingFiles: [],\n        newFiles: []\n      },\n      categoryOptions: [\n        { label: 'งานทั่วไป', value: 'งานทั่วไป' },\n        { label: 'งานพัฒนาระบบ', value: 'งานพัฒนาระบบ' },\n        { label: 'งานบำรุงรักษา', value: 'งานบำรุงรักษา' },\n        { label: 'งานประชุม', value: 'งานประชุม' },\n        { label: 'งานฝึกอบรม', value: 'งานฝึกอบรม' },\n        { label: 'งานวิจัย', value: 'งานวิจัย' },\n        { label: 'งานเอกสาร', value: 'งานเอกสาร' },\n        { label: 'งานลูกค้า', value: 'งานลูกค้า' }\n      ],\n      categories: [],\n      workStatuses: []\n    }\n  },\n  computed: {\n    workStatusFilterOptions() {\n      const options = [{ label: 'ทั้งหมด', value: null }]\n      this.workStatuses.forEach(s => {\n        options.push({\n          label: s.label.replace(/[\\u{1F000}-\\u{1FFFF}]|[\\u{2600}-\\u{27BF}]|[\\u{2300}-\\u{23FF}]|[\\u{2B50}]|[\\u{203C}-\\u{3299}]/gu, '').trim(),\n          value: s.value\n        })\n      })\n      return options\n    },\n    enrichedTasks() {\n      // Add status and category labels to tasks for better search\n      return this.tasks.map(task => ({\n        ...task,\n        statusLabel: this.getStatusLabel(task.status),\n        categoryLabel: this.getCategoryLabel(task.category)\n      }))\n    },\n    filteredAndSortedWorks() {\n      let works = [...this.taskWorks]\n      \n      // Filter by status\n      if (this.workStatusFilter) {\n        works = works.filter(work => work.work_status === this.workStatusFilter)\n      }\n      \n      // Sort\n      if (this.workSortBy === 'date_desc') {\n        works.sort((a, b) => new Date(b.work_date) - new Date(a.work_date))\n      } else if (this.workSortBy === 'date_asc') {\n        works.sort((a, b) => new Date(a.work_date) - new Date(b.work_date))\n      } else if (this.workSortBy === 'status') {\n        const statusOrder = { 'completed': 1, 'in_progress': 2, 'pending': 3, 'on_hold': 4 }\n        works.sort((a, b) => (statusOrder[a.work_status] || 5) - (statusOrder[b.work_status] || 5))\n      }\n      \n      return works\n    }\n  },\n  methods: {\n    confirmDeleteTask(task) {\n      this.$confirm.require({\n        message: `คุณต้องการลบงาน \"${task.task_name}\" ใช่หรือไม่?`,\n        header: 'ยืนยันการลบ',\n        icon: 'pi pi-exclamation-triangle',\n        acceptLabel: 'ลบ',\n        rejectLabel: 'ยกเลิก',\n        acceptClass: 'p-button-danger',\n        accept: () => {\n          this.deleteTask(task.id)\n        }\n      })\n    },\n    async deleteTask(taskId) {\n      try {\n        await this.$http.delete(`/api/tasks/${taskId}`)\n        \n        this.$toast.add({\n          severity: 'success',\n          summary: 'สำเร็จ',\n          detail: 'ลบงานเรียบร้อยแล้ว',\n          life: 3000\n        })\n        \n        this.loadTasks()\n        window.dispatchEvent(new CustomEvent('taskUpdated'))\n      } catch (error) {\n        \n        this.$toast.add({\n          severity: 'error',\n          summary: 'เกิดข้อผิดพลาด',\n          detail: error.response?.data?.error || 'ไม่สามารถลบงานได้',\n          life: 5000\n        })\n      }\n    },\n    async loadCategoriesFromStorage() {\n      try {\n        const response = await this.$http.get('/api/settings/categories')\n        this.categories = response.data\n      } catch (error) {\n        \n        // Fallback to default\n        this.categories = [\n          { label: '💼 งานทั่วไป', value: 'งานทั่วไป', icon: 'emoji:💼', color: '#6366f1' },\n          { label: '💻 งานพัฒนา', value: 'งานพัฒนา', icon: 'emoji:💻', color: '#14b8a6' },\n          { label: '🔧 งานบำรุงรักษา', value: 'งานบำรุงรักษา', icon: 'emoji:🔧', color: '#f97316' }\n        ]\n      }\n    },\n    async loadStatusesFromStorage() {\n      try {\n        const response = await this.$http.get('/api/settings/statuses')\n        \n        this.workStatuses = response.data\n      } catch (error) {\n        \n        // Fallback to default\n        this.workStatuses = [\n          { label: '⏳ รอดำเนินการ', value: 'pending', icon: 'emoji:⏳', color: '#f59e0b' },\n          { label: '🔄 กำลังดำเนินการ', value: 'in_progress', icon: 'emoji:🔄', color: '#3b82f6' },\n          { label: '✅ เสร็จสิ้น', value: 'completed', icon: 'emoji:✅', color: '#10b981' },\n          { label: '⏸️ ระงับ', value: 'on_hold', icon: 'emoji:⏸️', color: '#6c757d' }\n        ]\n      }\n    },\n    getCategoryIcon(categoryValue) {\n      const category = this.categories.find(cat => cat.value === categoryValue)\n      return category ? category.icon : 'pi pi-tag'\n    },\n    getCategoryLabel(categoryValue) {\n      const category = this.categories.find(cat => cat.value === categoryValue)\n      if (category && category.label) {\n        // Remove all emoji and special characters\n        return category.label.replace(/[\\u{1F000}-\\u{1FFFF}]|[\\u{2600}-\\u{27BF}]|[\\u{2300}-\\u{23FF}]|[\\u{2B50}]|[\\u{203C}-\\u{3299}]/gu, '').trim()\n      }\n      return categoryValue\n    },\n    getCategoryColor(categoryValue) {\n      if (!this.categories || this.categories.length === 0) {\n        return '#6c757d'\n      }\n      const category = this.categories.find(cat => cat.value === categoryValue)\n      return category && category.color ? category.color : '#6c757d'\n    },\n    getStatusIcon(statusValue) {\n      const status = this.workStatuses.find(s => s.value === statusValue)\n      return status ? status.icon : 'pi pi-circle'\n    },\n    getStatusLabel(statusValue) {\n      if (!statusValue) return '-'\n      // ลอง match ด้วย value ก่อน\n      let status = this.workStatuses.find(s => s.value === statusValue)\n      // ถ้าไม่เจอ ลอง match ด้วย label\n      if (!status) {\n        status = this.workStatuses.find(s => s.label && s.label.includes(statusValue))\n      }\n      if (status && status.label) {\n        // Remove all emoji and special characters\n        return status.label.replace(/[\\u{1F000}-\\u{1FFFF}]|[\\u{2600}-\\u{27BF}]|[\\u{2300}-\\u{23FF}]|[\\u{2B50}]|[\\u{203C}-\\u{3299}]/gu, '').trim()\n      }\n      // ถ้าไม่เจอใน workStatuses ให้แสดงค่าจริง\n      return statusValue\n    },\n    getStatusColor(statusValue) {\n      if (!statusValue) return '#9e9e9e'\n      // ลอง match ด้วย value ก่อน\n      let status = this.workStatuses.find(s => s.value === statusValue)\n      // ถ้าไม่เจอ ลอง match ด้วย label\n      if (!status) {\n        status = this.workStatuses.find(s => s.label && s.label.includes(statusValue))\n      }\n      return status?.color || '#9e9e9e'\n    },\n    async loadTasks() {\n      try {\n        const response = await this.$http.get('/api/tasks')\n        // รองรับทั้ง format array ตรงๆ และ format ที่มี wrapper\n        this.tasks = response.data.data || response.data || []\n      } catch (error) {\n        this.tasks = []\n        this.$toast.add({\n          severity: 'error',\n          summary: 'เกิดข้อผิดพลาด',\n          detail: 'ไม่สามารถโหลดข้อมูลงานได้',\n          life: 5000\n        })\n      }\n    },\n    formatDate(date) {\n      if (!date) return '-'\n      try {\n        // For date-only strings (YYYY-MM-DD), parse manually to avoid timezone issues\n        if (typeof date === 'string' && date.match(/^\\d{4}-\\d{2}-\\d{2}$/)) {\n          const [year, month, day] = date.split('-')\n          const d = new Date(parseInt(year), parseInt(month) - 1, parseInt(day))\n          return d.toLocaleDateString('th-TH', {\n            year: 'numeric',\n            month: 'long',\n            day: 'numeric'\n          })\n        }\n        return new Date(date).toLocaleDateString('th-TH', {\n          year: 'numeric',\n          month: 'long',\n          day: 'numeric'\n        })\n      } catch (error) {\n        return date\n      }\n    },\n    showTaskDetails(task) {\n      this.selectedTask = task\n      this.detailDialog = true\n    },\n    isImageFile(fileName) {\n      const extension = fileName.split('.').pop()?.toLowerCase()\n      return ['jpg', 'jpeg', 'png', 'gif', 'webp', 'bmp'].includes(extension)\n    },\n    getFileUrl(fileName) {\n      const token = localStorage.getItem('soc_token')\n      return `/api/files/download/${fileName}?token=${token}`\n    },\n    viewFullImage(fileName) {\n      this.fullImageUrl = this.getFileUrl(fileName)\n      this.fullImageDialog = true\n    },\n    hasFiles(task) {\n      return task.files && Array.isArray(task.files) && task.files.length > 0\n    },\n    downloadTaskFiles(task) {\n      if (this.hasFiles(task)) {\n        this.selectedTaskFiles = task.files\n        this.filesDialog = true\n      }\n    },\n    async downloadFile(fileName) {\n      try {\n        const response = await this.$http.get(`/api/files/download/${fileName}`, {\n          responseType: 'blob'\n        })\n        const url = window.URL.createObjectURL(new Blob([response.data]))\n        const link = document.createElement('a')\n        link.href = url\n        link.download = fileName.split('-').slice(2).join('-') || fileName\n        document.body.appendChild(link)\n        link.click()\n        document.body.removeChild(link)\n        window.URL.revokeObjectURL(url)\n      } catch (error) {\n        \n        this.$toast.add({\n          severity: 'error',\n          summary: 'เกิดข้อผิดพลาด',\n          detail: 'ไม่สามารถดาวน์โหลดไฟล์ได้',\n          life: 3000\n        })\n      }\n    },\n    editTask(task) {\n      // Parse dates from string to Date object\n      const parseDate = (dateStr) => {\n        if (!dateStr) return null\n        if (typeof dateStr === 'string' && dateStr.match(/^\\d{4}-\\d{2}-\\d{2}$/)) {\n          const [year, month, day] = dateStr.split('-')\n          // Create date at noon to avoid timezone issues\n          return new Date(parseInt(year), parseInt(month) - 1, parseInt(day), 12, 0, 0)\n        }\n        return new Date(dateStr)\n      }\n      \n      this.editFormData = {\n        id: task.id,\n        task_name: task.task_name,\n        so_number: task.so_number || '',\n        contract_number: task.contract_number || '',\n        sale_owner: task.sale_owner || '',\n        description: task.description || '',\n        category: task.category || 'งานทั่วไป',\n        status: task.status || 'pending',\n        project_start_date: parseDate(task.project_start_date),\n        project_end_date: parseDate(task.project_end_date),\n        existingFiles: [...(task.files || [])],\n        newFiles: []\n      }\n      this.editDialog = true\n    },\n    handleEditFileUpload(event) {\n      const files = Array.from(event.target.files)\n      this.editFormData.newFiles = [...this.editFormData.newFiles, ...files]\n    },\n    removeExistingFile(index) {\n      this.editFormData.existingFiles.splice(index, 1)\n    },\n    removeNewFile(index) {\n      this.editFormData.newFiles.splice(index, 1)\n    },\n    async uploadNewFiles() {\n      if (this.editFormData.newFiles.length === 0) return []\n      \n      const formData = new FormData()\n      this.editFormData.newFiles.forEach(file => {\n        formData.append('files', file)\n      })\n      \n      try {\n        const response = await this.$http.post('/api/files/upload', formData, {\n          headers: { 'Content-Type': 'multipart/form-data' }\n        })\n        return response.data.files || []\n      } catch (error) {\n        return []\n      }\n    },\n    async updateTask() {\n      try {\n        // Upload ไฟล์ใหม่\n        const newUploadedFiles = await this.uploadNewFiles()\n        \n        // รวมไฟล์เดิมกับไฟล์ใหม่\n        const allFiles = [...this.editFormData.existingFiles, ...newUploadedFiles]\n        \n        // Format dates to YYYY-MM-DD\n        const formatDate = (date) => {\n          if (!date) return null\n          const d = new Date(date)\n          const year = d.getFullYear()\n          const month = String(d.getMonth() + 1).padStart(2, '0')\n          const day = String(d.getDate()).padStart(2, '0')\n          return `${year}-${month}-${day}`\n        }\n        \n        const updateData = {\n          ...this.editFormData,\n          project_start_date: formatDate(this.editFormData.project_start_date),\n          project_end_date: formatDate(this.editFormData.project_end_date),\n          files: allFiles\n        }\n        delete updateData.existingFiles\n        delete updateData.newFiles\n        \n        await this.$http.put(`/api/tasks/${this.editFormData.id}`, updateData)\n        \n        this.$toast.add({\n          severity: 'success',\n          summary: 'สำเร็จ',\n          detail: 'แก้ไขงานเรียบร้อยแล้ว',\n          life: 3000\n        })\n        \n        this.editDialog = false\n        \n        // Auto-refresh data\n        await this.loadTasks()\n        \n        // Dispatch global event for real-time update\n        window.dispatchEvent(new CustomEvent('taskUpdated'))\n        \n      } catch (error) {\n        this.$toast.add({\n          severity: 'error',\n          summary: 'เกิดข้อผิดพลาด',\n          detail: error.response?.data?.error || 'ไม่สามารถแก้ไขงานได้',\n          life: 5000\n        })\n      }\n    },\n    handleTaskUpdate() {\n      // Auto-refresh tasks when updated\n      this.loadTasks()\n    },\n    handleCategoriesUpdate() {\n      this.loadCategoriesFromStorage()\n    },\n    handleStatusesUpdate() {\n      this.loadStatusesFromStorage()\n    },\n    async refreshData() {\n      // Method for external refresh calls\n      await this.loadTasks()\n    },\n    async viewTaskWorks(task) {\n      this.selectedTask = task\n      this.taskWorks = []\n      this.loadingWorks = true\n      this.taskWorksDialog = true\n      this.workStatusFilter = null\n      this.workSortBy = 'date_desc'\n      \n      try {\n        const response = await this.$http.get(`/api/daily-work?task_id=${task.id}`)\n        this.taskWorks = response.data || []\n      } catch (error) {\n        this.$toast.add({\n          severity: 'error',\n          summary: 'เกิดข้อผิดพลาด',\n          detail: 'ไม่สามารถโหลดข้อมูลงานรายวันได้',\n          life: 3000\n        })\n        this.taskWorks = []\n      } finally {\n        this.loadingWorks = false\n      }\n    },\n    formatDateTime(date) {\n      try {\n        return new Date(date).toLocaleString('th-TH', {\n          year: 'numeric',\n          month: 'short',\n          day: 'numeric',\n          hour: '2-digit',\n          minute: '2-digit'\n        })\n      } catch (error) {\n        return date\n      }\n    },\n    getTotalHours() {\n      if (!this.taskWorks || this.taskWorks.length === 0) return '0 ชม. 0 นาที'\n      const total = this.taskWorks.reduce((sum, work) => sum + (parseFloat(work.total_hours) || 0), 0)\n      const hours = Math.floor(total)\n      const minutes = Math.round((total - hours) * 60)\n      return `${hours} ชม. ${minutes} นาที`\n    },\n    showWorkFiles(work) {\n      this.selectedWorkFiles = work.files || []\n      this.workFilesDialog = true\n    },\n    downloadWorkFile(fileName) {\n      const link = document.createElement('a')\n      link.href = `/api/files/download/${fileName}`\n      link.download = fileName\n      link.target = '_blank'\n      document.body.appendChild(link)\n      link.click()\n      document.body.removeChild(link)\n    },\n    formatHoursMinutes(hours) {\n      const h = parseFloat(hours) || 0\n      const hrs = Math.floor(h)\n      const mins = Math.round((h - hrs) * 60)\n      return `${hrs} ชม. ${mins} นาที`\n    },\n    showUserInfo(name, userId) {\n      this.selectedUserName = name\n      this.selectedUserId = userId\n      this.showUserInfoDialog = true\n    }\n  }\n}\n</script>\n\n<style scoped>\n.history-card {\n  width: 100%;\n  margin: 0;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);\n  border: 1px solid #e9ecef;\n}\n\n.empty-state {\n  text-align: center;\n  padding: 4rem 2rem;\n  color: #6c757d;\n  background: #f8f9fa;\n  border-radius: 8px;\n  margin: 1rem;\n}\n\n.empty-state p {\n  margin-top: 1rem;\n  font-size: 1.1rem;\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n}\n\n.history-table :deep(.p-datatable) {\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n}\n\n.history-table :deep(.p-datatable-thead > tr > th) {\n  background: #f8f9fa;\n  color: #495057;\n  font-weight: 600;\n  border-bottom: 2px solid #e9ecef;\n  padding: 1rem 0.75rem;\n  font-size: 0.9rem;\n}\n\n.history-table :deep(.p-datatable-tbody > tr > td) {\n  padding: 1rem 0.75rem;\n  border-bottom: 1px solid #f1f3f4;\n  vertical-align: middle;\n}\n\n.history-table :deep(.p-datatable-tbody > tr:hover) {\n  background: #f8f9fa;\n}\n\n.history-table :deep(.p-paginator) {\n  background: #f8f9fa;\n  border-top: 2px solid #e9ecef;\n  padding: 1rem;\n}\n\n.custom-id-badge {\n  background: linear-gradient(135deg, #28a745 0%, #20c997 100%);\n  color: white;\n  font-weight: 600;\n  padding: 0.5rem 0.75rem;\n  border-radius: 20px;\n  font-size: 0.8rem;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  min-width: 40px;\n}\n\n.task-name {\n  font-weight: 600;\n  color: #495057;\n}\n\n.so-number {\n  font-size: 0.9rem;\n  color: #6c757d;\n  background: #e3f2fd;\n  padding: 0.2rem 0.5rem;\n  border-radius: 12px;\n  display: inline-block;\n  width: fit-content;\n}\n\n.sale-info {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  color: #495057;\n}\n\n.sale-info i {\n  color: #667eea;\n}\n\n.text-muted {\n  color: #6c757d;\n}\n\n.dialog-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n}\n\n.dialog-content {\n  background: white;\n  border-radius: 8px;\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\n  max-width: 600px;\n  width: 90%;\n  max-height: 80vh;\n  overflow: hidden;\n  animation: dialogSlideIn 0.3s ease-out;\n}\n\n@keyframes dialogSlideIn {\n  from {\n    opacity: 0;\n    transform: scale(0.8) translateY(-20px);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n  }\n}\n\n.dialog-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1.5rem;\n  border-bottom: 1px solid #e9ecef;\n  background: #f8f9fa;\n}\n\n.dialog-header h3 {\n  margin: 0;\n  color: #495057;\n  font-size: 1.25rem;\n}\n\n.dialog-close {\n  background: none;\n  border: none;\n  font-size: 1.5rem;\n  cursor: pointer;\n  color: #6c757d;\n  padding: 0;\n  width: 30px;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  transition: all 0.2s;\n}\n\n.dialog-close:hover {\n  background: #e9ecef;\n  color: #495057;\n}\n\n.dialog-body {\n  padding: 1.5rem;\n}\n\n.work-description {\n  background: #f8f9fa;\n  padding: 1rem;\n  border-radius: 6px;\n  border-left: 4px solid #28a745;\n  white-space: pre-wrap;\n  line-height: 1.6;\n  color: #495057;\n  font-size: 0.95rem;\n}\n\n/* Mobile Responsive */\n.files-list {\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n}\n\n.file-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.75rem;\n  border: 1px solid #e0e0e0;\n  border-radius: 6px;\n  background-color: #f9f9f9;\n}\n\n.file-info {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.file-preview {\n  width: 60px;\n  height: 60px;\n  object-fit: contain;\n  border-radius: 4px;\n  border: 1px solid #ddd;\n  cursor: pointer;\n}\n\n.file-preview:hover {\n  opacity: 0.8;\n}\n\n.file-icon {\n  font-size: 1.5rem;\n  color: #666;\n}\n\n.file-name {\n  font-weight: 500;\n}\n\n.full-image {\n  width: 100%;\n  max-height: 80vh;\n  object-fit: contain;\n}\n\n.no-files {\n  text-align: center;\n  padding: 2rem;\n  color: #666;\n}\n\n@media (max-width: 768px) {\n  :deep(.hide-mobile) {\n    display: none !important;\n  }\n  \n  .history-table :deep(.p-datatable-tbody > tr > td) {\n    padding: 0.75rem 0.5rem;\n    font-size: 0.9rem;\n  }\n  \n  .history-table :deep(.p-datatable-thead > tr > th) {\n    padding: 0.75rem 0.5rem;\n    font-size: 0.85rem;\n  }\n  \n  .task-name {\n    font-size: 0.9rem;\n    line-height: 1.2;\n  }\n}\n\n.edit-form {\n  padding: 1rem 0;\n}\n\n.form-grid {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 1rem;\n  margin-bottom: 1.5rem;\n}\n\n.input-group {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n.input-group.full-width {\n  grid-column: 1 / -1;\n}\n\n.input-label {\n  font-weight: 500;\n  color: #333;\n}\n\n.corporate-input, .corporate-dropdown {\n  width: 100%;\n}\n\n.file-upload-section {\n  margin-bottom: 1rem;\n}\n\n.existing-files, .new-files {\n  margin-top: 1rem;\n}\n\n.existing-files h4, .new-files h4 {\n  margin: 0 0 0.5rem 0;\n  font-size: 0.9rem;\n  color: #666;\n}\n\n.file-item {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem;\n  border: 1px solid #e0e0e0;\n  border-radius: 4px;\n  margin-bottom: 0.5rem;\n  background-color: #f9f9f9;\n}\n\n.file-name {\n  flex: 1;\n  font-size: 0.9rem;\n}\n\n.form-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 1rem;\n  padding-top: 1rem;\n  border-top: 1px solid #e0e0e0;\n}\n\n.action-buttons {\n  display: flex;\n  gap: 0.5rem;\n  justify-content: center;\n}\n\n.loading-state,\n.empty-works {\n  text-align: center;\n  padding: 3rem 2rem;\n  color: #6c757d;\n}\n\n.loading-state p,\n.empty-works p {\n  margin-top: 1rem;\n  font-size: 1rem;\n}\n\n.works-container {\n  max-height: 70vh;\n  overflow-y: auto;\n}\n\n.works-summary {\n  display: flex;\n  gap: 2rem;\n  padding: 1rem;\n  background: #f8f9fa;\n  border-radius: 8px;\n  margin-bottom: 1rem;\n}\n\n.works-filters {\n  display: flex;\n  gap: 1rem;\n  padding: 1rem;\n  background: white;\n  border: 1px solid #e9ecef;\n  border-radius: 8px;\n  margin-bottom: 1rem;\n  flex-wrap: wrap;\n}\n\n.filter-group {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.filter-group label {\n  font-size: 0.9rem;\n  font-weight: 500;\n  color: #495057;\n  white-space: nowrap;\n}\n\n.filter-dropdown {\n  min-width: 180px;\n}\n\n.summary-item {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  color: #495057;\n}\n\n.summary-item i {\n  color: #4A90E2;\n  font-size: 1.1rem;\n}\n\n.summary-item strong {\n  color: #4A90E2;\n  font-size: 1.1rem;\n}\n\n.works-table-wrapper {\n  overflow-x: auto;\n  border: 1px solid #e9ecef;\n  border-radius: 8px;\n}\n\n.works-table {\n  width: 100%;\n  border-collapse: collapse;\n  background: white;\n}\n\n.works-table thead {\n  background: #f8f9fa;\n}\n\n.works-table th {\n  padding: 1rem 0.75rem;\n  text-align: left;\n  font-weight: 600;\n  color: #495057;\n  border-bottom: 2px solid #e9ecef;\n  white-space: nowrap;\n}\n\n.works-table td {\n  padding: 0.75rem;\n  border-bottom: 1px solid #f1f3f4;\n  color: #495057;\n}\n\n.works-table tbody tr:hover {\n  background: #f8f9fa;\n}\n\n.works-table .text-center {\n  text-align: center;\n}\n\n.files-list {\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n}\n\n.file-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.75rem;\n  border: 1px solid #e9ecef;\n  border-radius: 6px;\n  background: #f8f9fa;\n}\n\n.file-info {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  flex: 1;\n}\n\n.file-info i {\n  color: #6c757d;\n  font-size: 1rem;\n}\n\n.file-name {\n  font-size: 0.9rem;\n  color: #495057;\n  word-break: break-all;\n}\n\n.description-preview {\n  font-size: 0.9rem;\n  color: #666;\n}\n\n.attachments-info {\n  display: flex;\n  justify-content: center;\n}\n\n.no-files,\n.no-status {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #999;\n  font-size: 0.9rem;\n  width: 100%;\n  text-align: center;\n}\n\n.category-badge {\n  white-space: nowrap;\n  overflow: visible;\n  text-overflow: unset;\n  max-width: none;\n  width: auto;\n  color: white !important;\n}\n\n@media (max-width: 480px) {\n  .history-table :deep(.p-datatable-tbody > tr > td) {\n    padding: 0.5rem 0.25rem;\n    font-size: 0.8rem;\n  }\n  \n  .history-table :deep(.p-datatable-thead > tr > th) {\n    padding: 0.5rem 0.25rem;\n    font-size: 0.8rem;\n  }\n  \n  .custom-id-badge {\n    font-size: 0.7rem;\n    padding: 0.3rem 0.5rem;\n  }\n}\n\n.badge-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  min-height: 40px;\n}\n\n.badge-container :deep(.p-badge) {\n  white-space: normal !important;\n  word-break: keep-all !important;\n  overflow-wrap: break-word !important;\n  text-align: center;\n  font-weight: 600;\n  font-size: 0.9rem;\n  padding: 0.25rem 0.4rem !important;\n  line-height: 1.5 !important;\n  display: inline-block !important;\n  max-width: 100%;\n  height: auto !important;\n}\n\n.category-display,\n.category-option,\n.status-display,\n.status-option {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.category-display .emoji,\n.category-option .emoji,\n.status-display .emoji,\n.status-option .emoji {\n  font-size: 16px;\n}\n\n.category-display i,\n.category-option i,\n.status-display i,\n.status-option i {\n  color: #4A90E2;\n  font-size: 14px;\n}\n\n/* Lock edit dialog position */\n.p-dialog .p-dialog-header {\n  cursor: default !important;\n}\n\n.p-dialog .p-dialog-header .p-dialog-title {\n  cursor: default !important;\n}\n\n.clickable-name {\n  color: #2563eb;\n  cursor: pointer;\n  text-decoration: underline;\n}\n\n.clickable-name:hover {\n  color: #1d4ed8;\n}\n</style>\n"],"mappings":";;;EAGqCA,KAAK,EAAC;;;EAW1BC,KAA2B,EAA3B;IAAA;EAAA;AAA2B;;EAQ3BD,KAAK,EAAC;AAAW;;;EAMeA,KAAK,EAAC;;;;EAG9BA,KAAK,EAAC;;;;EAYmBA,KAAK,EAAC;;;;EAI/BA,KAAK,EAAC;;;EAuCdA,KAAK,EAAC;AAAiB;;;EAIbA,KAAK,EAAC;;;EAOhBA,KAAK,EAAC;AAAgB;;;EA+BUA,KAAK,EAAC;;;;EAI9BA,KAAK,EAAC;;;EAUpBA,KAAK,EAAC;AAAe;;EAIrBA,KAAK,EAAC;AAAa;;EACjBA,KAAK,EAAC;AAAkB;;;EAS6BA,KAAK,EAAC;;;EAE3DA,KAAK,EAAC;AAAW;;;;EAEVA,KAAK,EAAC;;;EACVA,KAAK,EAAC;AAAW;;;EAYjBA,KAAK,EAAC;;;;;EAaOA,KAAK,EAAC;;;;EAKSA,KAAK,EAAC;;;;EAKlCA,KAAK,EAAC;;;EACXA,KAAK,EAAC;AAAe;;EACnBA,KAAK,EAAC;AAAc;;EAIpBA,KAAK,EAAC;AAAc;;EAMtBA,KAAK,EAAC;AAAe;;EACnBA,KAAK,EAAC;AAAc;;EAMpBA,KAAK,EAAC;AAAc;;EAQtBA,KAAK,EAAC;AAAqB;;EACvBA,KAAK,EAAC;AAAa;;EAehBA,KAAK,EAAC;AAAa;;;EAUnBA,KAAK,EAAC;AAAa;;EACnBA,KAAK,EAAC;AAAa;;EAKnBA,KAAK,EAAC;AAAa;;;;;;EAyB6BA,KAAK,EAAC;;;EAE3DA,KAAK,EAAC;AAAW;;;;EAEVA,KAAK,EAAC;;;EACVA,KAAK,EAAC;AAAW;;EAWtBA,KAAK,EAAC;AAAW;;EACfA,KAAK,EAAC;AAAa;;EAKnBA,KAAK,EAAC;AAAa;;EAKnBA,KAAK,EAAC;AAAa;;EAKnBA,KAAK,EAAC;AAAa;;EAKnBA,KAAK,EAAC;AAAa;;EAKnBA,KAAK,EAAC;AAAa;;EAMnBA,KAAK,EAAC;AAAa;;;;;EAcnBA,KAAK,EAAC;AAAa;;;;;EAcnBA,KAAK,EAAC;AAAwB;;EAK9BA,KAAK,EAAC;AAAwB;;EAE5BA,KAAK,EAAC;AAAqB;;;EAYmBA,KAAK,EAAC;;;EAI/CA,KAAK,EAAC;AAAW;;;EAMmBA,KAAK,EAAC;;;EAI1CA,KAAK,EAAC;AAAW;;EAO1BA,KAAK,EAAC;AAAc;;;;;;;;;;;;;;6DA3Y7BE,YAAA,CAwIOC,eAAA;IAxIDH,KAAK,EAAC;EAAc;IACbI,OAAO,EAAAC,QAAA,CADsC,MAE7B,CAAdC,KAAA,CAAAC,KAAK,CAACC,MAAM,U,cAAvBC,mBAAA,CAGM,OAHNC,UAGM,OAAAC,MAAA,SAAAA,MAAA,QAFJC,mBAAA,CAAqE;MAAlEZ,KAAK,EAAC,iBAAiB;MAACC,KAAqC,EAArC;QAAA;QAAA;MAAA;+BAC3BW,mBAAA,CAA6B,WAA1B,wBAAsB,mB,QAGGN,KAAA,CAAAO,UAAU,CAACL,MAAM,Q,cAA/CM,YAAA,CA+HoBC,4BAAA;;MA/HkCC,IAAI,EAAEC,QAAA,CAAAC,aAAa;MACtEC,SAAS,EAAE,IAAI;MAAGC,IAAI,EAAE,EAAE;MAAGC,kBAAkB,EAAE,WAAW;MAC7DC,gBAAgB,EAAC,QAAQ;MAACtB,KAAK,EAAC,eAAe;MAACuB,WAAW,EAAX;;wBAEhD,MAMS,CANTrB,YAAA,CAMSsB,iBAAA;QANDC,KAAK,EAAC,IAAI;QAACC,MAAM,EAAC,SAAS;QAAEC,QAAQ,EAAE;;QAClCC,IAAI,EAAAvB,QAAA,CAGPwB,SAHkB,KACxBjB,mBAAA,CAEM,OAFNkB,UAEM,GADJ5B,YAAA,CAA4D6B,gBAAA;UAApDC,KAAK,EAAEH,SAAS,CAACb,IAAI,CAACiB,EAAE;UAAEjC,KAAK,EAAC;;;UAK9CE,YAAA,CAISsB,iBAAA;QAJDC,KAAK,EAAC,WAAW;QAACC,MAAM,EAAC,aAAa;QAAEC,QAAQ,EAAE,IAAI;QAAE1B,KAA2C,EAA3C;UAAA;UAAA;QAAA;;QACnD2B,IAAI,EAAAvB,QAAA,CAC8CwB,SADnC,KACxBjB,mBAAA,CAA2D,OAA3DsB,UAA2D,EAAAC,gBAAA,CAAjCN,SAAS,CAACb,IAAI,CAACoB,SAAS,iB;;UAItDlC,YAAA,CAOSsB,iBAAA;QAPDC,KAAK,EAAC,WAAW;QAACC,MAAM,EAAC,QAAQ;QAAC1B,KAAK,EAAC;;QACnC4B,IAAI,EAAAvB,QAAA,CAHqBwB,SAGV,KACbA,SAAS,CAACb,IAAI,CAACqB,SAAS,I,cAAnC5B,mBAAA,CAEM,OAFN6B,UAEM,EAAAH,gBAAA,CADDN,SAAS,CAACb,IAAI,CAACqB,SAAS,qB,cAE7B5B,mBAAA,CAAwC,QAAxC8B,UAAwC,EAAR,GAAC,G;;UAIrCrC,YAAA,CAISsB,iBAAA;QAJDC,KAAK,EAAC,iBAAiB;QAACC,MAAM,EAAC,aAAa;QAAC1B,KAAK,EAAC;;QAC9C4B,IAAI,EAAAvB,QAAA,CAC8BwB,SADnB,K,kCACrBA,SAAS,CAACb,IAAI,CAACwB,eAAe,wB;;UAIrCtC,YAAA,CAQSsB,iBAAA;QARDC,KAAK,EAAC,YAAY;QAACC,MAAM,EAAC,iBAAiB;QAAC1B,KAAK,EAAC;;QAC7C4B,IAAI,EAAAvB,QAAA,CAJUwB,SAIC,KACbA,SAAS,CAACb,IAAI,CAACyB,UAAU,I,cAApChC,mBAAA,CAGM,OAHNiC,UAGM,G,4BAFJ9B,mBAAA,CAA0B;UAAvBZ,KAAK,EAAC;QAAY,4B,iBAAK,GAC1B,GAAAmC,gBAAA,CAAGN,SAAS,CAACb,IAAI,CAACyB,UAAU,iB,oBAE9BhC,mBAAA,CAAwC,QAAxCkC,UAAwC,EAAR,GAAC,G;;UAIrCzC,YAAA,CAMSsB,iBAAA;QANDC,KAAK,EAAC,UAAU;QAACC,MAAM,EAAC,UAAU;QAAEC,QAAQ,EAAE,IAAI;QAAE1B,KAA6C,EAA7C;UAAA;UAAA;QAAA;;QAC/C2B,IAAI,EAAAvB,QAAA,CAGmBwB,SAHR,KACxB3B,YAAA,CAEgC6B,gBAAA;UAFxBC,KAAK,EAAEf,QAAA,CAAA2B,gBAAgB,CAACf,SAAS,CAACb,IAAI,CAAC6B,QAAQ;UAC/C5C,KAAK,EAAA6C,eAAA;YAAAC,eAAA,EAAqB9B,QAAA,CAAA+B,gBAAgB,CAACnB,SAAS,CAACb,IAAI,CAAC6B,QAAQ;YAAAI,KAAA;YAAAC,UAAA;UAAA;UACnElD,KAAK,EAAC;;;UAIjBE,YAAA,CAISsB,iBAAA;QAJDC,KAAK,EAAC,oBAAoB;QAACC,MAAM,EAAC,iBAAiB;QAAEC,QAAQ,EAAE;;QAC1DC,IAAI,EAAAvB,QAAA,CACgFwB,SADrE,K,kCACrBA,SAAS,CAACb,IAAI,CAACmC,kBAAkB,GAAGlC,QAAA,CAAAmC,UAAU,CAACvB,SAAS,CAACb,IAAI,CAACmC,kBAAkB,wB;;UAIvFjD,YAAA,CAISsB,iBAAA;QAJDC,KAAK,EAAC,kBAAkB;QAACC,MAAM,EAAC,mBAAmB;QAAEC,QAAQ,EAAE,IAAI;QAAE3B,KAAK,EAAC;;QACtE4B,IAAI,EAAAvB,QAAA,CAC4EwB,SADjE,K,kCACrBA,SAAS,CAACb,IAAI,CAACqC,gBAAgB,GAAGpC,QAAA,CAAAmC,UAAU,CAACvB,SAAS,CAACb,IAAI,CAACqC,gBAAgB,wB;;UAInFnD,YAAA,CAWSsB,iBAAA;QAXDE,MAAM,EAAC,YAAY;QAAC1B,KAAK,EAAC;;QACrB4B,IAAI,EAAAvB,QAAA,CAQ+BwB,SARpB,KACxB3B,YAAA,CAO4CoD,iBAAA;UAN1CC,KAAK,EAAC,cAAc;UACpBC,IAAI,EAAC,mBAAmB;UACxBC,IAAI,EAAC,OAAO;UACZC,QAAQ,EAAC,MAAM;UACfC,QAAQ,EAAR,EAAQ;UACPC,OAAK,EAAAC,MAAA,IAAE5C,QAAA,CAAA6C,eAAe,CAACjC,SAAS,CAACb,IAAI;UACrC+C,QAAQ,GAAGlC,SAAS,CAACb,IAAI,CAACgD;;;UAIjC9D,YAAA,CASSsB,iBAAA;QATDE,MAAM,EAAC,OAAO;QAACzB,KAA6C,EAA7C;UAAA;UAAA;QAAA;;QACV2B,IAAI,EAAAvB,QAAA,CAMPwB,SANkB,KACxBjB,mBAAA,CAKM,OALNqD,UAKM,GAJSpC,SAAS,CAACb,IAAI,CAACkD,MAAM,IAAI5D,KAAA,CAAA6D,YAAY,CAACC,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACrC,KAAK,KAAKH,SAAS,CAACb,IAAI,CAACkD,MAAM,K,cAA9FpD,YAAA,CAEgHiB,gBAAA;;UADxGC,KAAK,EAAEf,QAAA,CAAAqD,cAAc,CAACzC,SAAS,CAACb,IAAI,CAACkD,MAAM;UAC3CjE,KAAK,EAAA6C,eAAA;YAAAC,eAAA,EAAqB9B,QAAA,CAAAsD,cAAc,CAAC1C,SAAS,CAACb,IAAI,CAACkD,MAAM;YAAAjB,KAAA;YAAAC,UAAA;UAAA;sEACtEzC,mBAAA,CAAuC,QAAvC+D,UAAuC,EAAR,GAAC,G;;UAKtCtE,YAAA,CA6BSsB,iBAAA;QA7BDE,MAAM,EAAC,QAAQ;QAACzB,KAAqB,EAArB;UAAA;QAAA;;QACX2B,IAAI,EAAAvB,QAAA,CA0BPwB,SA1BkB,KACxBjB,mBAAA,CAyBM,OAzBN6D,WAyBM,G,gBAxBJvE,YAAA,CAOEoD,iBAAA;UANAE,IAAI,EAAC,WAAW;UAChBC,IAAI,EAAC,OAAO;UACZC,QAAQ,EAAC,MAAM;UACfC,QAAQ,EAAR,EAAQ;UACPC,OAAK,EAAAC,MAAA,IAAE5C,QAAA,CAAAyD,aAAa,CAAC7C,SAAS,CAACb,IAAI;oEACzB,aAAa,E,mBAE1Bd,YAAA,CAOEoD,iBAAA;UANAE,IAAI,EAAC,cAAc;UACnBC,IAAI,EAAC,OAAO;UACZC,QAAQ,EAAC,SAAS;UAClBC,QAAQ,EAAR,EAAQ;UACPC,OAAK,EAAAC,MAAA,IAAE5C,QAAA,CAAA0D,QAAQ,CAAC9C,SAAS,CAACb,IAAI;oEACpB,OAAO,E,mBAEpBd,YAAA,CAOEoD,iBAAA;UANAE,IAAI,EAAC,aAAa;UAClBC,IAAI,EAAC,OAAO;UACZC,QAAQ,EAAC,QAAQ;UACjBC,QAAQ,EAAR,EAAQ;UACPC,OAAK,EAAAC,MAAA,IAAE5C,QAAA,CAAA2D,iBAAiB,CAAC/C,SAAS,CAACb,IAAI;oEAC7B,IAAI,E;;UAMvBd,YAAA,CAQSsB,iBAAA;QARDE,MAAM,EAAC,SAAS;QAACzB,KAAoB,EAApB;UAAA;QAAA;;QACZ2B,IAAI,EAAAvB,QAAA,CAtB2BwB,SAsBhB,KACbZ,QAAA,CAAA4D,QAAQ,CAAChD,SAAS,CAACb,IAAI,K,cAAlCP,mBAAA,CAGM,OAHNqE,WAGM,G,gBAFJ5E,YAAA,CACiGoD,iBAAA;UADzFE,IAAI,EAAC,iBAAiB;UAACC,IAAI,EAAC,OAAO;UAACC,QAAQ,EAAC,MAAM;UAACC,QAAQ,EAAR,EAAQ;UACjEC,OAAK,EAAAC,MAAA,IAAE5C,QAAA,CAAA8D,iBAAiB,CAAClD,SAAS,CAACb,IAAI;uEAAiBa,SAAS,CAACb,IAAI,CAACgE,KAAK,CAACxE,MAAM,S,sBAExFC,mBAAA,CAAsC,QAAtCwE,WAAsC,EAAR,GAAC,G;;;;;;MAOzCC,mBAAA,oCAAuC,EAC5B5E,KAAA,CAAA6E,YAAY,I,cAAvB1E,mBAAA,CAYM;;IAZmBT,KAAK,EAAC,gBAAgB;IAAE4D,OAAK,EAAAjD,MAAA,QAAAA,MAAA,MAAAkD,MAAA,IAAEvD,KAAA,CAAA6E,YAAY;MAClEvE,mBAAA,CAUM;IAVDZ,KAAK,EAAC,gBAAgB;IAAE4D,OAAK,EAAAjD,MAAA,QAAAA,MAAA,MAAAyE,cAAA,CAAN,QAAW;MACrCxE,mBAAA,CAGM,OAHNyE,WAGM,G,4BAFJzE,mBAAA,CAAsB,YAAlB,eAAa,qBACjBA,mBAAA,CAA2E;IAAnEZ,KAAK,EAAC,cAAc;IAAE4D,OAAK,EAAAjD,MAAA,QAAAA,MAAA,MAAAkD,MAAA,IAAEvD,KAAA,CAAA6E,YAAY;KAAU,GAAO,E,GAEpEvE,mBAAA,CAIM,OAJN0E,WAIM,GAHJ1E,mBAAA,CAEM,OAFN2E,WAEM,EAAApD,gBAAA,CADD7B,KAAA,CAAAkF,YAAY,EAAExB,WAAW,sC,4CAMpCkB,mBAAA,kBAAqB,EACrBhF,YAAA,CAqBSuF,iBAAA;IArBOC,OAAO,EAAEpF,KAAA,CAAAqF,WAAW;4DAAXrF,KAAA,CAAAqF,WAAW,GAAA9B,MAAA;IAAE+B,KAAK,EAAL,EAAK;IAAClE,MAAM,EAAC,SAAS;IAAEzB,KAAK,EAAE;MAAA4F,KAAA;MAAAC,QAAA;IAAA,CAAoC;IAAGC,SAAS,EAAE;;sBA9B3B,MAc9E,CAiBDzF,KAAA,CAAA0F,iBAAiB,IAAI1F,KAAA,CAAA0F,iBAAiB,CAACxF,MAAM,Q,cAAxDC,mBAAA,CAgBM,OAhBNwF,WAgBM,I,kBAfJxF,mBAAA,CAcMyF,SAAA,QAAAC,WAAA,CAduB7F,KAAA,CAAA0F,iBAAiB,GAAjCI,IAAI,EAAEC,KAAK;2BAAxB5F,mBAAA,CAcM;QAd2C6F,GAAG,EAAED,KAAK;QAAErG,KAAK,EAAC;UACjEY,mBAAA,CAIM,OAJN2F,WAIM,GAHOtF,QAAA,CAAAuF,WAAW,CAACJ,IAAI,K,cAA3B3F,mBAAA,CAA0G;;QAA3EgG,GAAG,EAAExF,QAAA,CAAAyF,UAAU,CAACN,IAAI;QAAGpG,KAAK,EAAC,cAAc;QAAE4D,OAAK,EAAAC,MAAA,IAAE5C,QAAA,CAAA0F,aAAa,CAACP,IAAI;6DACrG3F,mBAAA,CAA2C,KAA3CmG,WAA2C,IAC3ChG,mBAAA,CAAyC,QAAzCiG,WAAyC,EAAA1E,gBAAA,CAAdiE,IAAI,iB,mBAEjClG,YAAA,CAOEoD,iBAAA;QANAE,IAAI,EAAC,gBAAgB;QACrBC,IAAI,EAAC,OAAO;QACZC,QAAQ,EAAC,SAAS;QAClBC,QAAQ,EAAR,EAAQ;QACPC,OAAK,EAAAC,MAAA,IAAE5C,QAAA,CAAA6F,YAAY,CAACV,IAAI;kEACd,WAAW,E;uDAI5B3F,mBAAA,CAEM,OAFNsG,WAEM,OAAApG,MAAA,SAAAA,MAAA,QADJC,mBAAA,CAAmB,WAAhB,cAAY,mB;;kCAInBsE,mBAAA,uBAA0B,EAC1BhF,YAAA,CAESuF,iBAAA;IAFOC,OAAO,EAAEpF,KAAA,CAAA0G,eAAe;4DAAf1G,KAAA,CAAA0G,eAAe,GAAAnD,MAAA;IAAE+B,KAAK,EAAL,EAAK;IAAClE,MAAM,EAAC,QAAQ;IAAEzB,KAAK,EAAE;MAAA4F,KAAA;MAAAC,QAAA;IAAA,CAAoC;IAAGC,SAAS,EAAE;;sBACxH,MAA8C,CAA9CnF,mBAAA,CAA8C;MAAxC6F,GAAG,EAAEnG,KAAA,CAAA2G,YAAY;MAAEjH,KAAK,EAAC;;;kCAGjCkF,mBAAA,uBAA0B,EAC1BhF,YAAA,CA2FSuF,iBAAA;IA3FOC,OAAO,EAAEpF,KAAA,CAAA4G,eAAe;4DAAf5G,KAAA,CAAA4G,eAAe,GAAArD,MAAA;IAAE+B,KAAK,EAAL,EAAK;IAAElE,MAAM,0BAA0BpB,KAAA,CAAAkF,YAAY,EAAEpD,SAAS;IAC/FnC,KAAK,EAAE;MAAA4F,KAAA;MAAAC,QAAA;IAAA,CAAqC;IAAGC,SAAS,EAAE,KAAK;IAAEoB,QAAQ,EAAC;;IAuFtEC,MAAM,EAAA/G,QAAA,CACf,MAA0E,CAA1EH,YAAA,CAA0EoD,iBAAA;MAAlEC,KAAK,EAAC,KAAK;MAACC,IAAI,EAAC,aAAa;MAAEI,OAAK,EAAAjD,MAAA,QAAAA,MAAA,MAAAkD,MAAA,IAAEvD,KAAA,CAAA4G,eAAe;;sBA5HM,MAEI,CAmC/D5G,KAAA,CAAA+G,YAAY,I,cAAvB5G,mBAAA,CAGM,OAHN6G,WAGM,OAAA3G,MAAA,SAAAA,MAAA,QAFJC,mBAAA,CAA8D;MAA3DZ,KAAK,EAAC,uBAAuB;MAACC,KAAwB,EAAxB;QAAA;MAAA;+BACjCW,mBAAA,CAAyB,WAAtB,oBAAkB,mB,QAGPN,KAAA,CAAAiH,SAAS,CAAC/G,MAAM,U,cAAhCC,mBAAA,CAGM,OAHN+G,WAGM,OAAA7G,MAAA,SAAAA,MAAA,QAFJC,mBAAA,CAAiE;MAA9DZ,KAAK,EAAC,aAAa;MAACC,KAAqC,EAArC;QAAA;QAAA;MAAA;+BACvBW,mBAAA,CAA6C,WAA1C,wCAAsC,mB,uBAG3CH,mBAAA,CA0EM,OA1ENgH,WA0EM,GAzEJ7G,mBAAA,CASM,OATN8G,WASM,GARJ9G,mBAAA,CAGM,OAHN+G,WAGM,G,4BAFJ/G,mBAAA,CAA8B;MAA3BZ,KAAK,EAAC;IAAgB,4BACzBY,mBAAA,CAAoE,e,6CAA9D,WAAS,qBAAAA,mBAAA,CAAuC,gBAAAuB,gBAAA,CAA5B7B,KAAA,CAAAiH,SAAS,CAAC/G,MAAM,kB,6CAAY,SAAO,oB,KAE/DI,mBAAA,CAGM,OAHNgH,WAGM,G,4BAFJhH,mBAAA,CAA2B;MAAxBZ,KAAK,EAAC;IAAa,4BACtBY,mBAAA,CAAwD,e,6CAAlD,OAAK,qBAAAA,mBAAA,CAAsC,gBAAAuB,gBAAA,CAA3BlB,QAAA,CAAA4G,aAAa,mB,OAIvCjH,mBAAA,CAaM,OAbNkH,WAaM,GAZJlH,mBAAA,CAKM,OALNmH,WAKM,G,4BAJJnH,mBAAA,CAA4B,eAArB,eAAa,qBACpBV,YAAA,CAEoC8H,mBAAA;kBAFjB1H,KAAA,CAAA2H,gBAAgB;iEAAhB3H,KAAA,CAAA2H,gBAAgB,GAAApE,MAAA;MAAGqE,OAAO,EAAEjH,QAAA,CAAAkH,uBAAuB;MAC5DC,WAAW,EAAC,OAAO;MAACC,WAAW,EAAC,OAAO;MAACC,WAAW,EAAC,SAAS;MAC7DtI,KAAK,EAAC;0DAElBY,mBAAA,CAKM,OALN2H,WAKM,G,4BAJJ3H,mBAAA,CAAwB,eAAjB,WAAS,qBAChBV,YAAA,CAEoC8H,mBAAA;kBAFjB1H,KAAA,CAAAkI,UAAU;iEAAVlI,KAAA,CAAAkI,UAAU,GAAA3E,MAAA;MAAGqE,OAAO,EAAE5H,KAAA,CAAAmI,eAAe;MAC9CL,WAAW,EAAC,OAAO;MAACC,WAAW,EAAC,OAAO;MACvCrI,KAAK,EAAC;4DAIpBY,mBAAA,CA8CM,OA9CN8H,WA8CM,GA7CJ9H,mBAAA,CA4CQ,SA5CR+H,WA4CQ,G,4BA3CN/H,mBAAA,CAWQ,gBAVNA,mBAAA,CASK,aARHA,mBAAA,CAAW,YAAP,IAAE,GACNA,mBAAA,CAAe,YAAX,QAAM,GACVA,mBAAA,CAAsB,YAAlB,eAAa,GACjBA,mBAAA,CAAa,YAAT,MAAI,GACRA,mBAAA,CAAgB,YAAZ,SAAO,GACXA,mBAAA,CAAc,YAAV,OAAK,GACTA,mBAAA,CAAgB,YAAZ,SAAO,GACXA,mBAAA,CAAgB,YAAZ,SAAO,E,uBAGfA,mBAAA,CA8BQ,iB,kBA7BNH,mBAAA,CA4BKyF,SAAA,QAAAC,WAAA,CA5BclF,QAAA,CAAA2H,sBAAsB,EAA9BC,IAAI;2BAAfpI,mBAAA,CA4BK;QA5BuC6F,GAAG,EAAEuC,IAAI,CAAC5G;UACpDrB,mBAAA,CAEK,MAFLkI,WAEK,GADH5I,YAAA,CAA0C6B,gBAAA;QAAlCC,KAAK,EAAE6G,IAAI,CAAC5G,EAAE;QAAEyB,QAAQ,EAAC;4CAEnC9C,mBAAA,CAAyC,YAAAuB,gBAAA,CAAlClB,QAAA,CAAAmC,UAAU,CAACyF,IAAI,CAACE,SAAS,mBAChCnI,mBAAA,CAIK,aAHHA,mBAAA,CAEO;QAFDZ,KAAK,EAAC,gBAAgB;QAAE4D,OAAK,EAAAC,MAAA,IAAE5C,QAAA,CAAA+H,YAAY,CAACH,IAAI,CAACI,aAAa,EAAEJ,IAAI,CAACK,OAAO;0BAC7EL,IAAI,CAACI,aAAa,qCAAAE,WAAA,E,GAGzBvI,mBAAA,CAAoD,YAAAuB,gBAAA,CAA7C0G,IAAI,CAACO,UAAU,IAAG,KAAG,GAAAjH,gBAAA,CAAG0G,IAAI,CAACQ,QAAQ,kBAC5CzI,mBAAA,CAAuE,MAAvE0I,WAAuE,EAAAnH,gBAAA,CAA5ClB,QAAA,CAAAsI,kBAAkB,CAACV,IAAI,CAACW,WAAW,mBAC9D5I,mBAAA,CAGK,MAHL6I,WAGK,GAFHvJ,YAAA,CAC2G6B,gBAAA;QADnGC,KAAK,EAAEf,QAAA,CAAAqD,cAAc,CAACuE,IAAI,CAACa,WAAW;QACtCzJ,KAAK,EAAA6C,eAAA;UAAAC,eAAA,EAAqB9B,QAAA,CAAAsD,cAAc,CAACsE,IAAI,CAACa,WAAW;UAAAzG,KAAA;UAAAC,UAAA;QAAA;qDAEnEtC,mBAAA,CAAmC,YAAAuB,gBAAA,CAA5B0G,IAAI,CAACc,QAAQ,yBACpB/I,mBAAA,CAUK,MAVLgJ,WAUK,GATWf,IAAI,CAAC7D,KAAK,IAAI6D,IAAI,CAAC7D,KAAK,CAACxE,MAAM,O,+BAA7CM,YAAA,CAOkDwC,iBAAA;;QAN1CE,IAAI,EAAC,iBAAiB;QACrBD,KAAK,EAAEsF,IAAI,CAAC7D,KAAK,CAACxE,MAAM,CAACqJ,QAAQ;QAClCpG,IAAI,EAAC,OAAO;QACZC,QAAQ,EAAC,SAAS;QAClBC,QAAQ,EAAR,EAAQ;QACPC,OAAK,EAAAC,MAAA,IAAE5C,QAAA,CAAA6I,aAAa,CAACjB,IAAI;+EACZA,IAAI,CAAC7D,KAAK,CAACxE,MAAM,S,mBACvCC,mBAAA,CAAqB,QAAAsJ,WAAA,EAAR,GAAC,G;;;4CAa5B7E,mBAAA,uBAA0B,EAC1BhF,YAAA,CAaSuF,iBAAA;IAbOC,OAAO,EAAEpF,KAAA,CAAA0J,eAAe;4DAAf1J,KAAA,CAAA0J,eAAe,GAAAnG,MAAA;IAAE+B,KAAK,EAAL,EAAK;IAAClE,MAAM,EAAC,SAAS;IACvDzB,KAAK,EAAE;MAAA4F,KAAA;IAAA,CAAkB;IAAGE,SAAS,EAAE;;sBAjDzC,MAmBF,CA+BQzF,KAAA,CAAA2J,iBAAiB,IAAI3J,KAAA,CAAA2J,iBAAiB,CAACzJ,MAAM,Q,cAAxDC,mBAAA,CAUM,OAVNyJ,WAUM,I,kBATJzJ,mBAAA,CAQMyF,SAAA,QAAAC,WAAA,CARuB7F,KAAA,CAAA2J,iBAAiB,GAAjC7D,IAAI,EAAEC,KAAK;2BAAxB5F,mBAAA,CAQM;QAR2C6F,GAAG,EAAED,KAAK;QAAErG,KAAK,EAAC;UACjEY,mBAAA,CAIM,OAJNuJ,WAIM,GAHOlJ,QAAA,CAAAuF,WAAW,CAACJ,IAAI,K,cAA3B3F,mBAAA,CAA0G;;QAA3EgG,GAAG,EAAExF,QAAA,CAAAyF,UAAU,CAACN,IAAI;QAAGpG,KAAK,EAAC,cAAc;QAAE4D,OAAK,EAAAC,MAAA,IAAE5C,QAAA,CAAA0F,aAAa,CAACP,IAAI;6DACrG3F,mBAAA,CAA2C,KAA3C2J,WAA2C,IAC3CxJ,mBAAA,CAAyC,QAAzCyJ,WAAyC,EAAAlI,gBAAA,CAAdiE,IAAI,iB,mBAEjClG,YAAA,CACkEoD,iBAAA;QAD1DE,IAAI,EAAC,gBAAgB;QAACC,IAAI,EAAC,OAAO;QAACC,QAAQ,EAAC,SAAS;QAACC,QAAQ,EAAR,EAAQ;QAC7DC,OAAK,EAAAC,MAAA,IAAE5C,QAAA,CAAAqJ,gBAAgB,CAAClE,IAAI;kEAAc,WAAW,E;;;kCAKpElB,mBAAA,sBAAyB,EACzBhF,YAAA,CA2GSuF,iBAAA;IA3GOC,OAAO,EAAEpF,KAAA,CAAAiK,UAAU;8DAAVjK,KAAA,CAAAiK,UAAU,GAAA1G,MAAA;IAAE+B,KAAK,EAAL,EAAK;IAAClE,MAAM,EAAC,gBAAgB;IAAEzB,KAAK,EAAE;MAAA4F,KAAA;MAAAC,QAAA;IAAA,CAAoC;IAAGC,SAAS,EAAE,KAAK;IAAEoB,QAAQ,EAAC;;sBAC3I,MAyGO,CAzGPvG,mBAAA,CAyGO;MAzGA4J,QAAM,EAAA7J,MAAA,SAAAA,MAAA,OAAAyE,cAAA,KAAAqF,IAAA,KAAUxJ,QAAA,CAAAyJ,UAAA,IAAAzJ,QAAA,CAAAyJ,UAAA,IAAAD,IAAA,CAAU;MAAEzK,KAAK,EAAC;QACvCY,mBAAA,CAkGM,OAlGN+J,WAkGM,GAjGJ/J,mBAAA,CAGM,OAHNgK,WAGM,G,4BAFJhK,mBAAA,CAA4C;MAArCZ,KAAK,EAAC;IAAa,GAAC,WAAS,qBACpCE,YAAA,CAA+E2K,oBAAA;kBAA3DvK,KAAA,CAAAwK,YAAY,CAAC1I,SAAS;mEAAtB9B,KAAA,CAAAwK,YAAY,CAAC1I,SAAS,GAAAyB,MAAA;MAAEkH,QAAQ,EAAR,EAAQ;MAAC/K,KAAK,EAAC;+CAG7DY,mBAAA,CAGM,OAHNoK,WAGM,G,4BAFJpK,mBAAA,CAA4C;MAArCZ,KAAK,EAAC;IAAa,GAAC,WAAS,qBACpCE,YAAA,CAAsE2K,oBAAA;kBAAlDvK,KAAA,CAAAwK,YAAY,CAACzI,SAAS;mEAAtB/B,KAAA,CAAAwK,YAAY,CAACzI,SAAS,GAAAwB,MAAA;MAAE7D,KAAK,EAAC;+CAGpDY,mBAAA,CAGM,OAHNqK,WAGM,G,4BAFJrK,mBAAA,CAAkD;MAA3CZ,KAAK,EAAC;IAAa,GAAC,iBAAe,qBAC1CE,YAAA,CAA4E2K,oBAAA;kBAAxDvK,KAAA,CAAAwK,YAAY,CAACtI,eAAe;mEAA5BlC,KAAA,CAAAwK,YAAY,CAACtI,eAAe,GAAAqB,MAAA;MAAE7D,KAAK,EAAC;+CAG1DY,mBAAA,CAGM,OAHNsK,WAGM,G,4BAFJtK,mBAAA,CAA6C;MAAtCZ,KAAK,EAAC;IAAa,GAAC,YAAU,qBACrCE,YAAA,CAAuE2K,oBAAA;kBAAnDvK,KAAA,CAAAwK,YAAY,CAACrI,UAAU;mEAAvBnC,KAAA,CAAAwK,YAAY,CAACrI,UAAU,GAAAoB,MAAA;MAAE7D,KAAK,EAAC;+CAGrDY,mBAAA,CAGM,OAHNuK,WAGM,G,4BAFJvK,mBAAA,CAAkD;MAA3CZ,KAAK,EAAC;IAAa,GAAC,iBAAe,qBAC1CE,YAAA,CAAoGkL,mBAAA;kBAAjF9K,KAAA,CAAAwK,YAAY,CAAC3H,kBAAkB;mEAA/B7C,KAAA,CAAAwK,YAAY,CAAC3H,kBAAkB,GAAAU,MAAA;MAAEwH,UAAU,EAAC,UAAU;MAACrL,KAAK,EAAC;+CAGlFY,mBAAA,CAIM,OAJN0K,WAIM,G,4BAHJ1K,mBAAA,CAAoD;MAA7CZ,KAAK,EAAC;IAAa,GAAC,mBAAiB,qBAC5CE,YAAA,CAC+EkL,mBAAA;kBAD5D9K,KAAA,CAAAwK,YAAY,CAACzH,gBAAgB;mEAA7B/C,KAAA,CAAAwK,YAAY,CAACzH,gBAAgB,GAAAQ,MAAA;MAAEwH,UAAU,EAAC,UAAU;MAC5DE,OAAO,EAAEjL,KAAA,CAAAwK,YAAY,CAAC3H,kBAAkB;MAAEnD,KAAK,EAAC;0DAG7DY,mBAAA,CAYM,OAZN4K,WAYM,G,4BAXJ5K,mBAAA,CAAgD;MAAzCZ,KAAK,EAAC;IAAa,GAAC,eAAa,qBACxCE,YAAA,CASW8H,mBAAA;kBATQ1H,KAAA,CAAAwK,YAAY,CAACjI,QAAQ;mEAArBvC,KAAA,CAAAwK,YAAY,CAACjI,QAAQ,GAAAgB,MAAA;MAAGqE,OAAO,EAAE5H,KAAA,CAAAO,UAAU;MACpDuH,WAAW,EAAC,OAAO;MAACC,WAAW,EAAC,OAAO;MAACC,WAAW,EAAC,kBAAkB;MACtEtI,KAAK,EAAC,iBAAiB;MAAC+K,QAAQ,EAAR;;MACrB/I,KAAK,EAAA3B,QAAA,CAlBpBwB,SAkB+B,KACbA,SAAS,CAACG,KAAK,I,cAA3BvB,mBAAA,CAA2E,QAAAgL,WAAA,EAAAtJ,gBAAA,CAA3ClB,QAAA,CAAA2B,gBAAgB,CAACf,SAAS,CAACG,KAAK,qB;MAEvD0J,MAAM,EAAArL,QAAA,CAC0BwB,SADf,KAC1BjB,mBAAA,CAAyC,cAAAuB,gBAAA,CAAhCN,SAAS,CAAC6J,MAAM,CAACnI,KAAK,iB;;oDAKrC3C,mBAAA,CAYM,OAZN+K,WAYM,G,4BAXJ/K,mBAAA,CAA2C;MAApCZ,KAAK,EAAC;IAAa,GAAC,UAAQ,qBACnCE,YAAA,CASW8H,mBAAA;kBATQ1H,KAAA,CAAAwK,YAAY,CAAC5G,MAAM;mEAAnB5D,KAAA,CAAAwK,YAAY,CAAC5G,MAAM,GAAAL,MAAA;MAAGqE,OAAO,EAAE5H,KAAA,CAAA6D,YAAY;MACpDiE,WAAW,EAAC,OAAO;MAACC,WAAW,EAAC,OAAO;MAACC,WAAW,EAAC,eAAe;MACnEtI,KAAK,EAAC;;MACHgC,KAAK,EAAA3B,QAAA,CAZawB,SAYF,KACbA,SAAS,CAACG,KAAK,I,cAA3BvB,mBAAA,CAAyE,QAAAmL,WAAA,EAAAzJ,gBAAA,CAAzClB,QAAA,CAAAqD,cAAc,CAACzC,SAAS,CAACG,KAAK,qB;MAErD0J,MAAM,EAAArL,QAAA,CAC0BwB,SADf,KAC1BjB,mBAAA,CAAyC,cAAAuB,gBAAA,CAAhCN,SAAS,CAAC6J,MAAM,CAACnI,KAAK,iB;;oDAKrC3C,mBAAA,CAGM,OAHNiL,WAGM,G,4BAFJjL,mBAAA,CAA6C;MAAtCZ,KAAK,EAAC;IAAa,GAAC,YAAU,qBACrCE,YAAA,CAAgF4L,mBAAA;kBAA7DxL,KAAA,CAAAwK,YAAY,CAAC9G,WAAW;mEAAxB1D,KAAA,CAAAwK,YAAY,CAAC9G,WAAW,GAAAH,MAAA;MAAEzC,IAAI,EAAC,GAAG;MAACpB,KAAK,EAAC;+CAG9DY,mBAAA,CAgCM,OAhCNmL,WAgCM,G,4BA/BJnL,mBAAA,CAA0C;MAAnCZ,KAAK,EAAC;IAAa,GAAC,SAAO,qBAClCY,mBAAA,CASM,OATNoL,WASM,GARJpL,mBAAA,CACiG;MAD1FqL,IAAI,EAAC,MAAM;MAACC,GAAG,EAAC,eAAe;MAAEC,QAAM,EAAAxL,MAAA,SAAAA,MAAA,WAAA8J,IAAA,KAAExJ,QAAA,CAAAmL,oBAAA,IAAAnL,QAAA,CAAAmL,oBAAA,IAAA3B,IAAA,CAAoB;MAClE4B,MAAM,EAAC,oCAAoC;MAACC,QAAQ,EAAR,EAAQ;MAACtM,KAAK,EAAC,YAAY;MAACC,KAAsB,EAAtB;QAAA;MAAA;oDAC1EC,YAAA,CAKyCoD,iBAAA;MALjC2I,IAAI,EAAC,QAAQ;MACnB1I,KAAK,EAAC,WAAW;MACjBC,IAAI,EAAC,cAAc;MACnBE,QAAQ,EAAC,WAAW;MACpBC,QAAQ,EAAR,EAAQ;MACPC,OAAK,EAAAjD,MAAA,SAAAA,MAAA,OAAAkD,MAAA,IAAE0I,IAAA,CAAAC,KAAK,CAACC,aAAa,CAACC,KAAK;UAGrCxH,mBAAA,kBAAqB,EACV5E,KAAA,CAAAwK,YAAY,CAAC6B,aAAa,EAAEnM,MAAM,Q,cAA7CC,mBAAA,CAOM,OAPNmM,WAOM,G,4BANJhM,mBAAA,CAAkB,YAAd,WAAS,sB,kBACbH,mBAAA,CAIMyF,SAAA,QAAAC,WAAA,CAJuB7F,KAAA,CAAAwK,YAAY,CAAC6B,aAAa,GAA1CvG,IAAI,EAAEC,KAAK;2BAAxB5F,mBAAA,CAIM;QAJoD6F,GAAG,EAAED,KAAK;QAAErG,KAAK,EAAC;sCAC1EY,mBAAA,CAA0B;QAAvBZ,KAAK,EAAC;MAAY,4BACrBY,mBAAA,CAAyC,QAAzCiM,WAAyC,EAAA1K,gBAAA,CAAdiE,IAAI,kBAC/BlG,YAAA,CAAoGoD,iBAAA;QAA5FE,IAAI,EAAC,aAAa;QAACC,IAAI,EAAC,OAAO;QAACC,QAAQ,EAAC,QAAQ;QAACoJ,IAAI,EAAJ,EAAI;QAAElJ,OAAK,EAAAC,MAAA,IAAE5C,QAAA,CAAA8L,kBAAkB,CAAC1G,KAAK;;2EAInGnB,mBAAA,kBAAqB,EACV5E,KAAA,CAAAwK,YAAY,CAACkC,QAAQ,EAAExM,MAAM,Q,cAAxCC,mBAAA,CAOM,OAPNwM,WAOM,G,4BANJrM,mBAAA,CAAkB,YAAd,WAAS,sB,kBACbH,mBAAA,CAIMyF,SAAA,QAAAC,WAAA,CAJuB7F,KAAA,CAAAwK,YAAY,CAACkC,QAAQ,GAArC5G,IAAI,EAAEC,KAAK;2BAAxB5F,mBAAA,CAIM;QAJ+C6F,GAAG,EAAED,KAAK;QAAErG,KAAK,EAAC;sCACrEY,mBAAA,CAA0B;QAAvBZ,KAAK,EAAC;MAAY,4BACrBY,mBAAA,CAA8C,QAA9CsM,WAA8C,EAAA/K,gBAAA,CAAnBiE,IAAI,CAAC+G,IAAI,kBACpCjN,YAAA,CAA+FoD,iBAAA;QAAvFE,IAAI,EAAC,aAAa;QAACC,IAAI,EAAC,OAAO;QAACC,QAAQ,EAAC,QAAQ;QAACoJ,IAAI,EAAJ,EAAI;QAAElJ,OAAK,EAAAC,MAAA,IAAE5C,QAAA,CAAAmM,aAAa,CAAC/G,KAAK;;+EAMlGzF,mBAAA,CAGM,OAHNyM,WAGM,GAFJnN,YAAA,CAAiGoD,iBAAA;MAAzF2I,IAAI,EAAC,QAAQ;MAAC1I,KAAK,EAAC,QAAQ;MAACG,QAAQ,EAAC,WAAW;MAACC,QAAQ,EAAR,EAAQ;MAAEC,OAAK,EAAAjD,MAAA,SAAAA,MAAA,OAAAkD,MAAA,IAAEvD,KAAA,CAAAiK,UAAU;QACrFrK,YAAA,CAA0DoD,iBAAA;MAAlD2I,IAAI,EAAC,QAAQ;MAAC1I,KAAK,EAAC,QAAQ;MAACG,QAAQ,EAAC;;;kCAKpDwB,mBAAA,sBAAyB,EACzBhF,YAAA,CAIEoN,yBAAA;IAHQ5H,OAAO,EAAEpF,KAAA,CAAAiN,kBAAkB;8DAAlBjN,KAAA,CAAAiN,kBAAkB,GAAA1J,MAAA;IAClC2J,MAAM,EAAElN,KAAA,CAAAmN,cAAc;IACtBC,QAAQ,EAAEpN,KAAA,CAAAqN","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}