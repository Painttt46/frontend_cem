{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport axios from '@/utils/axiosConfig';\nimport cache from '@/utils/cache';\nclass UserService {\n  /**\n   * Get all users (with cache)\n   * @param {boolean} useCache - Use cache or force refresh\n   * @returns {Promise<Array>}\n   */\n  async getUsers(useCache = true) {\n    const cacheKey = 'users:all';\n    if (useCache) {\n      return cache.getOrSet(cacheKey, async () => {\n        const response = await axios.get('/api/users');\n        return response.data;\n      }, 5 * 60 * 1000 // 5 minutes\n      );\n    }\n\n    // Force refresh\n    const response = await axios.get('/api/users');\n    cache.set(cacheKey, response.data);\n    return response.data;\n  }\n\n  /**\n   * Get active users only\n   * @returns {Promise<Array>}\n   */\n  async getActiveUsers() {\n    const users = await this.getUsers();\n    return users.filter(u => u.is_active);\n  }\n\n  /**\n   * Get user by ID\n   * @param {number} id - User ID\n   * @returns {Promise<Object>}\n   */\n  async getUserById(id) {\n    const cacheKey = `user:${id}`;\n    return cache.getOrSet(cacheKey, async () => {\n      const response = await axios.get(`/api/users/${id}`);\n      return response.data;\n    }, 10 * 60 * 1000 // 10 minutes\n    );\n  }\n\n  /**\n   * Update user\n   * @param {number} id - User ID\n   * @param {Object} data - User data\n   * @returns {Promise<Object>}\n   */\n  async updateUser(id, data) {\n    const response = await axios.put(`/api/users/${id}`, data);\n\n    // Invalidate cache\n    cache.delete('users:all');\n    cache.delete(`user:${id}`);\n    return response.data;\n  }\n\n  /**\n   * Create user\n   * @param {Object} data - User data\n   * @returns {Promise<Object>}\n   */\n  async createUser(data) {\n    const response = await axios.post('/api/users', data);\n\n    // Invalidate cache\n    cache.delete('users:all');\n    return response.data;\n  }\n\n  /**\n   * Delete user\n   * @param {number} id - User ID\n   * @returns {Promise<void>}\n   */\n  async deleteUser(id) {\n    await axios.delete(`/api/users/${id}`);\n\n    // Invalidate cache\n    cache.delete('users:all');\n    cache.delete(`user:${id}`);\n  }\n\n  /**\n   * Clear all user cache\n   */\n  clearCache() {\n    cache.delete('users:all');\n  }\n}\nexport default new UserService();","map":{"version":3,"names":["axios","cache","UserService","getUsers","useCache","cacheKey","getOrSet","response","get","data","set","getActiveUsers","users","filter","u","is_active","getUserById","id","updateUser","put","delete","createUser","post","deleteUser","clearCache"],"sources":["D:/frontend_cem/src/services/userService.js"],"sourcesContent":["import axios from '@/utils/axiosConfig'\nimport cache from '@/utils/cache'\n\nclass UserService {\n  /**\n   * Get all users (with cache)\n   * @param {boolean} useCache - Use cache or force refresh\n   * @returns {Promise<Array>}\n   */\n  async getUsers(useCache = true) {\n    const cacheKey = 'users:all'\n    \n    if (useCache) {\n      return cache.getOrSet(\n        cacheKey,\n        async () => {\n          const response = await axios.get('/api/users')\n          return response.data\n        },\n        5 * 60 * 1000 // 5 minutes\n      )\n    }\n\n    // Force refresh\n    const response = await axios.get('/api/users')\n    cache.set(cacheKey, response.data)\n    return response.data\n  }\n\n  /**\n   * Get active users only\n   * @returns {Promise<Array>}\n   */\n  async getActiveUsers() {\n    const users = await this.getUsers()\n    return users.filter(u => u.is_active)\n  }\n\n  /**\n   * Get user by ID\n   * @param {number} id - User ID\n   * @returns {Promise<Object>}\n   */\n  async getUserById(id) {\n    const cacheKey = `user:${id}`\n    \n    return cache.getOrSet(\n      cacheKey,\n      async () => {\n        const response = await axios.get(`/api/users/${id}`)\n        return response.data\n      },\n      10 * 60 * 1000 // 10 minutes\n    )\n  }\n\n  /**\n   * Update user\n   * @param {number} id - User ID\n   * @param {Object} data - User data\n   * @returns {Promise<Object>}\n   */\n  async updateUser(id, data) {\n    const response = await axios.put(`/api/users/${id}`, data)\n    \n    // Invalidate cache\n    cache.delete('users:all')\n    cache.delete(`user:${id}`)\n    \n    return response.data\n  }\n\n  /**\n   * Create user\n   * @param {Object} data - User data\n   * @returns {Promise<Object>}\n   */\n  async createUser(data) {\n    const response = await axios.post('/api/users', data)\n    \n    // Invalidate cache\n    cache.delete('users:all')\n    \n    return response.data\n  }\n\n  /**\n   * Delete user\n   * @param {number} id - User ID\n   * @returns {Promise<void>}\n   */\n  async deleteUser(id) {\n    await axios.delete(`/api/users/${id}`)\n    \n    // Invalidate cache\n    cache.delete('users:all')\n    cache.delete(`user:${id}`)\n  }\n\n  /**\n   * Clear all user cache\n   */\n  clearCache() {\n    cache.delete('users:all')\n  }\n}\n\nexport default new UserService()\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,qBAAqB;AACvC,OAAOC,KAAK,MAAM,eAAe;AAEjC,MAAMC,WAAW,CAAC;EAChB;AACF;AACA;AACA;AACA;EACE,MAAMC,QAAQA,CAACC,QAAQ,GAAG,IAAI,EAAE;IAC9B,MAAMC,QAAQ,GAAG,WAAW;IAE5B,IAAID,QAAQ,EAAE;MACZ,OAAOH,KAAK,CAACK,QAAQ,CACnBD,QAAQ,EACR,YAAY;QACV,MAAME,QAAQ,GAAG,MAAMP,KAAK,CAACQ,GAAG,CAAC,YAAY,CAAC;QAC9C,OAAOD,QAAQ,CAACE,IAAI;MACtB,CAAC,EACD,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC;MAChB,CAAC;IACH;;IAEA;IACA,MAAMF,QAAQ,GAAG,MAAMP,KAAK,CAACQ,GAAG,CAAC,YAAY,CAAC;IAC9CP,KAAK,CAACS,GAAG,CAACL,QAAQ,EAAEE,QAAQ,CAACE,IAAI,CAAC;IAClC,OAAOF,QAAQ,CAACE,IAAI;EACtB;;EAEA;AACF;AACA;AACA;EACE,MAAME,cAAcA,CAAA,EAAG;IACrB,MAAMC,KAAK,GAAG,MAAM,IAAI,CAACT,QAAQ,CAAC,CAAC;IACnC,OAAOS,KAAK,CAACC,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,SAAS,CAAC;EACvC;;EAEA;AACF;AACA;AACA;AACA;EACE,MAAMC,WAAWA,CAACC,EAAE,EAAE;IACpB,MAAMZ,QAAQ,GAAG,QAAQY,EAAE,EAAE;IAE7B,OAAOhB,KAAK,CAACK,QAAQ,CACnBD,QAAQ,EACR,YAAY;MACV,MAAME,QAAQ,GAAG,MAAMP,KAAK,CAACQ,GAAG,CAAC,cAAcS,EAAE,EAAE,CAAC;MACpD,OAAOV,QAAQ,CAACE,IAAI;IACtB,CAAC,EACD,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;IACjB,CAAC;EACH;;EAEA;AACF;AACA;AACA;AACA;AACA;EACE,MAAMS,UAAUA,CAACD,EAAE,EAAER,IAAI,EAAE;IACzB,MAAMF,QAAQ,GAAG,MAAMP,KAAK,CAACmB,GAAG,CAAC,cAAcF,EAAE,EAAE,EAAER,IAAI,CAAC;;IAE1D;IACAR,KAAK,CAACmB,MAAM,CAAC,WAAW,CAAC;IACzBnB,KAAK,CAACmB,MAAM,CAAC,QAAQH,EAAE,EAAE,CAAC;IAE1B,OAAOV,QAAQ,CAACE,IAAI;EACtB;;EAEA;AACF;AACA;AACA;AACA;EACE,MAAMY,UAAUA,CAACZ,IAAI,EAAE;IACrB,MAAMF,QAAQ,GAAG,MAAMP,KAAK,CAACsB,IAAI,CAAC,YAAY,EAAEb,IAAI,CAAC;;IAErD;IACAR,KAAK,CAACmB,MAAM,CAAC,WAAW,CAAC;IAEzB,OAAOb,QAAQ,CAACE,IAAI;EACtB;;EAEA;AACF;AACA;AACA;AACA;EACE,MAAMc,UAAUA,CAACN,EAAE,EAAE;IACnB,MAAMjB,KAAK,CAACoB,MAAM,CAAC,cAAcH,EAAE,EAAE,CAAC;;IAEtC;IACAhB,KAAK,CAACmB,MAAM,CAAC,WAAW,CAAC;IACzBnB,KAAK,CAACmB,MAAM,CAAC,QAAQH,EAAE,EAAE,CAAC;EAC5B;;EAEA;AACF;AACA;EACEO,UAAUA,CAAA,EAAG;IACXvB,KAAK,CAACmB,MAAM,CAAC,WAAW,CAAC;EAC3B;AACF;AAEA,eAAe,IAAIlB,WAAW,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}