{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, normalizeClass as _normalizeClass, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n  class: \"app-container\"\n};\nconst _hoisted_2 = {\n  class: \"main-tabs\"\n};\nconst _hoisted_3 = {\n  class: \"tabs-header\"\n};\nconst _hoisted_4 = {\n  class: \"tab-header\"\n};\nconst _hoisted_5 = {\n  key: 0,\n  class: \"action-buttons-header\"\n};\nconst _hoisted_6 = {\n  class: \"tab-content-area\"\n};\nconst _hoisted_7 = {\n  key: 0,\n  class: \"tab-content\"\n};\nconst _hoisted_8 = {\n  key: 1,\n  class: \"tab-content\"\n};\nconst _hoisted_9 = {\n  key: 0,\n  class: \"no-images-state\"\n};\nconst _hoisted_10 = {\n  key: 1,\n  class: \"image-viewer\"\n};\nconst _hoisted_11 = {\n  class: \"section-header\"\n};\nconst _hoisted_12 = {\n  class: \"images-grid\"\n};\nconst _hoisted_13 = [\"src\", \"onClick\"];\nconst _hoisted_14 = {\n  key: 2,\n  class: \"upload-section\"\n};\nconst _hoisted_15 = {\n  class: \"upload-controls\"\n};\nconst _hoisted_16 = {\n  key: 0,\n  class: \"no-image-placeholder\"\n};\nconst _hoisted_17 = [\"src\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_TabPanel = _resolveComponent(\"TabPanel\");\n  const _component_Badge = _resolveComponent(\"Badge\");\n  const _component_TabView = _resolveComponent(\"TabView\");\n  const _component_Button = _resolveComponent(\"Button\");\n  const _component_Calendar = _resolveComponent(\"Calendar\");\n  const _component_History = _resolveComponent(\"History\");\n  const _component_BookingForm = _resolveComponent(\"BookingForm\");\n  const _component_Divider = _resolveComponent(\"Divider\");\n  const _component_Dialog = _resolveComponent(\"Dialog\");\n  const _component_Toast = _resolveComponent(\"Toast\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_cache[11] || (_cache[11] = _createElementVNode(\"div\", {\n    class: \"header-title\"\n  }, [_createElementVNode(\"i\", {\n    class: \"pi pi-car\"\n  }), _createElementVNode(\"h1\", null, \"ระบบแจ้งใช้รถ/แจ้งคืนรถ\")], -1 /* CACHED */)), _createVNode(_component_TabView, {\n    activeIndex: $data.activeTabIndex,\n    \"onUpdate:activeIndex\": _cache[0] || (_cache[0] = $event => $data.activeTabIndex = $event),\n    class: \"tab-navigation\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_TabPanel, null, {\n      header: _withCtx(() => [...(_cache[6] || (_cache[6] = [_createElementVNode(\"div\", {\n        class: \"tab-header\"\n      }, [_createElementVNode(\"i\", {\n        class: \"pi pi-calendar\"\n      }), _createElementVNode(\"span\", null, \"ปฏิทิน\")], -1 /* CACHED */)]))]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_TabPanel, null, {\n      header: _withCtx(() => [_createElementVNode(\"div\", _hoisted_4, [_cache[7] || (_cache[7] = _createElementVNode(\"i\", {\n        class: \"pi pi-history\"\n      }, null, -1 /* CACHED */)), _cache[8] || (_cache[8] = _createElementVNode(\"span\", null, \"ประวัติการใช้รถ\", -1 /* CACHED */)), $options.borrowRecordsCount > 0 ? (_openBlock(), _createBlock(_component_Badge, {\n        key: 0,\n        value: $options.borrowRecordsCount,\n        severity: \"info\"\n      }, null, 8 /* PROPS */, [\"value\"])) : _createCommentVNode(\"v-if\", true)])]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"activeIndex\"]), $data.activeTabIndex === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [_createVNode(_component_Button, {\n    onClick: $options.showReturnForm,\n    disabled: $options.availableBorrows.length === 0,\n    severity: \"warning\",\n    icon: \"pi pi-upload\",\n    raised: \"\"\n  }, {\n    default: _withCtx(() => [$options.availableBorrows.length > 0 ? (_openBlock(), _createBlock(_component_Badge, {\n      key: 0,\n      value: $options.availableBorrows.length,\n      severity: \"warning\"\n    }, null, 8 /* PROPS */, [\"value\"])) : _createCommentVNode(\"v-if\", true), _cache[9] || (_cache[9] = _createTextVNode(\" แจ้งคืนรถ \", -1 /* CACHED */))]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"onClick\", \"disabled\"]), _createVNode(_component_Button, {\n    onClick: $options.showCancelForm,\n    disabled: $options.pendingBorrows.length === 0,\n    severity: \"danger\",\n    icon: \"pi pi-times-circle\",\n    raised: \"\"\n  }, {\n    default: _withCtx(() => [_cache[10] || (_cache[10] = _createTextVNode(\" ยกเลิกการจอง \", -1 /* CACHED */)), $options.pendingBorrows.length > 0 ? (_openBlock(), _createBlock(_component_Badge, {\n      key: 0,\n      value: $options.pendingBorrows.length,\n      style: {\n        backgroundColor: 'white',\n        color: 'black',\n        fontSize: '0.75rem',\n        width: '1.2rem',\n        height: '1.2rem',\n        borderRadius: '50%',\n        display: 'inline-flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        lineHeight: '1',\n        fontWeight: 'bold',\n        border: '2px solid white'\n      }\n    }, null, 8 /* PROPS */, [\"value\"])) : _createCommentVNode(\"v-if\", true)]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"onClick\", \"disabled\"])])) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_6, [$data.activeTabIndex === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [_createVNode(_component_Calendar, {\n    records: $data.records,\n    \"available-borrows\": $options.availableBorrows,\n    \"pending-borrows\": $options.pendingBorrows,\n    \"has-active-borrow\": $options.hasActiveBorrow,\n    onSelectDate: $options.selectDate,\n    onShowReturnForm: $options.showReturnForm,\n    onShowCancelForm: $options.showCancelForm\n  }, null, 8 /* PROPS */, [\"records\", \"available-borrows\", \"pending-borrows\", \"has-active-borrow\", \"onSelectDate\", \"onShowReturnForm\", \"onShowCancelForm\"])])) : _createCommentVNode(\"v-if\", true), $data.activeTabIndex === 1 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [_createVNode(_component_History, {\n    records: $data.records,\n    onViewImages: $options.viewImages,\n    onUploadImages: $options.handleAdditionalImageUploadFromHistory\n  }, null, 8 /* PROPS */, [\"records\", \"onViewImages\", \"onUploadImages\"])])) : _createCommentVNode(\"v-if\", true)])]), _createCommentVNode(\" Form Modal \"), $data.showForm ? (_openBlock(), _createBlock(_component_BookingForm, {\n    key: 0,\n    ref: \"bookingForm\",\n    \"show-form\": $data.showForm,\n    \"selected-date\": $data.selectedDate,\n    \"active-form\": $data.activeForm,\n    \"borrow-form\": $data.borrowForm,\n    \"return-form\": $data.returnForm,\n    \"cancel-form\": $data.cancelForm,\n    \"available-borrows\": $options.availableBorrows,\n    \"pending-borrows\": $options.pendingBorrows,\n    \"current-return-time\": $options.currentReturnTime,\n    \"selected-borrow-project\": $options.selectedBorrowProject,\n    \"selected-borrow-description\": $options.selectedBorrowDescription,\n    onCloseForm: $options.closeForm,\n    onSubmitBorrow: $options.submitBorrow,\n    onSubmitReturn: $options.submitReturn,\n    onSubmitCancel: $options.submitCancel,\n    onHandleImageUpload: $options.handleImageUpload,\n    onRemoveImage: $options.removeImage,\n    onUpdateBorrowForm: $options.updateBorrowForm,\n    onUpdateReturnForm: $options.updateReturnForm,\n    onUpdateCancelForm: $options.updateCancelForm\n  }, null, 8 /* PROPS */, [\"show-form\", \"selected-date\", \"active-form\", \"borrow-form\", \"return-form\", \"cancel-form\", \"available-borrows\", \"pending-borrows\", \"current-return-time\", \"selected-borrow-project\", \"selected-borrow-description\", \"onCloseForm\", \"onSubmitBorrow\", \"onSubmitReturn\", \"onSubmitCancel\", \"onHandleImageUpload\", \"onRemoveImage\", \"onUpdateBorrowForm\", \"onUpdateReturnForm\", \"onUpdateCancelForm\"])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Image Modal \"), _createVNode(_component_Dialog, {\n    visible: $data.showImageModal,\n    \"onUpdate:visible\": _cache[2] || (_cache[2] = $event => $data.showImageModal = $event),\n    modal: \"\",\n    header: \"รูปภาพ\",\n    style: {\n      width: '80vw'\n    },\n    draggable: false\n  }, {\n    default: _withCtx(() => [$data.selectedImages.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [...(_cache[12] || (_cache[12] = [_createElementVNode(\"i\", {\n      class: \"pi pi-image\",\n      style: {\n        \"font-size\": \"4rem\",\n        \"color\": \"#ccc\"\n      }\n    }, null, -1 /* CACHED */), _createElementVNode(\"p\", null, \"ไม่มีรูปภาพ\", -1 /* CACHED */)]))])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_10, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.groupedImages, imageType => {\n      return _openBlock(), _createElementBlock(\"div\", {\n        key: imageType.type,\n        class: _normalizeClass(['image-section', imageType.type === 'ใช้' ? 'borrow-section' : 'return-section'])\n      }, [_createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"i\", {\n        class: _normalizeClass(imageType.type === 'ใช้' ? 'pi pi-download' : 'pi pi-upload')\n      }, null, 2 /* CLASS */), _createTextVNode(\" รูปภาพตอน\" + _toDisplayString(imageType.type), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_12, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(imageType.images, (image, index) => {\n        return _openBlock(), _createElementBlock(\"div\", {\n          key: index,\n          class: \"image-container\"\n        }, [_createElementVNode(\"img\", {\n          src: image.src?.src || image.src,\n          class: \"grid-image\",\n          onClick: $event => $options.viewFullImage(image),\n          alt: \"รูปภาพ\"\n        }, null, 8 /* PROPS */, _hoisted_13)]);\n      }), 128 /* KEYED_FRAGMENT */))])], 2 /* CLASS */);\n    }), 128 /* KEYED_FRAGMENT */))])), _createCommentVNode(\" Upload section \"), $data.currentBookingData && $options.canUploadForBooking($data.currentBookingData) ? (_openBlock(), _createElementBlock(\"div\", _hoisted_14, [_createVNode(_component_Divider), _createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"input\", {\n      type: \"file\",\n      id: \"modal-upload\",\n      onChange: _cache[1] || (_cache[1] = (...args) => $options.handleModalImageUpload && $options.handleModalImageUpload(...args)),\n      accept: \"image/*\",\n      multiple: \"\",\n      style: {\n        \"display\": \"none\"\n      }\n    }, null, 32 /* NEED_HYDRATION */), _createVNode(_component_Button, {\n      label: \"อัปโหลดรูปเพิ่ม\",\n      icon: \"pi pi-camera\",\n      onClick: $options.triggerFileUpload,\n      severity: \"secondary\"\n    }, null, 8 /* PROPS */, [\"onClick\"])])])) : _createCommentVNode(\"v-if\", true)]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"visible\"]), _createCommentVNode(\" Full Size Image Modal \"), _createVNode(_component_Dialog, {\n    visible: $data.showFullImageModal,\n    \"onUpdate:visible\": _cache[5] || (_cache[5] = $event => $data.showFullImageModal = $event),\n    modal: \"\",\n    header: \"รูปภาพขนาดใหญ่\",\n    style: {\n      width: '90vw'\n    },\n    draggable: false\n  }, {\n    default: _withCtx(() => [!$data.fullSizeImage ? (_openBlock(), _createElementBlock(\"div\", _hoisted_16, [...(_cache[13] || (_cache[13] = [_createElementVNode(\"p\", null, \"ไม่สามารถโหลดรูปภาพได้\", -1 /* CACHED */)]))])) : (_openBlock(), _createElementBlock(\"img\", {\n      key: 1,\n      src: typeof $data.fullSizeImage === 'string' ? $data.fullSizeImage : $data.fullSizeImage.src,\n      class: \"full-size-image\",\n      onError: _cache[3] || (_cache[3] = (...args) => $options.handleImageError && $options.handleImageError(...args)),\n      onLoad: _cache[4] || (_cache[4] = (...args) => $options.handleImageLoad && $options.handleImageLoad(...args))\n    }, null, 40 /* PROPS, NEED_HYDRATION */, _hoisted_17))]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"visible\"]), _createCommentVNode(\" Toast for notifications \"), _createVNode(_component_Toast)]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_createVNode","_component_TabView","activeIndex","$data","activeTabIndex","$event","_component_TabPanel","header","_withCtx","_cache","_hoisted_4","$options","borrowRecordsCount","_createBlock","_component_Badge","value","severity","_hoisted_5","_component_Button","onClick","showReturnForm","disabled","availableBorrows","length","icon","raised","showCancelForm","pendingBorrows","style","backgroundColor","color","fontSize","_hoisted_6","_hoisted_7","_component_Calendar","records","hasActiveBorrow","onSelectDate","selectDate","onShowReturnForm","onShowCancelForm","_hoisted_8","_component_History","onViewImages","viewImages","onUploadImages","handleAdditionalImageUploadFromHistory","_createCommentVNode","showForm","_component_BookingForm","ref","selectedDate","activeForm","borrowForm","returnForm","cancelForm","currentReturnTime","selectedBorrowProject","selectedBorrowDescription","onCloseForm","closeForm","onSubmitBorrow","submitBorrow","onSubmitReturn","submitReturn","onSubmitCancel","submitCancel","onHandleImageUpload","handleImageUpload","onRemoveImage","removeImage","onUpdateBorrowForm","updateBorrowForm","onUpdateReturnForm","updateReturnForm","onUpdateCancelForm","updateCancelForm","_component_Dialog","visible","showImageModal","modal","width","draggable","selectedImages","_hoisted_9","_hoisted_10","_Fragment","_renderList","groupedImages","imageType","key","type","_normalizeClass","_hoisted_11","_toDisplayString","_hoisted_12","images","image","index","src","viewFullImage","alt","currentBookingData","canUploadForBooking","_hoisted_14","_component_Divider","_hoisted_15","id","onChange","args","handleModalImageUpload","accept","multiple","label","triggerFileUpload","showFullImageModal","fullSizeImage","_hoisted_16","onError","handleImageError","onLoad","handleImageLoad","_component_Toast"],"sources":["D:\\frontend_cem\\src\\views\\car_booking\\car_booking.vue"],"sourcesContent":["<template>\n  <div class=\"app-container\">\n    <div class=\"main-tabs\">\n      <div class=\"tabs-header\">\n        <div class=\"header-title\">\n          <i class=\"pi pi-car\"></i>\n          <h1>ระบบแจ้งใช้รถ/แจ้งคืนรถ</h1>\n        </div>\n        \n        <TabView v-model:activeIndex=\"activeTabIndex\" class=\"tab-navigation\">\n          <TabPanel>\n            <template #header>\n              <div class=\"tab-header\">\n                <i class=\"pi pi-calendar\"></i>\n                <span>ปฏิทิน</span>\n              </div>\n            </template>\n          </TabPanel>\n\n          <TabPanel>\n            <template #header>\n              <div class=\"tab-header\">\n                <i class=\"pi pi-history\"></i>\n                <span>ประวัติการใช้รถ</span>\n                <Badge v-if=\"borrowRecordsCount > 0\" :value=\"borrowRecordsCount\" severity=\"info\" />\n              </div>\n            </template>\n          </TabPanel>\n        </TabView>\n\n        <div v-if=\"activeTabIndex === 0\" class=\"action-buttons-header\">\n          <Button @click=\"showReturnForm\" :disabled=\"availableBorrows.length === 0\" severity=\"warning\"\n            icon=\"pi pi-upload\" raised>\n            <Badge v-if=\"availableBorrows.length > 0\" :value=\"availableBorrows.length\" severity=\"warning\" />\n            แจ้งคืนรถ\n          </Button>\n\n          <Button @click=\"showCancelForm\" :disabled=\"pendingBorrows.length === 0\" severity=\"danger\"\n            icon=\"pi pi-times-circle\" raised>\n            ยกเลิกการจอง\n            <Badge v-if=\"pendingBorrows.length > 0\" :value=\"pendingBorrows.length\" \n                   :style=\"{ backgroundColor: 'white', color: 'black', fontSize: '0.75rem', \n                            width: '1.2rem', height: '1.2rem', borderRadius: '50%',\n                            display: 'inline-flex', alignItems: 'center', justifyContent: 'center',\n                            lineHeight: '1', fontWeight: 'bold', border: '2px solid white' }\" />\n          </Button>\n        </div>\n      </div>\n\n      <div class=\"tab-content-area\">\n        <div v-if=\"activeTabIndex === 0\" class=\"tab-content\">\n          <Calendar :records=\"records\" :available-borrows=\"availableBorrows\" :pending-borrows=\"pendingBorrows\"\n            :has-active-borrow=\"hasActiveBorrow\" @select-date=\"selectDate\" @show-return-form=\"showReturnForm\"\n            @show-cancel-form=\"showCancelForm\" />\n        </div>\n\n        <div v-if=\"activeTabIndex === 1\" class=\"tab-content\">\n          <History :records=\"records\" @view-images=\"viewImages\"\n            @upload-images=\"handleAdditionalImageUploadFromHistory\" />\n        </div>\n      </div>\n    </div>\n\n    <!-- Form Modal -->\n    <BookingForm ref=\"bookingForm\" v-if=\"showForm\" :show-form=\"showForm\" :selected-date=\"selectedDate\"\n      :active-form=\"activeForm\" :borrow-form=\"borrowForm\" :return-form=\"returnForm\" :cancel-form=\"cancelForm\"\n      :available-borrows=\"availableBorrows\" :pending-borrows=\"pendingBorrows\" :current-return-time=\"currentReturnTime\"\n      :selected-borrow-project=\"selectedBorrowProject\" :selected-borrow-description=\"selectedBorrowDescription\" @close-form=\"closeForm\" @submit-borrow=\"submitBorrow\"\n      @submit-return=\"submitReturn\" @submit-cancel=\"submitCancel\" @handle-image-upload=\"handleImageUpload\"\n      @remove-image=\"removeImage\" @update-borrow-form=\"updateBorrowForm\" @updateReturnForm=\"updateReturnForm\"\n      @update-cancel-form=\"updateCancelForm\" />\n\n    <!-- Image Modal -->\n    <Dialog v-model:visible=\"showImageModal\" modal header=\"รูปภาพ\" :style=\"{ width: '80vw' }\" :draggable=\"false\">\n      <div v-if=\"selectedImages.length === 0\" class=\"no-images-state\">\n        <i class=\"pi pi-image\" style=\"font-size: 4rem; color: #ccc;\"></i>\n        <p>ไม่มีรูปภาพ</p>\n      </div>\n\n      <div v-else class=\"image-viewer\">\n        <div v-for=\"imageType in groupedImages\" :key=\"imageType.type\"\n          :class=\"['image-section', imageType.type === 'ใช้' ? 'borrow-section' : 'return-section']\">\n          <div class=\"section-header\">\n            <i :class=\"imageType.type === 'ใช้' ? 'pi pi-download' : 'pi pi-upload'\"></i>\n            รูปภาพตอน{{ imageType.type }}\n          </div>\n          <div class=\"images-grid\">\n            <div v-for=\"(image, index) in imageType.images\" :key=\"index\" class=\"image-container\">\n              <img :src=\"image.src?.src || image.src\" class=\"grid-image\" @click=\"viewFullImage(image)\" alt=\"รูปภาพ\" />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Upload section -->\n      <div v-if=\"currentBookingData && canUploadForBooking(currentBookingData)\" class=\"upload-section\">\n        <Divider />\n        <div class=\"upload-controls\">\n          <input type=\"file\" id=\"modal-upload\" @change=\"handleModalImageUpload\" accept=\"image/*\" multiple\n            style=\"display: none\" />\n          <Button label=\"อัปโหลดรูปเพิ่ม\" icon=\"pi pi-camera\" @click=\"triggerFileUpload\" severity=\"secondary\" />\n        </div>\n      </div>\n\n    </Dialog>\n    <!-- Full Size Image Modal -->\n    <Dialog v-model:visible=\"showFullImageModal\" modal header=\"รูปภาพขนาดใหญ่\" :style=\"{ width: '90vw' }\"\n      :draggable=\"false\">\n      <div v-if=\"!fullSizeImage\" class=\"no-image-placeholder\">\n        <p>ไม่สามารถโหลดรูปภาพได้</p>\n      </div>\n      <img v-else :src=\"typeof fullSizeImage === 'string' ? fullSizeImage : fullSizeImage.src\" class=\"full-size-image\"\n        @error=\"handleImageError\" @load=\"handleImageLoad\" />\n    </Dialog>\n\n    <!-- Toast for notifications -->\n    <Toast />\n  </div>\n</template>\n\n<script>\nimport Calendar from './Calendar.vue'\nimport History from './History.vue'\nimport BookingFormPrime from './BookingFormPrime.vue'\nimport axios from '@/utils/axiosConfig'\n\nexport default {\n  components: {\n    Calendar,\n    History,\n    BookingForm: BookingFormPrime\n  },\n  data() {\n    return {\n      activeTabIndex: 0,\n      selectedDate: null,\n      showForm: false,\n      activeForm: 'borrow',\n      borrowForm: {\n        license: 'FXAG-2032',\n        time: '',\n        location: '',\n        project: '',\n        discription: '',\n        colleagues: [],\n        images: []\n      },\n      returnForm: {\n        borrowId: '',\n        license: 'FXAG-2032',\n        location: '',\n        discription: '',\n        images: []\n      },\n      cancelForm: {\n        borrowId: '',\n        reason: ''\n      },\n      records: [],\n      currentTime: new Date(),\n      serverTimeOffset: 0,\n      currentBookingData: null,\n      showImageModal: false,\n      selectedImages: [],\n      showFullImageModal: false,\n      fullSizeImage: '',\n      teamsWebhookUrl: 'YOUR_TEAMS_WEBHOOK_URL_HERE',\n      notifiedActiveBookings: new Set()\n    }\n  },\n  computed: {\n    currentDateTime() {\n      return this.currentTime.toLocaleString('th-TH', {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit',\n        second: '2-digit'\n      })\n    },\n    hasActiveBorrow() {\n      return this.records.some(r => r.status === 'active')\n    },\n    availableBorrows() {\n      const currentUserName = this.getCurrentUserName()\n      \n      return this.records.filter(r => {\n        // Must be active status (past borrow time, not returned)\n        if (r.status !== 'active') return false\n\n        // Check if current user is authorized to return this booking\n        const isBorrower = r.name === currentUserName\n        const isColleague = r.colleagues && Array.isArray(r.colleagues) &&\n          r.colleagues.some(colleague => {\n            const colleagueName = typeof colleague === 'string' ? colleague : colleague?.name\n            return colleagueName === currentUserName\n          })\n\n        return isBorrower || isColleague\n      })\n    },\n    pendingBorrows() {\n      const currentUserName = this.getCurrentUserName()\n\n      return this.records.filter(r => {\n        // Must be pending status (future booking, not started yet)\n        if (r.status !== 'pending') return false\n\n        // Check if current user is authorized to cancel this booking\n        const isBorrower = r.name === currentUserName\n        const isColleague = r.colleagues && Array.isArray(r.colleagues) &&\n          r.colleagues.some(colleague => {\n            const colleagueName = typeof colleague === 'string' ? colleague : colleague?.name\n            return colleagueName === currentUserName\n          })\n\n        return isBorrower || isColleague\n      })\n    },\n    currentReturnTime() {\n      return this.currentTime.toLocaleTimeString('th-TH', {\n        hour: '2-digit',\n        minute: '2-digit'\n      })\n    },\n    selectedBorrowProject() {\n      if (!this.returnForm.borrowId) return ''\n      const selectedBorrow = this.records.find(r => r.id == this.returnForm.borrowId)\n      return selectedBorrow ? selectedBorrow.project : ''\n    },\n    selectedBorrowDescription() {\n      if (!this.returnForm.borrowId) return ''\n      const selectedBorrow = this.records.find(r => r.id == this.returnForm.borrowId)\n      return selectedBorrow ? selectedBorrow.discription : ''\n    },\n    borrowRecordsCount() {\n      return this.records.filter(r => r.status !== 'returned').length\n    },\n    bookingsAllowingImageUpload() {\n      const currentUserName = this.getCurrentUserName()\n      \n      return this.records.filter(r => {\n        // Must be active status and user is authorized\n        if (r.status !== 'active') return false\n\n        const isBorrower = r.name === currentUserName\n        const isColleague = r.colleagues && Array.isArray(r.colleagues) &&\n          r.colleagues.some(colleague => {\n            const colleagueName = typeof colleague === 'string' ? colleague : colleague?.name\n            return colleagueName === currentUserName\n          })\n\n        return isBorrower || isColleague\n      })\n    },\n    groupedImages() {\n      const groups = {}\n      this.selectedImages.forEach(image => {\n        if (!groups[image.type]) {\n          groups[image.type] = []\n        }\n        groups[image.type].push(image)\n      })\n      return Object.keys(groups).map(type => ({\n        type,\n        images: groups[type]\n      }))\n    }\n  },\n  mounted() {\n    this.syncServerTime()\n    \n    setInterval(() => {\n      this.currentTime = new Date(Date.now() + this.serverTimeOffset)\n    }, 1000)\n    \n    setInterval(() => {\n      this.loadRecords()\n    }, 30000)\n    \n    setInterval(() => {\n      this.syncServerTime()\n    }, 300000)\n  },\n  created() {\n    this.$http = axios\n    this.loadRecords()\n  },\n  methods: {\n    async syncServerTime() {\n      try {\n        const response = await axios.get('/api/server-time')\n        const serverTime = new Date(response.data.serverTime)\n        const clientTime = new Date()\n        this.serverTimeOffset = serverTime.getTime() - clientTime.getTime()\n        this.currentTime = new Date(Date.now() + this.serverTimeOffset)\n        console.log('[Time Sync] Server time:', serverTime.toLocaleString('th-TH'))\n        console.log('[Time Sync] Offset:', this.serverTimeOffset, 'ms')\n      } catch (error) {\n        console.error('Failed to sync server time:', error)\n      }\n    },\n    getCurrentUserName() {\n      const firstName = localStorage.getItem('soc_firstname') || ''\n      const lastName = localStorage.getItem('soc_lastname') || ''\n      return `${firstName} ${lastName}`.trim()\n    },\n    async loadRecords() {\n      try {\n        const response = await axios.get('/api/car-booking')\n        this.records = response.data\n      } catch (error) {\n        this.$toast.add({\n          severity: 'error',\n          summary: 'เกิดข้อผิดพลาด',\n          detail: 'ไม่สามารถโหลดข้อมูลการจองรถได้',\n          life: 3000\n        })\n      }\n    },\n    triggerFileUpload() {\n      document.getElementById('modal-upload').click()\n    },\n    selectDate(date) {\n      this.selectedDate = date\n      this.showForm = true\n      this.activeForm = 'borrow'\n    },\n    showReturnForm() {\n      this.selectedDate = new Date(Date.now() + this.serverTimeOffset)\n      this.showForm = true\n      this.activeForm = 'return'\n    },\n    showCancelForm() {\n      this.selectedDate = new Date(Date.now() + this.serverTimeOffset)\n      this.showForm = true\n      this.activeForm = 'cancel'\n    },\n    closeForm() {\n      this.showForm = false\n      this.selectedDate = null\n      this.resetForms()\n    },\n    handleImageUpload(event, formType) {\n      const files = Array.from(event.target.files)\n      if (formType === 'borrow') {\n        this.borrowForm.images = [...(this.borrowForm.images || []), ...files]\n      } else {\n        this.returnForm.images = [...(this.returnForm.images || []), ...files]\n      }\n    },\n    removeImage(index, formType) {\n      if (formType === 'borrow') {\n        this.borrowForm.images.splice(index, 1)\n      } else {\n        this.returnForm.images.splice(index, 1)\n      }\n    },\n    async convertImagesToBase64(images) {\n      const promises = images.map(img => {\n        if (img instanceof File) {\n          return new Promise((resolve) => {\n            const reader = new FileReader()\n            reader.onload = () => resolve(reader.result)\n            reader.readAsDataURL(img)\n          })\n        }\n        return Promise.resolve(img)\n      })\n      return Promise.all(promises)\n    },\n    openImageModal(imageSrc) {\n      this.selectedImages = [{ src: imageSrc, type: 'รูปภาพ' }]\n      this.showImageModal = true\n    },\n    calculateUsageDuration(borrowDate, borrowTime, returnDate) {\n      const borrowDateTime = new Date(borrowDate)\n      const [hour, minute] = borrowTime.split(':').map(Number)\n      borrowDateTime.setHours(hour, minute, 0, 0)\n\n      const diffMs = returnDate - borrowDateTime\n      const diffHours = Math.floor(diffMs / (1000 * 60 * 60))\n      const diffMinutes = Math.floor((diffMs % (1000 * 60 * 60)) / (1000 * 60))\n\n      if (diffHours > 0) {\n        return `${diffHours} ชั่วโมง ${diffMinutes} นาที`\n      } else {\n        return `${diffMinutes} นาที`\n      }\n    },\n    viewImages(images, bookingData = null) {\n      this.selectedImages = images\n      this.currentBookingData = bookingData\n      this.showImageModal = true\n    },\n    handleImageError() {\n      this.$toast.add({\n        severity: 'error',\n        summary: 'เกิดข้อผิดพลาด',\n        detail: 'ไม่สามารถโหลดรูปภาพได้',\n        life: 3000\n      })\n    },\n    handleImageLoad() {\n    },\n    viewFullImage(imageSrc) {\n      // Handle nested proxy objects\n      let imageUrl = imageSrc\n      if (typeof imageSrc === 'object' && imageSrc.src) {\n        imageUrl = typeof imageSrc.src === 'string' ? imageSrc.src : imageSrc.src.src\n      }\n      this.fullSizeImage = imageUrl\n      this.showFullImageModal = true\n    },\n    formatDateForDB(date) {\n      const d = new Date(date)\n      // Convert to Bangkok timezone\n      const bangkokTime = new Date(d.toLocaleString('en-US', { timeZone: 'Asia/Bangkok' }))\n      const year = bangkokTime.getFullYear()\n      const month = String(bangkokTime.getMonth() + 1).padStart(2, '0')\n      const day = String(bangkokTime.getDate()).padStart(2, '0')\n      return `${year}-${month}-${day}`\n    },\n    async handleAdditionalImageUpload(event, bookingId) {\n      const files = Array.from(event.target.files)\n      if (files.length === 0) return\n\n      try {\n        // Find the booking record\n        const booking = this.records.find(r => r.id === bookingId)\n        if (!booking) return\n\n        // Convert files to base64\n        const newImages = []\n        for (const file of files) {\n          const reader = new FileReader()\n          const base64 = await new Promise((resolve) => {\n            reader.onload = () => resolve(reader.result)\n            reader.readAsDataURL(file)\n          })\n          newImages.push({\n            name: file.name,\n            src: base64,\n            type: 'เพิ่มเติม',\n            timestamp: new Date(Date.now() + this.serverTimeOffset).toLocaleString('th-TH')\n          })\n        }\n\n        // Update booking with new images\n        const currentImages = booking.images || []\n        const updatedImages = [...currentImages, ...newImages]\n\n        // Update in database via API (need to add PUT endpoint)\n        await this.$http.put(`/api/car-booking/${bookingId}`, {\n          images: updatedImages\n        })\n\n        await this.loadRecords()\n\n        this.$toast.add({\n          severity: 'success',\n          summary: 'สำเร็จ',\n          detail: `อัปโหลดรูปภาพ ${files.length} ไฟล์เรียบร้อย`,\n          life: 3000\n        })\n\n        // Clear file input\n        event.target.value = ''\n      } catch (error) {\n        this.$toast.add({\n          severity: 'error',\n          summary: 'เกิดข้อผิดพลาด',\n          detail: 'ไม่สามารถอัปโหลดรูปภาพได้',\n          life: 3000\n        })\n      }\n    },\n    async submitBorrow() {\n      try {\n        const images = await this.convertImagesToBase64(this.borrowForm.images || [])\n        const borrowData = {\n          type: 'borrow',\n          location: this.borrowForm.location,\n          project: this.borrowForm.project,\n          description: this.borrowForm.discription,\n          selected_date: this.formatDateForDB(this.selectedDate),\n          time: this.borrowForm.time,\n          license: 'FXAG-2032',\n          colleagues: this.borrowForm.colleagues || [],\n          images,\n          user_id: localStorage.getItem('soc_user_id')\n        }\n\n        await this.$http.post('/api/car-booking', borrowData)\n\n\n        await this.loadRecords()\n        this.closeForm()\n\n        this.$toast.add({\n          severity: 'success',\n          summary: 'สำเร็จ',\n          detail: 'บันทึกการจองรถเรียบร้อยแล้ว',\n          life: 3000\n        })\n      } catch (error) {\n        \n        // Handle conflict error (409)\n        if (error.response?.status === 409) {\n          this.$toast.add({\n            severity: 'warn',\n            summary: 'ไม่สามารถจองได้',\n            detail: error.response.data.details || error.response.data.error,\n            life: 5000\n          })\n        } else {\n          this.$toast.add({\n            severity: 'error',\n            summary: 'เกิดข้อผิดพลาด',\n            detail: 'ไม่สามารถบันทึกการจองได้',\n            life: 3000\n          })\n        }\n      }\n    },\n    async submitReturn() {\n      const borrowId = this.returnForm.borrowId || this.$refs.bookingForm?.selectedReturnBorrow\n\n      if (!borrowId) {\n        this.$toast.add({ severity: 'error', summary: 'ข้อผิดพลาด', detail: 'กรุณาเลือกการแจ้งใช้รถที่ต้องการคืน', life: 3000 })\n        return\n      }\n\n      try {\n        const firstName = localStorage.getItem('soc_firstname') || ''\n        const lastName = localStorage.getItem('soc_lastname') || ''\n        const currentUserName = `${firstName} ${lastName}`.trim()\n\n        const bangkokTime = new Date(Date.now() + this.serverTimeOffset)\n        const currentTime = bangkokTime.toLocaleTimeString('th-TH', {\n          hour: '2-digit',\n          minute: '2-digit',\n          hour12: false\n        })\n\n        const images = await this.convertImagesToBase64(this.returnForm.images || [])\n        const returnData = {\n          return_name: currentUserName,\n          return_location: this.returnForm.location,\n          return_description: this.returnForm.discription,\n          return_time: currentTime,\n          return_date: this.formatDateForDB(bangkokTime),\n          images\n        }\n\n        await axios.put(`/api/car-booking/${borrowId}`, returnData)\n\n        await this.loadRecords()\n        this.closeForm()\n\n        this.$toast.add({\n          severity: 'success',\n          summary: 'สำเร็จ',\n          detail: 'บันทึกการคืนรถเรียบร้อยแล้ว',\n          life: 3000\n        })\n      } catch (error) {\n        this.$toast.add({\n          severity: 'error',\n          summary: 'เกิดข้อผิดพลาด',\n          detail: 'ไม่สามารถบันทึกการคืนรถได้',\n          life: 3000\n        })\n      }\n    },\n    async submitCancel() {\n\n      if (!this.cancelForm.borrowId) {\n        this.$toast.add({ severity: 'error', summary: 'ข้อผิดพลาด', detail: 'กรุณาเลือกการจองที่ต้องการยกเลิก', life: 3000 })\n        return\n      }\n\n      try {\n        await this.$http.delete(`/api/car-booking/${this.cancelForm.borrowId}`)\n\n        await this.loadRecords()\n        this.closeForm()\n\n        this.$toast.add({\n          severity: 'success',\n          summary: 'สำเร็จ',\n          detail: 'ยกเลิกการจองเรียบร้อยแล้ว',\n          life: 3000\n        })\n      } catch (error) {\n        this.$toast.add({\n          severity: 'error',\n          summary: 'เกิดข้อผิดพลาด',\n          detail: 'ไม่สามารถยกเลิกการจองได้',\n          life: 3000\n        })\n      }\n    },\n    updateBorrowForm({ field, value }) {\n      this.borrowForm[field] = value\n    },\n    updateReturnForm(field, value) {\n      this.returnForm[field] = value\n    },\n    updateCancelForm({ field, value }) {\n      this.cancelForm[field] = value\n    },\n    async handleAdditionalImageUploadFromHistory({ files, bookingId }) {\n      if (files.length === 0) return\n\n      try {\n        // Find the booking record\n        const booking = this.records.find(r => r.id === bookingId)\n        if (!booking) return\n\n        // Convert files to base64\n        const newImages = []\n        for (const file of files) {\n          const reader = new FileReader()\n          const base64 = await new Promise((resolve) => {\n            reader.onload = () => resolve(reader.result)\n            reader.readAsDataURL(file)\n          })\n          newImages.push({\n            name: file.name,\n            src: base64,\n            type: 'เพิ่มเติม',\n            timestamp: new Date(Date.now() + this.serverTimeOffset).toLocaleString('th-TH')\n          })\n        }\n\n        // Update booking with new images\n        const currentImages = booking.images || []\n        const updatedImages = [...currentImages, ...newImages]\n\n        // Update in database via API\n        await this.$http.put(`/api/car-booking/${bookingId}`, {\n          images: updatedImages\n        })\n\n        await this.loadRecords()\n\n        this.$toast.add({\n          severity: 'success',\n          summary: 'สำเร็จ',\n          detail: `อัปโหลดรูปภาพ ${files.length} ไฟล์เรียบร้อย`,\n          life: 3000\n        })\n      } catch (error) {\n        this.$toast.add({\n          severity: 'error',\n          summary: 'เกิดข้อผิดพลาด',\n          detail: 'ไม่สามารถอัปโหลดรูปภาพได้',\n          life: 3000\n        })\n      }\n    },\n    resetForms() {\n      this.borrowForm = {\n        license: 'FXAG-2032',\n        time: '',\n        location: '',\n        project: '',\n        discription: '',\n        colleagues: [],\n        images: []\n      }\n      this.returnForm = {\n        borrowId: '',\n        license: 'FXAG-2032',\n        location: '',\n        discription: '',\n        images: []\n      }\n      this.cancelForm = {\n        borrowId: '',\n        reason: ''\n      }\n    },\n    canUploadForBooking(bookingData) {\n      if (!bookingData) return false\n      \n      // Find the actual record from this.records\n      const record = this.records.find(r => r.id === bookingData.id)\n      if (!record) return false\n      \n      // Can upload if status is active\n      return record.status === 'active'\n    },\n    async handleModalImageUpload(event) {\n      if (!this.currentBookingData) return\n\n      const files = Array.from(event.target.files)\n      if (files.length === 0) return\n\n      await this.handleAdditionalImageUploadFromHistory({\n        files,\n        bookingId: this.currentBookingData.id\n      })\n\n      // Clear file input and close modal\n      event.target.value = ''\n      this.showImageModal = false\n    }\n  }\n}\n</script>\n\n<style scoped>\n.calendar-card {\n  width: 100%;\n  margin: 0;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);\n  border: 1px solid #e9ecef;\n}\n\n.app-container {\n  padding: 1.5rem;\n  max-width: 100%;\n  margin: 0 auto;;\n  background: #f8f9fa;\n  min-height: 100vh;\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n}\n\n.main-tabs {\n  margin-top: 1.5rem;\n  box-shadow: 0 4px 20px rgba(74, 144, 226, 0.15);\n  border-radius: 15px;\n  overflow: hidden;\n  border: 1px solid rgba(74, 144, 226, 0.2);\n  background: white;\n}\n\n.tabs-header {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0.75rem 1.5rem;\n  background: linear-gradient(135deg, #4A90E2, #D73527);\n  position: relative;\n  flex-wrap: wrap;\n  gap: 1rem;\n}\n\n.header-title {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  color: white;\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n  z-index: 2;\n}\n\n.header-title h1 {\n  margin: 0;\n  font-size: 1.8rem;\n  font-weight: 600;\n}\n\n.header-title i {\n  font-size: 1.5rem;\n}\n\n.tab-navigation {\n  background: transparent;\n  max-width: 100%;\n  overflow: hidden;\n  margin-right: auto;\n}\n\n.tab-navigation :deep(.p-tabview-nav) {\n  background: transparent;\n  border: none;\n  margin: 0;\n  padding: 0;\n  flex-wrap: wrap;\n  justify-content: center;\n}\n\n.tab-navigation :deep(.p-tabview-nav-link) {\n  color: white;\n  border: none;\n  font-weight: 500;\n  padding: 0.75rem 1rem;\n  font-size: 0.9rem;\n  transition: all 0.3s ease;\n  border-radius: 8px;\n  margin: 0.25rem;\n  white-space: nowrap;\n}\n\n.tab-navigation :deep(.p-tabview-nav li.p-highlight .p-tabview-nav-link) {\n  background: rgba(255, 255, 255, 0.25);\n  color: white;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n  transform: translateY(-2px);\n  border-bottom: none !important;\n}\n\n.tab-navigation :deep(.p-tabview-nav-link:hover) {\n  background: rgba(255, 255, 255, 0.15);\n  transform: translateY(-1px);\n}\n\n.tab-navigation :deep(.p-tabview-ink-bar) {\n  display: none !important;\n}\n\n.tab-navigation :deep(.p-tabview-panels) {\n  display: none;\n}\n\n.action-buttons-header {\n  display: flex;\n  gap: 1rem;\n  flex-shrink: 0;\n  z-index: 1;\n  margin-left: auto;\n}\n\n.action-buttons-header .p-button {\n  font-weight: 700;\n  padding: 0.75rem 1.25rem;\n  font-size: 0.95rem;\n  border-radius: 8px;\n  min-width: 140px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n  border: 3px solid white;\n}\n\n.action-buttons-header .p-button:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\n  border: 3px solid white;\n}\n\n.tab-content-area {\n  background: white;\n}\n\n.tab-content {\n  padding: 0;\n}\n\n.main-tabs :deep(.p-tabview-nav) {\n  background: transparent;\n  border: none;\n  margin: 0;\n  padding: 0.5rem;\n  gap: 0.5rem;\n}\n\n.main-tabs :deep(.p-tabview-nav-link) {\n  color: black !important;\n  border: none;\n  font-weight: 800 !important;\n  padding: 1rem 1.5rem;\n  font-size: 1rem;\n  transition: all 0.3s ease;\n  border-radius: 8px;\n  margin: 0 0.25rem;\n  background: rgba(255, 255, 255, 0.4\n  )\n}\n\n.tab-header {\n  font-weight: 800 !important;\n  color: black !important;\n}\n\n.tab-header span {\n  font-weight: 800 !important;\n  color: black !important;\n}\n\n.tab-header i {\n  font-size: 1.2rem;\n  font-weight: 900;\n}\n\n.main-tabs :deep(.p-tabview-nav li.p-highlight .p-tabview-nav-link) {\n  background: white;\n  color: #4A90E2;\n  box-shadow: 0 4px 12px rgba(74, 144, 226, 0.3);\n  transform: translateY(-2px);\n  border-bottom: none !important;\n  font-weight: 700;\n  border-radius: 8px;\n}\n\n.main-tabs :deep(.p-tabview-nav-link:hover) {\n  background: rgba(255, 255, 255, 0.2);\n  transform: translateY(-1px);\n  border-radius: 8px;\n}\n\n.main-tabs :deep(.p-tabview-ink-bar) {\n  display: none !important;\n}\n\n.main-tabs :deep(.p-tabview-panels) {\n  background: white;\n  padding: 0;\n  border-radius: 0 0 15px 15px;\n}\n\n.main-tabs :deep(.p-tabview-panel) {\n  padding: 0;\n}\n\n.tab-header {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  font-weight: 500;\n}\n\n.tab-header i {\n  font-size: 1.1rem;\n}\n\n.tab-content {\n  padding: 0;\n}\n\n.image-viewer {\n  display: flex;\n  flex-direction: column;\n  gap: 2rem;\n}\n\n.image-section {\n  border-radius: 8px;\n  overflow: hidden;\n}\n\n.borrow-section {\n  border: 2px solid #28a745;\n}\n\n.borrow-section .section-header {\n  background: #d4edda;\n  color: #155724;\n  border-bottom: 1px solid #c3e6cb;\n}\n\n.return-section {\n  border: 2px solid #ffc107;\n}\n\n.return-section .section-header {\n  background: #fff3cd;\n  color: #856404;\n  border-bottom: 1px solid #ffeaa7;\n}\n\n.section-header {\n  background: #f8f9fa;\n  padding: 1rem;\n  font-weight: 600;\n  color: #495057;\n  border-bottom: 1px solid #e9ecef;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.images-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(100px, 120px));\n  gap: 0.5rem;\n  padding: 0.5rem;\n}\n\n.image-container {\n  position: relative;\n  width: 100%;\n  height: 100px;\n}\n\n.grid-image {\n  width: 100%;\n  height: 100px;\n  object-fit: cover;\n  border-radius: 6px;\n  border: 1px solid #e9ecef;\n  cursor: pointer;\n  transition: transform 0.2s ease;\n}\n\n.image-placeholder {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 200px;\n  background: #f8f9fa;\n  border: 1px dashed #dee2e6;\n  border-radius: 6px;\n  color: #6c757d;\n}\n\n.grid-image:hover {\n  transform: scale(1.05);\n}\n\n.full-size-image {\n  max-width: 100%;\n  max-height: 80vh;\n  object-fit: contain;\n  border-radius: 8px;\n  display: block;\n  margin: 0 auto;\n}\n\n.no-images-state {\n  text-align: center;\n  padding: 3rem;\n  color: #6c757d;\n}\n\n.no-images-state p {\n  margin-top: 1rem;\n  font-size: 1.1rem;\n}\n\n.upload-section {\n  margin-top: 1rem;\n}\n\n.upload-controls {\n  text-align: center;\n  padding: 1rem;\n}\n\n@media (max-width: 768px) {\n  .app-container {\n    padding: 1rem;\n  }\n\n  .main-header {\n    flex-direction: column;\n    text-align: center;\n    padding: 1.5rem;\n  }\n\n  .main-header h1 {\n    font-size: 1.5rem;\n  }\n\n  .car-status {\n    margin-bottom: 1rem !important;\n  }\n\n  .status-card {\n    min-width: 100%;\n    max-width: 100%;\n  }\n\n  .status-content {\n    padding: 1rem;\n    gap: 1rem;\n    flex-direction: column;\n    text-align: center;\n  }\n\n  .status-icon {\n    font-size: 2rem;\n  }\n\n  .status-text {\n    align-items: center;\n  }\n\n  .tabs-header {\n    flex-direction: column;\n    gap: 1rem;\n    padding: 1rem;\n    text-align: center;\n  }\n\n  .header-title {\n    order: 1;\n    position: static;\n    transform: none;\n    justify-content: center;\n    width: 100%;\n  }\n\n  .tab-navigation {\n    order: 2;\n    width: 100%;\n    margin-right: 0;\n  }\n\n  .tab-navigation :deep(.p-tabview-nav) {\n    flex-direction: column;\n    gap: 0.5rem;\n    padding: 0.5rem;\n  }\n\n  .tab-navigation :deep(.p-tabview-nav-link) {\n    padding: 0.75rem 1rem;\n    font-size: 0.85rem;\n    margin: 0;\n    width: 100%;\n    text-align: center;\n  }\n\n  .action-buttons-header {\n    order: 3;\n    width: 100%;\n    justify-content: center;\n    flex-wrap: wrap;\n  }\n\n  .action-buttons-header {\n    width: 100%;\n    justify-content: center;\n    flex-wrap: wrap;\n  }\n\n  .action-buttons-header .p-button {\n    flex: 1;\n    font-size: 0.9rem;\n    padding: 0.75rem 1rem;\n    min-width: auto;\n  }\n}\n\n@media (max-width: 480px) {\n  .app-container {\n    padding: 0.5rem;\n  }\n\n  .main-header h1 {\n    font-size: 1.25rem;\n  }\n\n  .header-title h1 {\n    font-size: 1.2rem;\n  }\n\n  .status-card {\n    min-width: 100%;\n  }\n\n  .status-content {\n    padding: 0.8rem;\n  }\n\n  .status-icon {\n    font-size: 1.8rem;\n  }\n\n  .status-text strong {\n    font-size: 1rem;\n  }\n\n  .action-buttons-header {\n    flex-direction: column;\n    gap: 0.8rem;\n  }\n\n  .action-buttons-header .p-button {\n    width: 100%;\n    font-size: 0.85rem;\n    padding: 0.75rem;\n  }\n\n  .tab-navigation :deep(.p-tabview-nav-link) {\n    padding: 0.6rem 0.8rem;\n    font-size: 0.8rem;\n  }\n\n  .tab-header {\n    gap: 0.5rem;\n  }\n\n  .tab-header span {\n    font-size: 0.8rem;\n  }\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}