{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode, normalizeStyle as _normalizeStyle, resolveDirective as _resolveDirective, withDirectives as _withDirectives, createBlock as _createBlock, withModifiers as _withModifiers, renderList as _renderList, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  class: \"search-box mb-3\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"empty-state\"\n};\nconst _hoisted_3 = {\n  style: {\n    \"text-align\": \"center\"\n  }\n};\nconst _hoisted_4 = {\n  class: \"task-name\"\n};\nconst _hoisted_5 = {\n  key: 0,\n  class: \"so-number\"\n};\nconst _hoisted_6 = {\n  key: 1,\n  class: \"text-muted\"\n};\nconst _hoisted_7 = {\n  key: 0,\n  class: \"sale-info\"\n};\nconst _hoisted_8 = {\n  key: 1,\n  class: \"text-muted\"\n};\nconst _hoisted_9 = {\n  class: \"action-buttons\"\n};\nconst _hoisted_10 = {\n  class: \"badge-container\"\n};\nconst _hoisted_11 = {\n  key: 0,\n  class: \"attachments-info\"\n};\nconst _hoisted_12 = {\n  key: 1,\n  class: \"no-files\"\n};\nconst _hoisted_13 = {\n  class: \"dialog-header\"\n};\nconst _hoisted_14 = {\n  class: \"dialog-body\"\n};\nconst _hoisted_15 = {\n  class: \"work-description\"\n};\nconst _hoisted_16 = {\n  key: 0,\n  class: \"files-list\"\n};\nconst _hoisted_17 = {\n  class: \"file-info\"\n};\nconst _hoisted_18 = {\n  class: \"file-name\"\n};\nconst _hoisted_19 = {\n  key: 1,\n  class: \"no-files\"\n};\nconst _hoisted_20 = {\n  key: 0,\n  class: \"loading-state\"\n};\nconst _hoisted_21 = {\n  key: 1,\n  class: \"empty-works\"\n};\nconst _hoisted_22 = {\n  key: 2,\n  class: \"works-container\"\n};\nconst _hoisted_23 = {\n  class: \"works-summary\"\n};\nconst _hoisted_24 = {\n  class: \"summary-item\"\n};\nconst _hoisted_25 = {\n  class: \"summary-item\"\n};\nconst _hoisted_26 = {\n  class: \"works-filters\"\n};\nconst _hoisted_27 = {\n  class: \"filter-group\"\n};\nconst _hoisted_28 = {\n  class: \"filter-group\"\n};\nconst _hoisted_29 = {\n  class: \"works-table-wrapper\"\n};\nconst _hoisted_30 = {\n  class: \"works-table\"\n};\nconst _hoisted_31 = {\n  class: \"text-center\"\n};\nconst _hoisted_32 = {\n  class: \"text-center\"\n};\nconst _hoisted_33 = {\n  class: \"text-center\"\n};\nconst _hoisted_34 = {\n  class: \"text-center\"\n};\nconst _hoisted_35 = {\n  key: 1\n};\nconst _hoisted_36 = {\n  key: 0,\n  class: \"files-list\"\n};\nconst _hoisted_37 = {\n  class: \"file-info\"\n};\nconst _hoisted_38 = {\n  class: \"file-name\"\n};\nconst _hoisted_39 = {\n  class: \"form-grid\"\n};\nconst _hoisted_40 = {\n  class: \"input-group\"\n};\nconst _hoisted_41 = {\n  class: \"input-group\"\n};\nconst _hoisted_42 = {\n  class: \"input-group\"\n};\nconst _hoisted_43 = {\n  class: \"input-group\"\n};\nconst _hoisted_44 = {\n  class: \"input-group\"\n};\nconst _hoisted_45 = {\n  key: 0\n};\nconst _hoisted_46 = {\n  class: \"input-group\"\n};\nconst _hoisted_47 = {\n  key: 0\n};\nconst _hoisted_48 = {\n  class: \"input-group full-width\"\n};\nconst _hoisted_49 = {\n  class: \"input-group full-width\"\n};\nconst _hoisted_50 = {\n  class: \"file-upload-section\"\n};\nconst _hoisted_51 = {\n  key: 0,\n  class: \"existing-files\"\n};\nconst _hoisted_52 = {\n  class: \"file-name\"\n};\nconst _hoisted_53 = {\n  key: 1,\n  class: \"new-files\"\n};\nconst _hoisted_54 = {\n  class: \"file-name\"\n};\nconst _hoisted_55 = {\n  class: \"form-actions\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_InputIcon = _resolveComponent(\"InputIcon\");\n  const _component_InputText = _resolveComponent(\"InputText\");\n  const _component_IconField = _resolveComponent(\"IconField\");\n  const _component_Badge = _resolveComponent(\"Badge\");\n  const _component_Column = _resolveComponent(\"Column\");\n  const _component_Button = _resolveComponent(\"Button\");\n  const _component_DataTable = _resolveComponent(\"DataTable\");\n  const _component_Card = _resolveComponent(\"Card\");\n  const _component_Dialog = _resolveComponent(\"Dialog\");\n  const _component_Dropdown = _resolveComponent(\"Dropdown\");\n  const _component_Textarea = _resolveComponent(\"Textarea\");\n  const _directive_tooltip = _resolveDirective(\"tooltip\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_Card, {\n    class: \"history-card\"\n  }, {\n    content: _withCtx(() => [_createCommentVNode(\" Search Box \"), _createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_IconField, {\n      iconPosition: \"left\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_InputIcon, {\n        class: \"pi pi-search\"\n      }), _createVNode(_component_InputText, {\n        modelValue: $data.searchQuery,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.searchQuery = $event),\n        placeholder: \"ค้นหา...\",\n        class: \"w-full\"\n      }, null, 8 /* PROPS */, [\"modelValue\"])]),\n      _: 1 /* STABLE */\n    })]), $options.filteredTasks.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_cache[22] || (_cache[22] = _createElementVNode(\"i\", {\n      class: \"pi pi-briefcase\",\n      style: {\n        \"font-size\": \"4rem\",\n        \"color\": \"#ccc\"\n      }\n    }, null, -1 /* CACHED */)), _createElementVNode(\"p\", null, _toDisplayString($data.searchQuery ? 'ไม่พบข้อมูลที่ค้นหา' : 'ยังไม่มีงานที่เพิ่มไว้'), 1 /* TEXT */)])) : $data.categories.length > 0 ? (_openBlock(), _createBlock(_component_DataTable, {\n      key: 1,\n      value: $options.filteredTasks,\n      paginator: true,\n      rows: 10,\n      rowsPerPageOptions: [5, 10, 20],\n      responsiveLayout: \"scroll\",\n      class: \"history-table\",\n      stripedRows: \"\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_Column, {\n        field: \"id\",\n        header: \"รหัสงาน\",\n        sortable: true\n      }, {\n        body: _withCtx(slotProps => [_createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_Badge, {\n          value: slotProps.data.id,\n          class: \"custom-id-badge\"\n        }, null, 8 /* PROPS */, [\"value\"])])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_Column, {\n        field: \"task_name\",\n        header: \"ชื่อโครงการ\",\n        sortable: true,\n        style: {\n          \"min-width\": \"150px\",\n          \"max-width\": \"250px\"\n        }\n      }, {\n        body: _withCtx(slotProps => [_createElementVNode(\"div\", _hoisted_4, _toDisplayString(slotProps.data.task_name), 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_Column, {\n        field: \"so_number\",\n        header: \"เลข SO\",\n        class: \"hide-mobile\"\n      }, {\n        body: _withCtx(slotProps => [slotProps.data.so_number ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, _toDisplayString(slotProps.data.so_number), 1 /* TEXT */)) : (_openBlock(), _createElementBlock(\"span\", _hoisted_6, \"-\"))]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_Column, {\n        field: \"contract_number\",\n        header: \"เลขที่สัญญา\",\n        class: \"hide-mobile\"\n      }, {\n        body: _withCtx(slotProps => [_createTextVNode(_toDisplayString(slotProps.data.contract_number || '-'), 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_Column, {\n        field: \"sale_owner\",\n        header: \"Sale เจ้าของงาน\",\n        class: \"hide-mobile\"\n      }, {\n        body: _withCtx(slotProps => [slotProps.data.sale_owner ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [_cache[23] || (_cache[23] = _createElementVNode(\"i\", {\n          class: \"pi pi-user\"\n        }, null, -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString(slotProps.data.sale_owner), 1 /* TEXT */)])) : (_openBlock(), _createElementBlock(\"span\", _hoisted_8, \"-\"))]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_Column, {\n        field: \"category\",\n        header: \"หมวดหมู่\",\n        sortable: true,\n        style: {\n          \"min-width\": \"120px\",\n          \"text-align\": \"center\"\n        }\n      }, {\n        body: _withCtx(slotProps => [_createVNode(_component_Badge, {\n          value: $options.getCategoryLabel(slotProps.data.category),\n          style: _normalizeStyle({\n            backgroundColor: $options.getCategoryColor(slotProps.data.category),\n            color: '#fff',\n            fontWeight: 'bold'\n          }),\n          class: \"category-badge\"\n        }, null, 8 /* PROPS */, [\"value\", \"style\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_Column, {\n        field: \"created_at\",\n        header: \"วันเริ่มโครงการ\",\n        sortable: true\n      }, {\n        body: _withCtx(slotProps => [_createTextVNode(_toDisplayString($options.formatDate(slotProps.data.created_at)), 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_Column, {\n        field: \"project_end_date\",\n        header: \"วันสิ้นสุดโครงการ\",\n        sortable: true,\n        class: \"hide-mobile\"\n      }, {\n        body: _withCtx(slotProps => [_createTextVNode(_toDisplayString(slotProps.data.project_end_date ? $options.formatDate(slotProps.data.project_end_date) : '-'), 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_Column, {\n        header: \"รายละเอียด\",\n        class: \"hide-mobile\"\n      }, {\n        body: _withCtx(slotProps => [_createVNode(_component_Button, {\n          label: \"ดูรายละเอียด\",\n          icon: \"pi pi-info-circle\",\n          size: \"small\",\n          severity: \"info\",\n          outlined: \"\",\n          onClick: $event => $options.showTaskDetails(slotProps.data),\n          disabled: !slotProps.data.description\n        }, null, 8 /* PROPS */, [\"onClick\", \"disabled\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_Column, {\n        header: \"จัดการ\",\n        style: {\n          \"width\": \"150px\"\n        }\n      }, {\n        body: _withCtx(slotProps => [_createElementVNode(\"div\", _hoisted_9, [_withDirectives(_createVNode(_component_Button, {\n          icon: \"pi pi-eye\",\n          size: \"small\",\n          severity: \"info\",\n          outlined: \"\",\n          onClick: $event => $options.viewTaskWorks(slotProps.data)\n        }, null, 8 /* PROPS */, [\"onClick\"]), [[_directive_tooltip, 'ดูงานรายวัน']]), _withDirectives(_createVNode(_component_Button, {\n          icon: \"pi pi-pencil\",\n          size: \"small\",\n          severity: \"warning\",\n          outlined: \"\",\n          onClick: $event => $options.editTask(slotProps.data)\n        }, null, 8 /* PROPS */, [\"onClick\"]), [[_directive_tooltip, 'แก้ไข']])])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_Column, {\n        header: \"สถานะ\",\n        style: {\n          \"text-align\": \"center\",\n          \"min-width\": \"140px\"\n        }\n      }, {\n        body: _withCtx(slotProps => [_createElementVNode(\"div\", _hoisted_10, [_createVNode(_component_Badge, {\n          value: $options.getStatusLabel(slotProps.data.status),\n          style: _normalizeStyle({\n            backgroundColor: $options.getStatusColor(slotProps.data.status),\n            color: '#fff',\n            fontWeight: 'bold'\n          })\n        }, null, 8 /* PROPS */, [\"value\", \"style\"])])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_Column, {\n        header: \"ไฟล์แนบ\",\n        style: {\n          \"width\": \"80px\"\n        }\n      }, {\n        body: _withCtx(slotProps => [$options.hasFiles(slotProps.data) ? (_openBlock(), _createElementBlock(\"div\", _hoisted_11, [_withDirectives(_createVNode(_component_Button, {\n          icon: \"pi pi-paperclip\",\n          size: \"small\",\n          severity: \"info\",\n          outlined: \"\",\n          onClick: $event => $options.downloadTaskFiles(slotProps.data)\n        }, null, 8 /* PROPS */, [\"onClick\"]), [[_directive_tooltip, `${slotProps.data.files.length} ไฟล์`]])])) : (_openBlock(), _createElementBlock(\"span\", _hoisted_12, \"-\"))]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"value\"])) : _createCommentVNode(\"v-if\", true)]),\n    _: 1 /* STABLE */\n  }), _createCommentVNode(\" Dialog สำหรับแสดงรายละเอียดงาน \"), $data.detailDialog ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    class: \"dialog-overlay\",\n    onClick: _cache[3] || (_cache[3] = $event => $data.detailDialog = false)\n  }, [_createElementVNode(\"div\", {\n    class: \"dialog-content\",\n    onClick: _cache[2] || (_cache[2] = _withModifiers(() => {}, [\"stop\"]))\n  }, [_createElementVNode(\"div\", _hoisted_13, [_cache[24] || (_cache[24] = _createElementVNode(\"h3\", null, \"รายละเอียดงาน\", -1 /* CACHED */)), _createElementVNode(\"button\", {\n    class: \"dialog-close\",\n    onClick: _cache[1] || (_cache[1] = $event => $data.detailDialog = false)\n  }, \"×\")]), _createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"div\", _hoisted_15, _toDisplayString($data.selectedTask?.description || 'ไม่มีรายละเอียด'), 1 /* TEXT */)])])])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Files Dialog \"), _createVNode(_component_Dialog, {\n    visible: $data.filesDialog,\n    \"onUpdate:visible\": _cache[4] || (_cache[4] = $event => $data.filesDialog = $event),\n    modal: \"\",\n    header: \"ไฟล์แนบ\",\n    style: {\n      width: '50rem'\n    }\n  }, {\n    default: _withCtx(() => [$data.selectedTaskFiles && $data.selectedTaskFiles.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_16, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.selectedTaskFiles, (file, index) => {\n      return _openBlock(), _createElementBlock(\"div\", {\n        key: index,\n        class: \"file-item\"\n      }, [_createElementVNode(\"div\", _hoisted_17, [_cache[25] || (_cache[25] = _createElementVNode(\"i\", {\n        class: \"pi pi-file\"\n      }, null, -1 /* CACHED */)), _createElementVNode(\"span\", _hoisted_18, _toDisplayString(file), 1 /* TEXT */)]), _withDirectives(_createVNode(_component_Button, {\n        icon: \"pi pi-download\",\n        size: \"small\",\n        severity: \"success\",\n        outlined: \"\",\n        onClick: $event => $options.downloadFile(file)\n      }, null, 8 /* PROPS */, [\"onClick\"]), [[_directive_tooltip, 'ดาวน์โหลด']])]);\n    }), 128 /* KEYED_FRAGMENT */))])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_19, [...(_cache[26] || (_cache[26] = [_createElementVNode(\"p\", null, \"ไม่มีไฟล์แนบ\", -1 /* CACHED */)]))]))]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"visible\"]), _createCommentVNode(\" Task Works Dialog \"), _createVNode(_component_Dialog, {\n    visible: $data.taskWorksDialog,\n    \"onUpdate:visible\": _cache[8] || (_cache[8] = $event => $data.taskWorksDialog = $event),\n    modal: \"\",\n    header: `งานรายวันของโครงการ: ${$data.selectedTask?.task_name || ''}`,\n    style: {\n      width: '90vw',\n      maxWidth: '1200px'\n    },\n    draggable: false,\n    position: \"center\"\n  }, {\n    footer: _withCtx(() => [_createVNode(_component_Button, {\n      label: \"ปิด\",\n      icon: \"pi pi-times\",\n      onClick: _cache[7] || (_cache[7] = $event => $data.taskWorksDialog = false)\n    })]),\n    default: _withCtx(() => [$data.loadingWorks ? (_openBlock(), _createElementBlock(\"div\", _hoisted_20, [...(_cache[27] || (_cache[27] = [_createElementVNode(\"i\", {\n      class: \"pi pi-spin pi-spinner\",\n      style: {\n        \"font-size\": \"2rem\"\n      }\n    }, null, -1 /* CACHED */), _createElementVNode(\"p\", null, \"กำลังโหลดข้อมูล...\", -1 /* CACHED */)]))])) : $data.taskWorks.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_21, [...(_cache[28] || (_cache[28] = [_createElementVNode(\"i\", {\n      class: \"pi pi-inbox\",\n      style: {\n        \"font-size\": \"3rem\",\n        \"color\": \"#ccc\"\n      }\n    }, null, -1 /* CACHED */), _createElementVNode(\"p\", null, \"ยังไม่มีการลงงานรายวันสำหรับโครงการนี้\", -1 /* CACHED */)]))])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_22, [_createElementVNode(\"div\", _hoisted_23, [_createElementVNode(\"div\", _hoisted_24, [_cache[31] || (_cache[31] = _createElementVNode(\"i\", {\n      class: \"pi pi-calendar\"\n    }, null, -1 /* CACHED */)), _createElementVNode(\"span\", null, [_cache[29] || (_cache[29] = _createTextVNode(\"ทั้งหมด: \", -1 /* CACHED */)), _createElementVNode(\"strong\", null, _toDisplayString($data.taskWorks.length), 1 /* TEXT */), _cache[30] || (_cache[30] = _createTextVNode(\" รายการ\", -1 /* CACHED */))])]), _createElementVNode(\"div\", _hoisted_25, [_cache[34] || (_cache[34] = _createElementVNode(\"i\", {\n      class: \"pi pi-clock\"\n    }, null, -1 /* CACHED */)), _createElementVNode(\"span\", null, [_cache[32] || (_cache[32] = _createTextVNode(\"รวม: \", -1 /* CACHED */)), _createElementVNode(\"strong\", null, _toDisplayString($options.getTotalHours()), 1 /* TEXT */), _cache[33] || (_cache[33] = _createTextVNode(\" ชั่วโมง\", -1 /* CACHED */))])])]), _createElementVNode(\"div\", _hoisted_26, [_createElementVNode(\"div\", _hoisted_27, [_cache[35] || (_cache[35] = _createElementVNode(\"label\", null, \"กรองตามสถานะ:\", -1 /* CACHED */)), _createVNode(_component_Dropdown, {\n      modelValue: $data.workStatusFilter,\n      \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.workStatusFilter = $event),\n      options: $data.workStatusFilterOptions,\n      optionLabel: \"label\",\n      optionValue: \"value\",\n      placeholder: \"ทั้งหมด\",\n      class: \"filter-dropdown\"\n    }, null, 8 /* PROPS */, [\"modelValue\", \"options\"])]), _createElementVNode(\"div\", _hoisted_28, [_cache[36] || (_cache[36] = _createElementVNode(\"label\", null, \"เรียงตาม:\", -1 /* CACHED */)), _createVNode(_component_Dropdown, {\n      modelValue: $data.workSortBy,\n      \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.workSortBy = $event),\n      options: $data.workSortOptions,\n      optionLabel: \"label\",\n      optionValue: \"value\",\n      class: \"filter-dropdown\"\n    }, null, 8 /* PROPS */, [\"modelValue\", \"options\"])])]), _createElementVNode(\"div\", _hoisted_29, [_createElementVNode(\"table\", _hoisted_30, [_cache[37] || (_cache[37] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"ID\"), _createElementVNode(\"th\", null, \"วันที่\"), _createElementVNode(\"th\", null, \"ผู้ปฏิบัติงาน\"), _createElementVNode(\"th\", null, \"เวลา\"), _createElementVNode(\"th\", null, \"ชั่วโมง\"), _createElementVNode(\"th\", null, \"สถานะ\"), _createElementVNode(\"th\", null, \"สถานที่\"), _createElementVNode(\"th\", null, \"ไฟล์แนบ\")])], -1 /* CACHED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.filteredAndSortedWorks, work => {\n      return _openBlock(), _createElementBlock(\"tr\", {\n        key: work.id\n      }, [_createElementVNode(\"td\", _hoisted_31, [_createVNode(_component_Badge, {\n        value: work.id,\n        severity: \"info\"\n      }, null, 8 /* PROPS */, [\"value\"])]), _createElementVNode(\"td\", null, _toDisplayString($options.formatDate(work.work_date)), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(work.employee_name || 'ไม่ระบุ'), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(work.start_time) + \" - \" + _toDisplayString(work.end_time), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_32, _toDisplayString(parseFloat(work.total_hours || 0).toFixed(1)) + \" ชม.\", 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_33, [_createVNode(_component_Badge, {\n        value: $options.getStatusLabel(work.work_status),\n        style: _normalizeStyle({\n          backgroundColor: $options.getStatusColor(work.work_status),\n          color: '#fff',\n          fontWeight: 'bold'\n        })\n      }, null, 8 /* PROPS */, [\"value\", \"style\"])]), _createElementVNode(\"td\", null, _toDisplayString(work.location || '-'), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_34, [work.files && work.files.length > 0 ? _withDirectives((_openBlock(), _createBlock(_component_Button, {\n        key: 0,\n        icon: \"pi pi-paperclip\",\n        label: work.files.length.toString(),\n        size: \"small\",\n        severity: \"success\",\n        outlined: \"\",\n        onClick: $event => $options.showWorkFiles(work)\n      }, null, 8 /* PROPS */, [\"label\", \"onClick\"])), [[_directive_tooltip, `${work.files.length} ไฟล์`]]) : (_openBlock(), _createElementBlock(\"span\", _hoisted_35, \"-\"))])]);\n    }), 128 /* KEYED_FRAGMENT */))])])])]))]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"visible\", \"header\"]), _createCommentVNode(\" Work Files Dialog \"), _createVNode(_component_Dialog, {\n    visible: $data.workFilesDialog,\n    \"onUpdate:visible\": _cache[9] || (_cache[9] = $event => $data.workFilesDialog = $event),\n    modal: \"\",\n    header: \"ไฟล์แนบ\",\n    style: {\n      width: '500px'\n    },\n    draggable: false\n  }, {\n    default: _withCtx(() => [$data.selectedWorkFiles && $data.selectedWorkFiles.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_36, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.selectedWorkFiles, (file, index) => {\n      return _openBlock(), _createElementBlock(\"div\", {\n        key: index,\n        class: \"file-item\"\n      }, [_createElementVNode(\"div\", _hoisted_37, [_cache[38] || (_cache[38] = _createElementVNode(\"i\", {\n        class: \"pi pi-file\"\n      }, null, -1 /* CACHED */)), _createElementVNode(\"span\", _hoisted_38, _toDisplayString(file), 1 /* TEXT */)]), _withDirectives(_createVNode(_component_Button, {\n        icon: \"pi pi-download\",\n        size: \"small\",\n        severity: \"success\",\n        outlined: \"\",\n        onClick: $event => $options.downloadWorkFile(file)\n      }, null, 8 /* PROPS */, [\"onClick\"]), [[_directive_tooltip, 'ดาวน์โหลด']])]);\n    }), 128 /* KEYED_FRAGMENT */))])) : _createCommentVNode(\"v-if\", true)]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"visible\"]), _createCommentVNode(\" Edit Task Dialog \"), _createVNode(_component_Dialog, {\n    visible: $data.editDialog,\n    \"onUpdate:visible\": _cache[21] || (_cache[21] = $event => $data.editDialog = $event),\n    modal: \"\",\n    header: \"แก้ไขรายการงาน\",\n    style: {\n      width: '50rem'\n    },\n    draggable: false,\n    position: \"center\"\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"form\", {\n      onSubmit: _cache[20] || (_cache[20] = _withModifiers((...args) => $options.updateTask && $options.updateTask(...args), [\"prevent\"])),\n      class: \"edit-form\"\n    }, [_createElementVNode(\"div\", _hoisted_39, [_createElementVNode(\"div\", _hoisted_40, [_cache[39] || (_cache[39] = _createElementVNode(\"label\", {\n      class: \"input-label\"\n    }, \"ชื่องาน *\", -1 /* CACHED */)), _createVNode(_component_InputText, {\n      modelValue: $data.editFormData.task_name,\n      \"onUpdate:modelValue\": _cache[10] || (_cache[10] = $event => $data.editFormData.task_name = $event),\n      required: \"\",\n      class: \"corporate-input\"\n    }, null, 8 /* PROPS */, [\"modelValue\"])]), _createElementVNode(\"div\", _hoisted_41, [_cache[40] || (_cache[40] = _createElementVNode(\"label\", {\n      class: \"input-label\"\n    }, \"SO Number\", -1 /* CACHED */)), _createVNode(_component_InputText, {\n      modelValue: $data.editFormData.so_number,\n      \"onUpdate:modelValue\": _cache[11] || (_cache[11] = $event => $data.editFormData.so_number = $event),\n      class: \"corporate-input\"\n    }, null, 8 /* PROPS */, [\"modelValue\"])]), _createElementVNode(\"div\", _hoisted_42, [_cache[41] || (_cache[41] = _createElementVNode(\"label\", {\n      class: \"input-label\"\n    }, \"Contract Number\", -1 /* CACHED */)), _createVNode(_component_InputText, {\n      modelValue: $data.editFormData.contract_number,\n      \"onUpdate:modelValue\": _cache[12] || (_cache[12] = $event => $data.editFormData.contract_number = $event),\n      class: \"corporate-input\"\n    }, null, 8 /* PROPS */, [\"modelValue\"])]), _createElementVNode(\"div\", _hoisted_43, [_cache[42] || (_cache[42] = _createElementVNode(\"label\", {\n      class: \"input-label\"\n    }, \"Sale Owner\", -1 /* CACHED */)), _createVNode(_component_InputText, {\n      modelValue: $data.editFormData.sale_owner,\n      \"onUpdate:modelValue\": _cache[13] || (_cache[13] = $event => $data.editFormData.sale_owner = $event),\n      class: \"corporate-input\"\n    }, null, 8 /* PROPS */, [\"modelValue\"])]), _createElementVNode(\"div\", _hoisted_44, [_cache[43] || (_cache[43] = _createElementVNode(\"label\", {\n      class: \"input-label\"\n    }, \"หมวดหมู่งาน *\", -1 /* CACHED */)), _createVNode(_component_Dropdown, {\n      modelValue: $data.editFormData.category,\n      \"onUpdate:modelValue\": _cache[14] || (_cache[14] = $event => $data.editFormData.category = $event),\n      options: $data.categories,\n      optionLabel: \"label\",\n      optionValue: \"value\",\n      placeholder: \"เลือกหมวดหมู่งาน\",\n      class: \"corporate-input\",\n      required: \"\"\n    }, {\n      value: _withCtx(slotProps => [slotProps.value ? (_openBlock(), _createElementBlock(\"span\", _hoisted_45, _toDisplayString($options.getCategoryLabel(slotProps.value)), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]),\n      option: _withCtx(slotProps => [_createElementVNode(\"span\", null, _toDisplayString(slotProps.option.label), 1 /* TEXT */)]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"modelValue\", \"options\"])]), _createElementVNode(\"div\", _hoisted_46, [_cache[44] || (_cache[44] = _createElementVNode(\"label\", {\n      class: \"input-label\"\n    }, \"สถานะงาน\", -1 /* CACHED */)), _createVNode(_component_Dropdown, {\n      modelValue: $data.editFormData.status,\n      \"onUpdate:modelValue\": _cache[15] || (_cache[15] = $event => $data.editFormData.status = $event),\n      options: $data.workStatuses,\n      optionLabel: \"label\",\n      optionValue: \"value\",\n      placeholder: \"เลือกสถานะงาน\",\n      class: \"corporate-input\"\n    }, {\n      value: _withCtx(slotProps => [slotProps.value ? (_openBlock(), _createElementBlock(\"span\", _hoisted_47, _toDisplayString($options.getStatusLabel(slotProps.value)), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]),\n      option: _withCtx(slotProps => [_createElementVNode(\"span\", null, _toDisplayString(slotProps.option.label), 1 /* TEXT */)]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"modelValue\", \"options\"])]), _createElementVNode(\"div\", _hoisted_48, [_cache[45] || (_cache[45] = _createElementVNode(\"label\", {\n      class: \"input-label\"\n    }, \"รายละเอียด\", -1 /* CACHED */)), _createVNode(_component_Textarea, {\n      modelValue: $data.editFormData.description,\n      \"onUpdate:modelValue\": _cache[16] || (_cache[16] = $event => $data.editFormData.description = $event),\n      rows: \"4\",\n      class: \"corporate-input\"\n    }, null, 8 /* PROPS */, [\"modelValue\"])]), _createElementVNode(\"div\", _hoisted_49, [_cache[50] || (_cache[50] = _createElementVNode(\"label\", {\n      class: \"input-label\"\n    }, \"ไฟล์แนบ\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_50, [_createElementVNode(\"input\", {\n      type: \"file\",\n      ref: \"editFileInput\",\n      onChange: _cache[17] || (_cache[17] = (...args) => $options.handleEditFileUpload && $options.handleEditFileUpload(...args)),\n      accept: \"image/*,.pdf,.doc,.docx,.xls,.xlsx\",\n      multiple: \"\",\n      class: \"file-input\",\n      style: {\n        \"display\": \"none\"\n      }\n    }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), _createVNode(_component_Button, {\n      type: \"button\",\n      label: \"เพิ่มไฟล์\",\n      icon: \"pi pi-upload\",\n      severity: \"secondary\",\n      outlined: \"\",\n      onClick: _cache[18] || (_cache[18] = $event => _ctx.$refs.editFileInput.click())\n    })]), _createCommentVNode(\" แสดงไฟล์เดิม \"), $data.editFormData.existingFiles?.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_51, [_cache[47] || (_cache[47] = _createElementVNode(\"h4\", null, \"ไฟล์เดิม:\", -1 /* CACHED */)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.editFormData.existingFiles, (file, index) => {\n      return _openBlock(), _createElementBlock(\"div\", {\n        key: index,\n        class: \"file-item\"\n      }, [_cache[46] || (_cache[46] = _createElementVNode(\"i\", {\n        class: \"pi pi-file\"\n      }, null, -1 /* CACHED */)), _createElementVNode(\"span\", _hoisted_52, _toDisplayString(file), 1 /* TEXT */), _createVNode(_component_Button, {\n        icon: \"pi pi-times\",\n        size: \"small\",\n        severity: \"danger\",\n        text: \"\",\n        onClick: $event => $options.removeExistingFile(index)\n      }, null, 8 /* PROPS */, [\"onClick\"])]);\n    }), 128 /* KEYED_FRAGMENT */))])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" แสดงไฟล์ใหม่ \"), $data.editFormData.newFiles?.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_53, [_cache[49] || (_cache[49] = _createElementVNode(\"h4\", null, \"ไฟล์ใหม่:\", -1 /* CACHED */)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.editFormData.newFiles, (file, index) => {\n      return _openBlock(), _createElementBlock(\"div\", {\n        key: index,\n        class: \"file-item\"\n      }, [_cache[48] || (_cache[48] = _createElementVNode(\"i\", {\n        class: \"pi pi-file\"\n      }, null, -1 /* CACHED */)), _createElementVNode(\"span\", _hoisted_54, _toDisplayString(file.name), 1 /* TEXT */), _createVNode(_component_Button, {\n        icon: \"pi pi-times\",\n        size: \"small\",\n        severity: \"danger\",\n        text: \"\",\n        onClick: $event => $options.removeNewFile(index)\n      }, null, 8 /* PROPS */, [\"onClick\"])]);\n    }), 128 /* KEYED_FRAGMENT */))])) : _createCommentVNode(\"v-if\", true)])]), _createElementVNode(\"div\", _hoisted_55, [_createVNode(_component_Button, {\n      type: \"button\",\n      label: \"ยกเลิก\",\n      severity: \"secondary\",\n      outlined: \"\",\n      onClick: _cache[19] || (_cache[19] = $event => $data.editDialog = false)\n    }), _createVNode(_component_Button, {\n      type: \"submit\",\n      label: \"บันทึก\",\n      severity: \"success\"\n    })])], 32 /* NEED_HYDRATION */)]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"visible\"])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","style","_createVNode","_component_Card","content","_withCtx","_createCommentVNode","_createElementVNode","_hoisted_1","_component_IconField","iconPosition","_component_InputIcon","_component_InputText","$data","searchQuery","$event","placeholder","$options","filteredTasks","length","_createElementBlock","_hoisted_2","_toDisplayString","categories","_createBlock","_component_DataTable","value","paginator","rows","rowsPerPageOptions","responsiveLayout","stripedRows","_component_Column","field","header","sortable","body","slotProps","_hoisted_3","_component_Badge","data","id","_hoisted_4","task_name","so_number","_hoisted_5","_hoisted_6","contract_number","sale_owner","_hoisted_7","_hoisted_8","getCategoryLabel","category","_normalizeStyle","backgroundColor","getCategoryColor","color","fontWeight","formatDate","created_at","project_end_date","_component_Button","label","icon","size","severity","outlined","onClick","showTaskDetails","disabled","description","_hoisted_9","viewTaskWorks","editTask","_hoisted_10","getStatusLabel","status","getStatusColor","hasFiles","_hoisted_11","downloadTaskFiles","files","_hoisted_12","detailDialog","_cache","_withModifiers","_hoisted_13","_hoisted_14","_hoisted_15","selectedTask","_component_Dialog","visible","filesDialog","modal","width","selectedTaskFiles","_hoisted_16","_Fragment","_renderList","file","index","key","_hoisted_17","_hoisted_18","downloadFile","_hoisted_19","taskWorksDialog","maxWidth","draggable","position","footer","loadingWorks","_hoisted_20","taskWorks","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","getTotalHours","_hoisted_26","_hoisted_27","_component_Dropdown","workStatusFilter","options","workStatusFilterOptions","optionLabel","optionValue","_hoisted_28","workSortBy","workSortOptions","_hoisted_29","_hoisted_30","filteredAndSortedWorks","work","_hoisted_31","work_date","employee_name","start_time","end_time","_hoisted_32","parseFloat","total_hours","toFixed","_hoisted_33","work_status","location","_hoisted_34","toString","showWorkFiles","_hoisted_35","workFilesDialog","selectedWorkFiles","_hoisted_36","_hoisted_37","_hoisted_38","downloadWorkFile","editDialog","onSubmit","args","updateTask","_hoisted_39","_hoisted_40","editFormData","required","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","option","_hoisted_46","workStatuses","_hoisted_47","_hoisted_48","_component_Textarea","_hoisted_49","_hoisted_50","type","ref","onChange","handleEditFileUpload","accept","multiple","_ctx","$refs","editFileInput","click","existingFiles","_hoisted_51","_hoisted_52","text","removeExistingFile","newFiles","_hoisted_53","_hoisted_54","name","removeNewFile","_hoisted_55"],"sources":["D:\\GEN-T\\WEB\\GenT-CEM\\frontend_cem\\src\\views\\daily_work\\TaskList.vue"],"sourcesContent":["<template>\r\n  <Card class=\"history-card\">\r\n    <template #content>\r\n      <!-- Search Box -->\r\n      <div class=\"search-box mb-3\">\r\n        <IconField iconPosition=\"left\">\r\n          <InputIcon class=\"pi pi-search\" />\r\n          <InputText v-model=\"searchQuery\" placeholder=\"ค้นหา...\" class=\"w-full\" />\r\n        </IconField>\r\n      </div>\r\n\r\n      <div v-if=\"filteredTasks.length === 0\" class=\"empty-state\">\r\n        <i class=\"pi pi-briefcase\" style=\"font-size: 4rem; color: #ccc;\"></i>\r\n        <p>{{ searchQuery ? 'ไม่พบข้อมูลที่ค้นหา' : 'ยังไม่มีงานที่เพิ่มไว้' }}</p>\r\n      </div>\r\n\r\n      <DataTable v-else-if=\"categories.length > 0\" :value=\"filteredTasks\" :paginator=\"true\" :rows=\"10\"\r\n        :rowsPerPageOptions=\"[5, 10, 20]\" responsiveLayout=\"scroll\" class=\"history-table\" stripedRows>\r\n        \r\n        <Column field=\"id\" header=\"รหัสงาน\" :sortable=\"true\">\r\n          <template #body=\"slotProps\">\r\n            <div style=\"text-align: center;\">\r\n              <Badge :value=\"slotProps.data.id\" class=\"custom-id-badge\" />\r\n            </div>\r\n          </template>\r\n        </Column>\r\n\r\n        <Column field=\"task_name\" header=\"ชื่อโครงการ\" :sortable=\"true\" style=\"min-width: 150px; max-width: 250px;\">\r\n          <template #body=\"slotProps\">\r\n            <div class=\"task-name\">{{ slotProps.data.task_name }}</div>\r\n          </template>\r\n        </Column>\r\n\r\n        <Column field=\"so_number\" header=\"เลข SO\" class=\"hide-mobile\">\r\n          <template #body=\"slotProps\">\r\n            <div v-if=\"slotProps.data.so_number\" class=\"so-number\">\r\n              {{ slotProps.data.so_number }}\r\n            </div>\r\n            <span v-else class=\"text-muted\">-</span>\r\n          </template>\r\n        </Column>\r\n\r\n        <Column field=\"contract_number\" header=\"เลขที่สัญญา\" class=\"hide-mobile\">\r\n          <template #body=\"slotProps\">\r\n            {{ slotProps.data.contract_number || '-' }}\r\n          </template>\r\n        </Column>\r\n\r\n        <Column field=\"sale_owner\" header=\"Sale เจ้าของงาน\" class=\"hide-mobile\">\r\n          <template #body=\"slotProps\">\r\n            <div v-if=\"slotProps.data.sale_owner\" class=\"sale-info\">\r\n              <i class=\"pi pi-user\"></i>\r\n              {{ slotProps.data.sale_owner }}\r\n            </div>\r\n            <span v-else class=\"text-muted\">-</span>\r\n          </template>\r\n        </Column>\r\n\r\n        <Column field=\"category\" header=\"หมวดหมู่\" :sortable=\"true\" style=\"min-width: 120px; text-align: center;\">\r\n          <template #body=\"slotProps\">\r\n            <Badge :value=\"getCategoryLabel(slotProps.data.category)\" \r\n                   :style=\"{ backgroundColor: getCategoryColor(slotProps.data.category), color: '#fff', fontWeight: 'bold' }\" \r\n                   class=\"category-badge\" />\r\n          </template>\r\n        </Column>\r\n\r\n        <Column field=\"created_at\" header=\"วันเริ่มโครงการ\" :sortable=\"true\">\r\n          <template #body=\"slotProps\">\r\n            {{ formatDate(slotProps.data.created_at) }}\r\n          </template>\r\n        </Column>\r\n\r\n        <Column field=\"project_end_date\" header=\"วันสิ้นสุดโครงการ\" :sortable=\"true\" class=\"hide-mobile\">\r\n          <template #body=\"slotProps\">\r\n            {{ slotProps.data.project_end_date ? formatDate(slotProps.data.project_end_date) : '-' }}\r\n          </template>\r\n        </Column>\r\n\r\n        <Column header=\"รายละเอียด\" class=\"hide-mobile\">\r\n          <template #body=\"slotProps\">\r\n            <Button \r\n              label=\"ดูรายละเอียด\" \r\n              icon=\"pi pi-info-circle\" \r\n              size=\"small\" \r\n              severity=\"info\" \r\n              outlined \r\n              @click=\"showTaskDetails(slotProps.data)\"\r\n              :disabled=\"!slotProps.data.description\" />\r\n          </template>\r\n        </Column>\r\n\r\n        <Column header=\"จัดการ\" style=\"width: 150px;\">\r\n          <template #body=\"slotProps\">\r\n            <div class=\"action-buttons\">\r\n              <Button \r\n                icon=\"pi pi-eye\" \r\n                size=\"small\" \r\n                severity=\"info\" \r\n                outlined\r\n                @click=\"viewTaskWorks(slotProps.data)\"\r\n                v-tooltip=\"'ดูงานรายวัน'\"\r\n              />\r\n              <Button \r\n                icon=\"pi pi-pencil\" \r\n                size=\"small\" \r\n                severity=\"warning\" \r\n                outlined\r\n                @click=\"editTask(slotProps.data)\"\r\n                v-tooltip=\"'แก้ไข'\"\r\n              />\r\n            </div>\r\n          </template>\r\n        </Column>\r\n\r\n        <Column header=\"สถานะ\" style=\"text-align: center; min-width: 140px;\">\r\n          <template #body=\"slotProps\">\r\n            <div class=\"badge-container\">\r\n              <Badge :value=\"getStatusLabel(slotProps.data.status)\" \r\n                     :style=\"{ backgroundColor: getStatusColor(slotProps.data.status), color: '#fff', fontWeight: 'bold' }\" />\r\n            </div>\r\n          </template>\r\n        </Column>\r\n\r\n        <Column header=\"ไฟล์แนบ\" style=\"width: 80px;\">\r\n          <template #body=\"slotProps\">\r\n            <div v-if=\"hasFiles(slotProps.data)\" class=\"attachments-info\">\r\n              <Button \r\n                icon=\"pi pi-paperclip\" \r\n                size=\"small\" \r\n                severity=\"info\" \r\n                outlined\r\n                @click=\"downloadTaskFiles(slotProps.data)\"\r\n                v-tooltip=\"`${slotProps.data.files.length} ไฟล์`\"\r\n              />\r\n            </div>\r\n            <span v-else class=\"no-files\">-</span>\r\n          </template>\r\n        </Column>\r\n      </DataTable>\r\n    </template>\r\n  </Card>\r\n\r\n  <!-- Dialog สำหรับแสดงรายละเอียดงาน -->\r\n  <div v-if=\"detailDialog\" class=\"dialog-overlay\" @click=\"detailDialog = false\">\r\n    <div class=\"dialog-content\" @click.stop>\r\n      <div class=\"dialog-header\">\r\n        <h3>รายละเอียดงาน</h3>\r\n        <button class=\"dialog-close\" @click=\"detailDialog = false\">&times;</button>\r\n      </div>\r\n      <div class=\"dialog-body\">\r\n        <div class=\"work-description\">\r\n          {{ selectedTask?.description || 'ไม่มีรายละเอียด' }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Files Dialog -->\r\n  <Dialog v-model:visible=\"filesDialog\" modal header=\"ไฟล์แนบ\" :style=\"{ width: '50rem' }\">\r\n    <div v-if=\"selectedTaskFiles && selectedTaskFiles.length > 0\" class=\"files-list\">\r\n      <div v-for=\"(file, index) in selectedTaskFiles\" :key=\"index\" class=\"file-item\">\r\n        <div class=\"file-info\">\r\n          <i class=\"pi pi-file\"></i>\r\n          <span class=\"file-name\">{{ file }}</span>\r\n        </div>\r\n        <Button \r\n          icon=\"pi pi-download\" \r\n          size=\"small\" \r\n          severity=\"success\" \r\n          outlined\r\n          @click=\"downloadFile(file)\"\r\n          v-tooltip=\"'ดาวน์โหลด'\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <div v-else class=\"no-files\">\r\n      <p>ไม่มีไฟล์แนบ</p>\r\n    </div>\r\n  </Dialog>\r\n\r\n  <!-- Task Works Dialog -->\r\n  <Dialog v-model:visible=\"taskWorksDialog\" modal :header=\"`งานรายวันของโครงการ: ${selectedTask?.task_name || ''}`\" \r\n          :style=\"{ width: '90vw', maxWidth: '1200px' }\" :draggable=\"false\" position=\"center\">\r\n    <div v-if=\"loadingWorks\" class=\"loading-state\">\r\n      <i class=\"pi pi-spin pi-spinner\" style=\"font-size: 2rem;\"></i>\r\n      <p>กำลังโหลดข้อมูล...</p>\r\n    </div>\r\n    \r\n    <div v-else-if=\"taskWorks.length === 0\" class=\"empty-works\">\r\n      <i class=\"pi pi-inbox\" style=\"font-size: 3rem; color: #ccc;\"></i>\r\n      <p>ยังไม่มีการลงงานรายวันสำหรับโครงการนี้</p>\r\n    </div>\r\n    \r\n    <div v-else class=\"works-container\">\r\n      <div class=\"works-summary\">\r\n        <div class=\"summary-item\">\r\n          <i class=\"pi pi-calendar\"></i>\r\n          <span>ทั้งหมด: <strong>{{ taskWorks.length }}</strong> รายการ</span>\r\n        </div>\r\n        <div class=\"summary-item\">\r\n          <i class=\"pi pi-clock\"></i>\r\n          <span>รวม: <strong>{{ getTotalHours() }}</strong> ชั่วโมง</span>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"works-filters\">\r\n        <div class=\"filter-group\">\r\n          <label>กรองตามสถานะ:</label>\r\n          <Dropdown v-model=\"workStatusFilter\" :options=\"workStatusFilterOptions\" \r\n                    optionLabel=\"label\" optionValue=\"value\" placeholder=\"ทั้งหมด\" \r\n                    class=\"filter-dropdown\" />\r\n        </div>\r\n        <div class=\"filter-group\">\r\n          <label>เรียงตาม:</label>\r\n          <Dropdown v-model=\"workSortBy\" :options=\"workSortOptions\" \r\n                    optionLabel=\"label\" optionValue=\"value\" \r\n                    class=\"filter-dropdown\" />\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"works-table-wrapper\">\r\n        <table class=\"works-table\">\r\n          <thead>\r\n            <tr>\r\n              <th>ID</th>\r\n              <th>วันที่</th>\r\n              <th>ผู้ปฏิบัติงาน</th>\r\n              <th>เวลา</th>\r\n              <th>ชั่วโมง</th>\r\n              <th>สถานะ</th>\r\n              <th>สถานที่</th>\r\n              <th>ไฟล์แนบ</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"work in filteredAndSortedWorks\" :key=\"work.id\">\r\n              <td class=\"text-center\">\r\n                <Badge :value=\"work.id\" severity=\"info\" />\r\n              </td>\r\n              <td>{{ formatDate(work.work_date) }}</td>\r\n              <td>{{ work.employee_name || 'ไม่ระบุ' }}</td>\r\n              <td>{{ work.start_time }} - {{ work.end_time }}</td>\r\n              <td class=\"text-center\">{{ parseFloat(work.total_hours || 0).toFixed(1) }} ชม.</td>\r\n              <td class=\"text-center\">\r\n                <Badge :value=\"getStatusLabel(work.work_status)\" \r\n                       :style=\"{ backgroundColor: getStatusColor(work.work_status), color: '#fff', fontWeight: 'bold' }\" />\r\n              </td>\r\n              <td>{{ work.location || '-' }}</td>\r\n              <td class=\"text-center\">\r\n                <Button v-if=\"work.files && work.files.length > 0\"\r\n                        icon=\"pi pi-paperclip\" \r\n                        :label=\"work.files.length.toString()\"\r\n                        size=\"small\" \r\n                        severity=\"success\" \r\n                        outlined\r\n                        @click=\"showWorkFiles(work)\"\r\n                        v-tooltip=\"`${work.files.length} ไฟล์`\" />\r\n                <span v-else>-</span>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n    \r\n    <template #footer>\r\n      <Button label=\"ปิด\" icon=\"pi pi-times\" @click=\"taskWorksDialog = false\" />\r\n    </template>\r\n  </Dialog>\r\n\r\n  <!-- Work Files Dialog -->\r\n  <Dialog v-model:visible=\"workFilesDialog\" modal header=\"ไฟล์แนบ\" \r\n          :style=\"{ width: '500px' }\" :draggable=\"false\">\r\n    <div v-if=\"selectedWorkFiles && selectedWorkFiles.length > 0\" class=\"files-list\">\r\n      <div v-for=\"(file, index) in selectedWorkFiles\" :key=\"index\" class=\"file-item\">\r\n        <div class=\"file-info\">\r\n          <i class=\"pi pi-file\"></i>\r\n          <span class=\"file-name\">{{ file }}</span>\r\n        </div>\r\n        <Button icon=\"pi pi-download\" size=\"small\" severity=\"success\" outlined\r\n                @click=\"downloadWorkFile(file)\" v-tooltip=\"'ดาวน์โหลด'\" />\r\n      </div>\r\n    </div>\r\n  </Dialog>\r\n\r\n  <!-- Edit Task Dialog -->\r\n  <Dialog v-model:visible=\"editDialog\" modal header=\"แก้ไขรายการงาน\" :style=\"{ width: '50rem' }\" :draggable=\"false\" position=\"center\">\r\n    <form @submit.prevent=\"updateTask\" class=\"edit-form\">\r\n      <div class=\"form-grid\">\r\n        <div class=\"input-group\">\r\n          <label class=\"input-label\">ชื่องาน *</label>\r\n          <InputText v-model=\"editFormData.task_name\" required class=\"corporate-input\" />\r\n        </div>\r\n        \r\n        <div class=\"input-group\">\r\n          <label class=\"input-label\">SO Number</label>\r\n          <InputText v-model=\"editFormData.so_number\" class=\"corporate-input\" />\r\n        </div>\r\n        \r\n        <div class=\"input-group\">\r\n          <label class=\"input-label\">Contract Number</label>\r\n          <InputText v-model=\"editFormData.contract_number\" class=\"corporate-input\" />\r\n        </div>\r\n        \r\n        <div class=\"input-group\">\r\n          <label class=\"input-label\">Sale Owner</label>\r\n          <InputText v-model=\"editFormData.sale_owner\" class=\"corporate-input\" />\r\n        </div>\r\n\r\n        <div class=\"input-group\">\r\n          <label class=\"input-label\">หมวดหมู่งาน *</label>\r\n          <Dropdown v-model=\"editFormData.category\" :options=\"categories\" \r\n                    optionLabel=\"label\" optionValue=\"value\" placeholder=\"เลือกหมวดหมู่งาน\" \r\n                    class=\"corporate-input\" required>\r\n            <template #value=\"slotProps\">\r\n              <span v-if=\"slotProps.value\">{{ getCategoryLabel(slotProps.value) }}</span>\r\n            </template>\r\n            <template #option=\"slotProps\">\r\n              <span>{{ slotProps.option.label }}</span>\r\n            </template>\r\n          </Dropdown>\r\n        </div>\r\n\r\n        <div class=\"input-group\">\r\n          <label class=\"input-label\">สถานะงาน</label>\r\n          <Dropdown v-model=\"editFormData.status\" :options=\"workStatuses\" \r\n                    optionLabel=\"label\" optionValue=\"value\" placeholder=\"เลือกสถานะงาน\" \r\n                    class=\"corporate-input\">\r\n            <template #value=\"slotProps\">\r\n              <span v-if=\"slotProps.value\">{{ getStatusLabel(slotProps.value) }}</span>\r\n            </template>\r\n            <template #option=\"slotProps\">\r\n              <span>{{ slotProps.option.label }}</span>\r\n            </template>\r\n          </Dropdown>\r\n        </div>\r\n        \r\n        <div class=\"input-group full-width\">\r\n          <label class=\"input-label\">รายละเอียด</label>\r\n          <Textarea v-model=\"editFormData.description\" rows=\"4\" class=\"corporate-input\" />\r\n        </div>\r\n\r\n        <div class=\"input-group full-width\">\r\n          <label class=\"input-label\">ไฟล์แนบ</label>\r\n          <div class=\"file-upload-section\">\r\n            <input type=\"file\" ref=\"editFileInput\" @change=\"handleEditFileUpload\" \r\n              accept=\"image/*,.pdf,.doc,.docx,.xls,.xlsx\" multiple class=\"file-input\" style=\"display: none;\">\r\n            <Button type=\"button\" \r\n              label=\"เพิ่มไฟล์\" \r\n              icon=\"pi pi-upload\" \r\n              severity=\"secondary\" \r\n              outlined \r\n              @click=\"$refs.editFileInput.click()\" />\r\n          </div>\r\n          \r\n          <!-- แสดงไฟล์เดิม -->\r\n          <div v-if=\"editFormData.existingFiles?.length > 0\" class=\"existing-files\">\r\n            <h4>ไฟล์เดิม:</h4>\r\n            <div v-for=\"(file, index) in editFormData.existingFiles\" :key=\"index\" class=\"file-item\">\r\n              <i class=\"pi pi-file\"></i>\r\n              <span class=\"file-name\">{{ file }}</span>\r\n              <Button icon=\"pi pi-times\" size=\"small\" severity=\"danger\" text @click=\"removeExistingFile(index)\" />\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- แสดงไฟล์ใหม่ -->\r\n          <div v-if=\"editFormData.newFiles?.length > 0\" class=\"new-files\">\r\n            <h4>ไฟล์ใหม่:</h4>\r\n            <div v-for=\"(file, index) in editFormData.newFiles\" :key=\"index\" class=\"file-item\">\r\n              <i class=\"pi pi-file\"></i>\r\n              <span class=\"file-name\">{{ file.name }}</span>\r\n              <Button icon=\"pi pi-times\" size=\"small\" severity=\"danger\" text @click=\"removeNewFile(index)\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"form-actions\">\r\n        <Button type=\"button\" label=\"ยกเลิก\" severity=\"secondary\" outlined @click=\"editDialog = false\" />\r\n        <Button type=\"submit\" label=\"บันทึก\" severity=\"success\" />\r\n      </div>\r\n    </form>\r\n  </Dialog>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  name: 'TaskList',\r\n  created() {\r\n    this.$http = axios.create({\r\n      baseURL: ''\r\n    })\r\n  },\r\n  async mounted() {\r\n    // Listen for task updates\r\n    window.addEventListener('taskUpdated', this.handleTaskUpdate)\r\n    window.addEventListener('workRecordUpdated', this.handleTaskUpdate)\r\n    window.addEventListener('taskStatusChanged', this.handleTaskUpdate)\r\n    window.addEventListener('categoriesUpdated', this.handleCategoriesUpdate)\r\n    window.addEventListener('statusesUpdated', this.handleStatusesUpdate)\r\n    \r\n    // Load categories and statuses first, then tasks\r\n    await this.loadCategoriesFromStorage()\r\n    await this.loadStatusesFromStorage()\r\n    this.loadTasks()\r\n  },\r\n  beforeUnmount() {\r\n    window.removeEventListener('taskUpdated', this.handleTaskUpdate)\r\n    window.removeEventListener('workRecordUpdated', this.handleTaskUpdate)\r\n    window.removeEventListener('taskStatusChanged', this.handleTaskUpdate)\r\n    window.removeEventListener('categoriesUpdated', this.handleCategoriesUpdate)\r\n    window.removeEventListener('statusesUpdated', this.handleStatusesUpdate)\r\n  },\r\n  data() {\r\n    return {\r\n      searchQuery: '',\r\n      tasks: [],\r\n      detailDialog: false,\r\n      selectedTask: null,\r\n      filesDialog: false,\r\n      selectedTaskFiles: [],\r\n      editDialog: false,\r\n      taskWorksDialog: false,\r\n      taskWorks: [],\r\n      loadingWorks: false,\r\n      workFilesDialog: false,\r\n      selectedWorkFiles: [],\r\n      workStatusFilter: null,\r\n      workSortBy: 'date_desc',\r\n      workStatusFilterOptions: [\r\n        { label: 'ทั้งหมด', value: null },\r\n        { label: 'เสร็จสมบูรณ์', value: 'completed' },\r\n        { label: 'กำลังดำเนินการ', value: 'in_progress' },\r\n        { label: 'รอดำเนินการ', value: 'pending' },\r\n        { label: 'ระงับ', value: 'on_hold' }\r\n      ],\r\n      workSortOptions: [\r\n        { label: 'วันที่ล่าสุด', value: 'date_desc' },\r\n        { label: 'วันที่เก่าสุด', value: 'date_asc' },\r\n        { label: 'สถานะ', value: 'status' }\r\n      ],\r\n      editFormData: {\r\n        id: null,\r\n        task_name: '',\r\n        so_number: '',\r\n        contract_number: '',\r\n        sale_owner: '',\r\n        description: '',\r\n        category: 'งานทั่วไป',\r\n        existingFiles: [],\r\n        newFiles: []\r\n      },\r\n      categoryOptions: [\r\n        { label: 'งานทั่วไป', value: 'งานทั่วไป' },\r\n        { label: 'งานพัฒนาระบบ', value: 'งานพัฒนาระบบ' },\r\n        { label: 'งานบำรุงรักษา', value: 'งานบำรุงรักษา' },\r\n        { label: 'งานประชุม', value: 'งานประชุม' },\r\n        { label: 'งานฝึกอบรม', value: 'งานฝึกอบรม' },\r\n        { label: 'งานวิจัย', value: 'งานวิจัย' },\r\n        { label: 'งานเอกสาร', value: 'งานเอกสาร' },\r\n        { label: 'งานลูกค้า', value: 'งานลูกค้า' }\r\n      ],\r\n      categories: [],\r\n      workStatuses: []\r\n    }\r\n  },\r\n  computed: {\r\n    filteredTasks() {\r\n      const tasks = this.tasks || []\r\n      if (!this.searchQuery) return tasks\r\n\r\n      const query = this.searchQuery.toLowerCase().trim()\r\n      return tasks.filter(task => {\r\n        const searchableData = {\r\n          id: task.id || '',\r\n          task_name: task.task_name || '',\r\n          so_number: task.so_number || '',\r\n          contract_number: task.contract_number || '',\r\n          sale_owner: task.sale_owner || '',\r\n          description: task.description || '',\r\n          category: task.category || '',\r\n          status: task.status || '',\r\n          created_by: task.created_by || ''\r\n        }\r\n        \r\n        return Object.values(searchableData).some(value => {\r\n          if (value === null || value === undefined) return false\r\n          const strValue = String(value).toLowerCase()\r\n          return strValue.includes(query) || strValue.replace(/\\s/g, '').includes(query.replace(/\\s/g, ''))\r\n        })\r\n      })\r\n    },\r\n    filteredAndSortedWorks() {\r\n      let works = [...this.taskWorks]\r\n      \r\n      // Filter by status\r\n      if (this.workStatusFilter) {\r\n        works = works.filter(work => work.work_status === this.workStatusFilter)\r\n      }\r\n      \r\n      // Sort\r\n      if (this.workSortBy === 'date_desc') {\r\n        works.sort((a, b) => new Date(b.work_date) - new Date(a.work_date))\r\n      } else if (this.workSortBy === 'date_asc') {\r\n        works.sort((a, b) => new Date(a.work_date) - new Date(b.work_date))\r\n      } else if (this.workSortBy === 'status') {\r\n        const statusOrder = { 'completed': 1, 'in_progress': 2, 'pending': 3, 'on_hold': 4 }\r\n        works.sort((a, b) => (statusOrder[a.work_status] || 5) - (statusOrder[b.work_status] || 5))\r\n      }\r\n      \r\n      return works\r\n    }\r\n  },\r\n  methods: {\r\n    async loadCategoriesFromStorage() {\r\n      try {\r\n        const response = await this.$http.get('/api/settings/categories')\r\n        this.categories = response.data\r\n      } catch (error) {\r\n        console.error('Error loading categories:', error)\r\n        // Fallback to default\r\n        this.categories = [\r\n          { label: '💼 งานทั่วไป', value: 'งานทั่วไป', icon: 'emoji:💼', color: '#6366f1' },\r\n          { label: '💻 งานพัฒนา', value: 'งานพัฒนา', icon: 'emoji:💻', color: '#14b8a6' },\r\n          { label: '🔧 งานบำรุงรักษา', value: 'งานบำรุงรักษา', icon: 'emoji:🔧', color: '#f97316' }\r\n        ]\r\n      }\r\n    },\r\n    async loadStatusesFromStorage() {\r\n      try {\r\n        const response = await this.$http.get('/api/settings/statuses')\r\n        this.workStatuses = response.data\r\n      } catch (error) {\r\n        console.error('Error loading statuses:', error)\r\n        // Fallback to default\r\n        this.workStatuses = [\r\n          { label: '⏳ รอดำเนินการ', value: 'pending', icon: 'emoji:⏳', color: '#f59e0b' },\r\n          { label: '🔄 กำลังดำเนินการ', value: 'in_progress', icon: 'emoji:🔄', color: '#3b82f6' },\r\n          { label: '✅ เสร็จสิ้น', value: 'completed', icon: 'emoji:✅', color: '#10b981' },\r\n          { label: '⏸️ ระงับ', value: 'on_hold', icon: 'emoji:⏸️', color: '#6c757d' }\r\n        ]\r\n      }\r\n    },\r\n    getCategoryIcon(categoryValue) {\r\n      const category = this.categories.find(cat => cat.value === categoryValue)\r\n      return category ? category.icon : 'pi pi-tag'\r\n    },\r\n    getCategoryLabel(categoryValue) {\r\n      const category = this.categories.find(cat => cat.value === categoryValue)\r\n      if (category && category.label) {\r\n        // Remove all emoji and special characters\r\n        return category.label.replace(/[\\u{1F000}-\\u{1FFFF}]|[\\u{2600}-\\u{27BF}]|[\\u{2300}-\\u{23FF}]|[\\u{2B50}]|[\\u{203C}-\\u{3299}]/gu, '').trim()\r\n      }\r\n      return categoryValue\r\n    },\r\n    getCategoryColor(categoryValue) {\r\n      if (!this.categories || this.categories.length === 0) {\r\n        return '#6c757d'\r\n      }\r\n      const category = this.categories.find(cat => cat.value === categoryValue)\r\n      return category && category.color ? category.color : '#6c757d'\r\n    },\r\n    getStatusIcon(statusValue) {\r\n      const status = this.workStatuses.find(s => s.value === statusValue)\r\n      return status ? status.icon : 'pi pi-circle'\r\n    },\r\n    getStatusLabel(statusValue) {\r\n      const status = this.workStatuses.find(s => s.value === statusValue)\r\n      if (status && status.label) {\r\n        // Remove all emoji and special characters\r\n        return status.label.replace(/[\\u{1F000}-\\u{1FFFF}]|[\\u{2600}-\\u{27BF}]|[\\u{2300}-\\u{23FF}]|[\\u{2B50}]|[\\u{203C}-\\u{3299}]/gu, '').trim()\r\n      }\r\n      return statusValue\r\n    },\r\n    getStatusColor(statusValue) {\r\n      const status = this.workStatuses.find(s => s.value === statusValue)\r\n      return status?.color || '#6c757d'\r\n    },\r\n    async loadTasks() {\r\n      try {\r\n        const response = await this.$http.get('/api/tasks')\r\n        // รองรับทั้ง format array ตรงๆ และ format ที่มี wrapper\r\n        this.tasks = response.data.data || response.data || []\r\n      } catch (error) {\r\n        this.tasks = []\r\n        this.$toast.add({\r\n          severity: 'error',\r\n          summary: 'เกิดข้อผิดพลาด',\r\n          detail: 'ไม่สามารถโหลดข้อมูลงานได้',\r\n          life: 5000\r\n        })\r\n      }\r\n    },\r\n    formatDate(date) {\r\n      if (!date) return '-'\r\n      try {\r\n        return new Date(date).toLocaleDateString('th-TH', {\r\n          year: 'numeric',\r\n          month: 'long',\r\n          day: 'numeric'\r\n        })\r\n      } catch (error) {\r\n        return date\r\n      }\r\n    },\r\n    showTaskDetails(task) {\r\n      this.selectedTask = task\r\n      this.detailDialog = true\r\n    },\r\n    hasFiles(task) {\r\n      return task.files && Array.isArray(task.files) && task.files.length > 0\r\n    },\r\n    downloadTaskFiles(task) {\r\n      if (this.hasFiles(task)) {\r\n        this.selectedTaskFiles = task.files\r\n        this.filesDialog = true\r\n      }\r\n    },\r\n    downloadFile(fileName) {\r\n      // Create download link\r\n      const link = document.createElement('a')\r\n      link.href = `/api/files/download/${fileName}`\r\n      link.download = fileName\r\n      link.target = '_blank'\r\n      document.body.appendChild(link)\r\n      link.click()\r\n      document.body.removeChild(link)\r\n    },\r\n    editTask(task) {\r\n      this.editFormData = {\r\n        id: task.id,\r\n        task_name: task.task_name,\r\n        so_number: task.so_number || '',\r\n        contract_number: task.contract_number || '',\r\n        sale_owner: task.sale_owner || '',\r\n        description: task.description || '',\r\n        category: task.category || 'งานทั่วไป',\r\n        status: task.status || 'pending',\r\n        existingFiles: [...(task.files || [])],\r\n        newFiles: []\r\n      }\r\n      this.editDialog = true\r\n    },\r\n    handleEditFileUpload(event) {\r\n      const files = Array.from(event.target.files)\r\n      this.editFormData.newFiles = [...this.editFormData.newFiles, ...files]\r\n    },\r\n    removeExistingFile(index) {\r\n      this.editFormData.existingFiles.splice(index, 1)\r\n    },\r\n    removeNewFile(index) {\r\n      this.editFormData.newFiles.splice(index, 1)\r\n    },\r\n    async uploadNewFiles() {\r\n      if (this.editFormData.newFiles.length === 0) return []\r\n      \r\n      const formData = new FormData()\r\n      this.editFormData.newFiles.forEach(file => {\r\n        formData.append('files', file)\r\n      })\r\n      \r\n      try {\r\n        const response = await this.$http.post('/api/files/upload', formData, {\r\n          headers: { 'Content-Type': 'multipart/form-data' }\r\n        })\r\n        return response.data.files || []\r\n      } catch (error) {\r\n        return []\r\n      }\r\n    },\r\n    async updateTask() {\r\n      try {\r\n        // Upload ไฟล์ใหม่\r\n        const newUploadedFiles = await this.uploadNewFiles()\r\n        \r\n        // รวมไฟล์เดิมกับไฟล์ใหม่\r\n        const allFiles = [...this.editFormData.existingFiles, ...newUploadedFiles]\r\n        \r\n        const updateData = {\r\n          ...this.editFormData,\r\n          files: allFiles\r\n        }\r\n        delete updateData.existingFiles\r\n        delete updateData.newFiles\r\n        \r\n        await this.$http.put(`/api/tasks/${this.editFormData.id}`, updateData)\r\n        \r\n        this.$toast.add({\r\n          severity: 'success',\r\n          summary: 'สำเร็จ',\r\n          detail: 'แก้ไขงานเรียบร้อยแล้ว',\r\n          life: 3000\r\n        })\r\n        \r\n        this.editDialog = false\r\n        \r\n        // Auto-refresh data\r\n        await this.loadTasks()\r\n        \r\n        // Dispatch global event for real-time update\r\n        window.dispatchEvent(new CustomEvent('taskUpdated'))\r\n        \r\n      } catch (error) {\r\n        this.$toast.add({\r\n          severity: 'error',\r\n          summary: 'เกิดข้อผิดพลาด',\r\n          detail: error.response?.data?.error || 'ไม่สามารถแก้ไขงานได้',\r\n          life: 5000\r\n        })\r\n      }\r\n    },\r\n    handleTaskUpdate() {\r\n      // Auto-refresh tasks when updated\r\n      this.loadTasks()\r\n    },\r\n    handleCategoriesUpdate() {\r\n      this.loadCategoriesFromStorage()\r\n    },\r\n    handleStatusesUpdate() {\r\n      this.loadStatusesFromStorage()\r\n    },\r\n    async refreshData() {\r\n      // Method for external refresh calls\r\n      await this.loadTasks()\r\n    },\r\n    async viewTaskWorks(task) {\r\n      this.selectedTask = task\r\n      this.taskWorks = []\r\n      this.loadingWorks = true\r\n      this.taskWorksDialog = true\r\n      this.workStatusFilter = null\r\n      this.workSortBy = 'date_desc'\r\n      \r\n      try {\r\n        const response = await this.$http.get(`/api/daily-work?task_id=${task.id}`)\r\n        this.taskWorks = response.data || []\r\n      } catch (error) {\r\n        this.$toast.add({\r\n          severity: 'error',\r\n          summary: 'เกิดข้อผิดพลาด',\r\n          detail: 'ไม่สามารถโหลดข้อมูลงานรายวันได้',\r\n          life: 3000\r\n        })\r\n        this.taskWorks = []\r\n      } finally {\r\n        this.loadingWorks = false\r\n      }\r\n    },\r\n    formatDateTime(date) {\r\n      try {\r\n        return new Date(date).toLocaleString('th-TH', {\r\n          year: 'numeric',\r\n          month: 'short',\r\n          day: 'numeric',\r\n          hour: '2-digit',\r\n          minute: '2-digit'\r\n        })\r\n      } catch (error) {\r\n        return date\r\n      }\r\n    },\r\n    getTotalHours() {\r\n      if (!this.taskWorks || this.taskWorks.length === 0) return '0.0'\r\n      const total = this.taskWorks.reduce((sum, work) => sum + (parseFloat(work.total_hours) || 0), 0)\r\n      return total.toFixed(1)\r\n    },\r\n    showWorkFiles(work) {\r\n      this.selectedWorkFiles = work.files || []\r\n      this.workFilesDialog = true\r\n    },\r\n    downloadWorkFile(fileName) {\r\n      const link = document.createElement('a')\r\n      link.href = `/api/files/download/${fileName}`\r\n      link.download = fileName\r\n      link.target = '_blank'\r\n      document.body.appendChild(link)\r\n      link.click()\r\n      document.body.removeChild(link)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.history-card {\r\n  width: 100%;\r\n  margin: 0;\r\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);\r\n  border: 1px solid #e9ecef;\r\n}\r\n\r\n.empty-state {\r\n  text-align: center;\r\n  padding: 4rem 2rem;\r\n  color: #6c757d;\r\n  background: #f8f9fa;\r\n  border-radius: 8px;\r\n  margin: 1rem;\r\n}\r\n\r\n.empty-state p {\r\n  margin-top: 1rem;\r\n  font-size: 1.1rem;\r\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\r\n}\r\n\r\n.history-table :deep(.p-datatable) {\r\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\r\n}\r\n\r\n.history-table :deep(.p-datatable-thead > tr > th) {\r\n  background: #f8f9fa;\r\n  color: #495057;\r\n  font-weight: 600;\r\n  border-bottom: 2px solid #e9ecef;\r\n  padding: 1rem 0.75rem;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.history-table :deep(.p-datatable-tbody > tr > td) {\r\n  padding: 1rem 0.75rem;\r\n  border-bottom: 1px solid #f1f3f4;\r\n  vertical-align: middle;\r\n}\r\n\r\n.history-table :deep(.p-datatable-tbody > tr:hover) {\r\n  background: #f8f9fa;\r\n}\r\n\r\n.history-table :deep(.p-paginator) {\r\n  background: #f8f9fa;\r\n  border-top: 2px solid #e9ecef;\r\n  padding: 1rem;\r\n}\r\n\r\n.custom-id-badge {\r\n  background: linear-gradient(135deg, #28a745 0%, #20c997 100%);\r\n  color: white;\r\n  font-weight: 600;\r\n  padding: 0.5rem 0.75rem;\r\n  border-radius: 20px;\r\n  font-size: 0.8rem;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  min-width: 40px;\r\n}\r\n\r\n.task-name {\r\n  font-weight: 600;\r\n  color: #495057;\r\n}\r\n\r\n.so-number {\r\n  font-size: 0.9rem;\r\n  color: #6c757d;\r\n  background: #e3f2fd;\r\n  padding: 0.2rem 0.5rem;\r\n  border-radius: 12px;\r\n  display: inline-block;\r\n  width: fit-content;\r\n}\r\n\r\n.sale-info {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  color: #495057;\r\n}\r\n\r\n.sale-info i {\r\n  color: #667eea;\r\n}\r\n\r\n.text-muted {\r\n  color: #6c757d;\r\n}\r\n\r\n.dialog-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1000;\r\n}\r\n\r\n.dialog-content {\r\n  background: white;\r\n  border-radius: 8px;\r\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\r\n  max-width: 600px;\r\n  width: 90%;\r\n  max-height: 80vh;\r\n  overflow: hidden;\r\n  animation: dialogSlideIn 0.3s ease-out;\r\n}\r\n\r\n@keyframes dialogSlideIn {\r\n  from {\r\n    opacity: 0;\r\n    transform: scale(0.8) translateY(-20px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: scale(1) translateY(0);\r\n  }\r\n}\r\n\r\n.dialog-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 1.5rem;\r\n  border-bottom: 1px solid #e9ecef;\r\n  background: #f8f9fa;\r\n}\r\n\r\n.dialog-header h3 {\r\n  margin: 0;\r\n  color: #495057;\r\n  font-size: 1.25rem;\r\n}\r\n\r\n.dialog-close {\r\n  background: none;\r\n  border: none;\r\n  font-size: 1.5rem;\r\n  cursor: pointer;\r\n  color: #6c757d;\r\n  padding: 0;\r\n  width: 30px;\r\n  height: 30px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 50%;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.dialog-close:hover {\r\n  background: #e9ecef;\r\n  color: #495057;\r\n}\r\n\r\n.dialog-body {\r\n  padding: 1.5rem;\r\n}\r\n\r\n.work-description {\r\n  background: #f8f9fa;\r\n  padding: 1rem;\r\n  border-radius: 6px;\r\n  border-left: 4px solid #28a745;\r\n  white-space: pre-wrap;\r\n  line-height: 1.6;\r\n  color: #495057;\r\n  font-size: 0.95rem;\r\n}\r\n\r\n/* Mobile Responsive */\r\n.files-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.75rem;\r\n}\r\n\r\n.file-item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 0.75rem;\r\n  border: 1px solid #e0e0e0;\r\n  border-radius: 6px;\r\n  background-color: #f9f9f9;\r\n}\r\n\r\n.file-info {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.file-name {\r\n  font-weight: 500;\r\n}\r\n\r\n.no-files {\r\n  text-align: center;\r\n  padding: 2rem;\r\n  color: #666;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  :deep(.hide-mobile) {\r\n    display: none !important;\r\n  }\r\n  \r\n  .history-table :deep(.p-datatable-tbody > tr > td) {\r\n    padding: 0.75rem 0.5rem;\r\n    font-size: 0.9rem;\r\n  }\r\n  \r\n  .history-table :deep(.p-datatable-thead > tr > th) {\r\n    padding: 0.75rem 0.5rem;\r\n    font-size: 0.85rem;\r\n  }\r\n  \r\n  .task-name {\r\n    font-size: 0.9rem;\r\n    line-height: 1.2;\r\n  }\r\n}\r\n\r\n.edit-form {\r\n  padding: 1rem 0;\r\n}\r\n\r\n.form-grid {\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  gap: 1rem;\r\n  margin-bottom: 1.5rem;\r\n}\r\n\r\n.input-group {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.input-group.full-width {\r\n  grid-column: 1 / -1;\r\n}\r\n\r\n.input-label {\r\n  font-weight: 500;\r\n  color: #333;\r\n}\r\n\r\n.corporate-input, .corporate-dropdown {\r\n  width: 100%;\r\n}\r\n\r\n.file-upload-section {\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.existing-files, .new-files {\r\n  margin-top: 1rem;\r\n}\r\n\r\n.existing-files h4, .new-files h4 {\r\n  margin: 0 0 0.5rem 0;\r\n  font-size: 0.9rem;\r\n  color: #666;\r\n}\r\n\r\n.file-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  padding: 0.5rem;\r\n  border: 1px solid #e0e0e0;\r\n  border-radius: 4px;\r\n  margin-bottom: 0.5rem;\r\n  background-color: #f9f9f9;\r\n}\r\n\r\n.file-name {\r\n  flex: 1;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.form-actions {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 1rem;\r\n  padding-top: 1rem;\r\n  border-top: 1px solid #e0e0e0;\r\n}\r\n\r\n.action-buttons {\r\n  display: flex;\r\n  gap: 0.5rem;\r\n  justify-content: center;\r\n}\r\n\r\n.loading-state,\r\n.empty-works {\r\n  text-align: center;\r\n  padding: 3rem 2rem;\r\n  color: #6c757d;\r\n}\r\n\r\n.loading-state p,\r\n.empty-works p {\r\n  margin-top: 1rem;\r\n  font-size: 1rem;\r\n}\r\n\r\n.works-container {\r\n  max-height: 70vh;\r\n  overflow-y: auto;\r\n}\r\n\r\n.works-summary {\r\n  display: flex;\r\n  gap: 2rem;\r\n  padding: 1rem;\r\n  background: #f8f9fa;\r\n  border-radius: 8px;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.works-filters {\r\n  display: flex;\r\n  gap: 1rem;\r\n  padding: 1rem;\r\n  background: white;\r\n  border: 1px solid #e9ecef;\r\n  border-radius: 8px;\r\n  margin-bottom: 1rem;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.filter-group {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.filter-group label {\r\n  font-size: 0.9rem;\r\n  font-weight: 500;\r\n  color: #495057;\r\n  white-space: nowrap;\r\n}\r\n\r\n.filter-dropdown {\r\n  min-width: 180px;\r\n}\r\n\r\n.summary-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  color: #495057;\r\n}\r\n\r\n.summary-item i {\r\n  color: #4A90E2;\r\n  font-size: 1.1rem;\r\n}\r\n\r\n.summary-item strong {\r\n  color: #4A90E2;\r\n  font-size: 1.1rem;\r\n}\r\n\r\n.works-table-wrapper {\r\n  overflow-x: auto;\r\n  border: 1px solid #e9ecef;\r\n  border-radius: 8px;\r\n}\r\n\r\n.works-table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  background: white;\r\n}\r\n\r\n.works-table thead {\r\n  background: #f8f9fa;\r\n}\r\n\r\n.works-table th {\r\n  padding: 1rem 0.75rem;\r\n  text-align: left;\r\n  font-weight: 600;\r\n  color: #495057;\r\n  border-bottom: 2px solid #e9ecef;\r\n  white-space: nowrap;\r\n}\r\n\r\n.works-table td {\r\n  padding: 0.75rem;\r\n  border-bottom: 1px solid #f1f3f4;\r\n  color: #495057;\r\n}\r\n\r\n.works-table tbody tr:hover {\r\n  background: #f8f9fa;\r\n}\r\n\r\n.works-table .text-center {\r\n  text-align: center;\r\n}\r\n\r\n.files-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.75rem;\r\n}\r\n\r\n.file-item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 0.75rem;\r\n  border: 1px solid #e9ecef;\r\n  border-radius: 6px;\r\n  background: #f8f9fa;\r\n}\r\n\r\n.file-info {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  flex: 1;\r\n}\r\n\r\n.file-info i {\r\n  color: #6c757d;\r\n  font-size: 1rem;\r\n}\r\n\r\n.file-name {\r\n  font-size: 0.9rem;\r\n  color: #495057;\r\n  word-break: break-all;\r\n}\r\n\r\n.description-preview {\r\n  font-size: 0.9rem;\r\n  color: #666;\r\n}\r\n\r\n.attachments-info {\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\n.no-files {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  color: #999;\r\n  font-size: 0.9rem;\r\n  width: 100%;\r\n  text-align: center;\r\n}\r\n\r\n.category-badge {\r\n  white-space: nowrap;\r\n  overflow: visible;\r\n  text-overflow: unset;\r\n  max-width: none;\r\n  width: auto;\r\n  color: white !important;\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .history-table :deep(.p-datatable-tbody > tr > td) {\r\n    padding: 0.5rem 0.25rem;\r\n    font-size: 0.8rem;\r\n  }\r\n  \r\n  .history-table :deep(.p-datatable-thead > tr > th) {\r\n    padding: 0.5rem 0.25rem;\r\n    font-size: 0.8rem;\r\n  }\r\n  \r\n  .custom-id-badge {\r\n    font-size: 0.7rem;\r\n    padding: 0.3rem 0.5rem;\r\n  }\r\n}\r\n\r\n.badge-container {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 100%;\r\n  min-height: 40px;\r\n}\r\n\r\n.badge-container :deep(.p-badge) {\r\n  white-space: normal !important;\r\n  word-break: keep-all !important;\r\n  overflow-wrap: break-word !important;\r\n  text-align: center;\r\n  font-weight: 600;\r\n  font-size: 0.9rem;\r\n  padding: 0.25rem 0.4rem !important;\r\n  line-height: 1.5 !important;\r\n  display: inline-block !important;\r\n  max-width: 100%;\r\n  height: auto !important;\r\n}\r\n\r\n.category-display,\r\n.category-option,\r\n.status-display,\r\n.status-option {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.category-display .emoji,\r\n.category-option .emoji,\r\n.status-display .emoji,\r\n.status-option .emoji {\r\n  font-size: 16px;\r\n}\r\n\r\n.category-display i,\r\n.category-option i,\r\n.status-display i,\r\n.status-option i {\r\n  color: #4A90E2;\r\n  font-size: 14px;\r\n}\r\n\r\n/* Lock edit dialog position */\r\n.p-dialog .p-dialog-header {\r\n  cursor: default !important;\r\n}\r\n\r\n.p-dialog .p-dialog-header .p-dialog-title {\r\n  cursor: default !important;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}