{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport \"core-js/modules/es.iterator.reduce.js\";\nimport \"core-js/modules/es.iterator.some.js\";\nimport axios from 'axios';\nexport default {\n  name: 'TaskList',\n  created() {\n    this.$http = axios.create({\n      baseURL: ''\n    });\n    this.loadTasks();\n  },\n  mounted() {\n    // Listen for task updates\n    window.addEventListener('taskUpdated', this.handleTaskUpdate);\n    window.addEventListener('workRecordUpdated', this.handleTaskUpdate);\n    window.addEventListener('taskStatusChanged', this.handleTaskUpdate);\n    window.addEventListener('categoriesUpdated', this.handleCategoriesUpdate);\n    window.addEventListener('statusesUpdated', this.handleStatusesUpdate);\n\n    // Load categories, statuses and tasks\n    this.loadCategoriesFromStorage();\n    this.loadStatusesFromStorage();\n    this.loadTasks();\n  },\n  beforeUnmount() {\n    window.removeEventListener('taskUpdated', this.handleTaskUpdate);\n    window.removeEventListener('workRecordUpdated', this.handleTaskUpdate);\n    window.removeEventListener('taskStatusChanged', this.handleTaskUpdate);\n    window.removeEventListener('categoriesUpdated', this.handleCategoriesUpdate);\n    window.removeEventListener('statusesUpdated', this.handleStatusesUpdate);\n  },\n  data() {\n    return {\n      searchQuery: '',\n      tasks: [],\n      detailDialog: false,\n      selectedTask: null,\n      filesDialog: false,\n      selectedTaskFiles: [],\n      editDialog: false,\n      taskWorksDialog: false,\n      taskWorks: [],\n      loadingWorks: false,\n      workFilesDialog: false,\n      selectedWorkFiles: [],\n      workStatusFilter: null,\n      workSortBy: 'date_desc',\n      workStatusFilterOptions: [{\n        label: '‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î',\n        value: null\n      }, {\n        label: '‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå',\n        value: 'completed'\n      }, {\n        label: '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£',\n        value: 'in_progress'\n      }, {\n        label: '‡∏£‡∏≠‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£',\n        value: 'pending'\n      }, {\n        label: '‡∏£‡∏∞‡∏á‡∏±‡∏ö',\n        value: 'on_hold'\n      }],\n      workSortOptions: [{\n        label: '‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î',\n        value: 'date_desc'\n      }, {\n        label: '‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πà‡∏≤‡∏™‡∏∏‡∏î',\n        value: 'date_asc'\n      }, {\n        label: '‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞',\n        value: 'status'\n      }],\n      editFormData: {\n        id: null,\n        task_name: '',\n        so_number: '',\n        contract_number: '',\n        sale_owner: '',\n        description: '',\n        category: '‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ',\n        existingFiles: [],\n        newFiles: []\n      },\n      categoryOptions: [{\n        label: '‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ',\n        value: '‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ'\n      }, {\n        label: '‡∏á‡∏≤‡∏ô‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏£‡∏∞‡∏ö‡∏ö',\n        value: '‡∏á‡∏≤‡∏ô‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏£‡∏∞‡∏ö‡∏ö'\n      }, {\n        label: '‡∏á‡∏≤‡∏ô‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤',\n        value: '‡∏á‡∏≤‡∏ô‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤'\n      }, {\n        label: '‡∏á‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°',\n        value: '‡∏á‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°'\n      }, {\n        label: '‡∏á‡∏≤‡∏ô‡∏ù‡∏∂‡∏Å‡∏≠‡∏ö‡∏£‡∏°',\n        value: '‡∏á‡∏≤‡∏ô‡∏ù‡∏∂‡∏Å‡∏≠‡∏ö‡∏£‡∏°'\n      }, {\n        label: '‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡∏à‡∏±‡∏¢',\n        value: '‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡∏à‡∏±‡∏¢'\n      }, {\n        label: '‡∏á‡∏≤‡∏ô‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£',\n        value: '‡∏á‡∏≤‡∏ô‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£'\n      }, {\n        label: '‡∏á‡∏≤‡∏ô‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤',\n        value: '‡∏á‡∏≤‡∏ô‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤'\n      }],\n      categories: [],\n      workStatuses: []\n    };\n  },\n  computed: {\n    filteredTasks() {\n      const tasks = this.tasks || [];\n      if (!this.searchQuery) return tasks;\n      const query = this.searchQuery.toLowerCase().trim();\n      return tasks.filter(task => {\n        const searchableData = {\n          id: task.id || '',\n          task_name: task.task_name || '',\n          so_number: task.so_number || '',\n          contract_number: task.contract_number || '',\n          sale_owner: task.sale_owner || '',\n          description: task.description || '',\n          category: task.category || '',\n          status: task.status || '',\n          created_by: task.created_by || ''\n        };\n        return Object.values(searchableData).some(value => {\n          if (value === null || value === undefined) return false;\n          const strValue = String(value).toLowerCase();\n          return strValue.includes(query) || strValue.replace(/\\s/g, '').includes(query.replace(/\\s/g, ''));\n        });\n      });\n    },\n    filteredAndSortedWorks() {\n      let works = [...this.taskWorks];\n\n      // Filter by status\n      if (this.workStatusFilter) {\n        works = works.filter(work => work.work_status === this.workStatusFilter);\n      }\n\n      // Sort\n      if (this.workSortBy === 'date_desc') {\n        works.sort((a, b) => new Date(b.work_date) - new Date(a.work_date));\n      } else if (this.workSortBy === 'date_asc') {\n        works.sort((a, b) => new Date(a.work_date) - new Date(b.work_date));\n      } else if (this.workSortBy === 'status') {\n        const statusOrder = {\n          'completed': 1,\n          'in_progress': 2,\n          'pending': 3,\n          'on_hold': 4\n        };\n        works.sort((a, b) => (statusOrder[a.work_status] || 5) - (statusOrder[b.work_status] || 5));\n      }\n      return works;\n    }\n  },\n  methods: {\n    async loadCategoriesFromStorage() {\n      try {\n        const response = await this.$http.get('/api/settings/categories');\n        this.categories = response.data;\n        console.log('Categories loaded:', this.categories);\n      } catch (error) {\n        console.error('Error loading categories:', error);\n        // Fallback to default\n        this.categories = [{\n          label: 'üíº ‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ',\n          value: '‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ',\n          icon: 'emoji:üíº',\n          color: '#6366f1'\n        }, {\n          label: 'üíª ‡∏á‡∏≤‡∏ô‡∏û‡∏±‡∏í‡∏ô‡∏≤',\n          value: '‡∏á‡∏≤‡∏ô‡∏û‡∏±‡∏í‡∏ô‡∏≤',\n          icon: 'emoji:üíª',\n          color: '#14b8a6'\n        }, {\n          label: 'üîß ‡∏á‡∏≤‡∏ô‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤',\n          value: '‡∏á‡∏≤‡∏ô‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤',\n          icon: 'emoji:üîß',\n          color: '#f97316'\n        }];\n      }\n    },\n    async loadStatusesFromStorage() {\n      try {\n        const response = await this.$http.get('/api/settings/statuses');\n        this.workStatuses = response.data;\n      } catch (error) {\n        console.error('Error loading statuses:', error);\n        // Fallback to default\n        this.workStatuses = [{\n          label: '‚è≥ ‡∏£‡∏≠‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£',\n          value: 'pending',\n          icon: 'emoji:‚è≥',\n          color: '#f59e0b'\n        }, {\n          label: 'üîÑ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£',\n          value: 'in_progress',\n          icon: 'emoji:üîÑ',\n          color: '#3b82f6'\n        }, {\n          label: '‚úÖ ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô',\n          value: 'completed',\n          icon: 'emoji:‚úÖ',\n          color: '#10b981'\n        }, {\n          label: '‚è∏Ô∏è ‡∏£‡∏∞‡∏á‡∏±‡∏ö',\n          value: 'on_hold',\n          icon: 'emoji:‚è∏Ô∏è',\n          color: '#6c757d'\n        }];\n      }\n    },\n    getCategoryIcon(categoryValue) {\n      const category = this.categories.find(cat => cat.value === categoryValue);\n      return category ? category.icon : 'pi pi-tag';\n    },\n    getCategoryLabel(categoryValue) {\n      const category = this.categories.find(cat => cat.value === categoryValue);\n      if (category && category.label) {\n        // Remove all emoji and special characters\n        return category.label.replace(/[\\u{1F000}-\\u{1FFFF}]|[\\u{2600}-\\u{27BF}]|[\\u{2300}-\\u{23FF}]|[\\u{2B50}]|[\\u{203C}-\\u{3299}]/gu, '').trim();\n      }\n      return categoryValue;\n    },\n    getCategoryColor(categoryValue) {\n      const category = this.categories.find(cat => cat.value === categoryValue);\n      console.log('Finding color for:', categoryValue, 'Found:', category);\n      return category?.color || '#6c757d';\n    },\n    getStatusIcon(statusValue) {\n      const status = this.workStatuses.find(s => s.value === statusValue);\n      return status ? status.icon : 'pi pi-circle';\n    },\n    getStatusLabel(statusValue) {\n      const status = this.workStatuses.find(s => s.value === statusValue);\n      if (status && status.label) {\n        // Remove all emoji and special characters\n        return status.label.replace(/[\\u{1F000}-\\u{1FFFF}]|[\\u{2600}-\\u{27BF}]|[\\u{2300}-\\u{23FF}]|[\\u{2B50}]|[\\u{203C}-\\u{3299}]/gu, '').trim();\n      }\n      return statusValue;\n    },\n    getStatusColor(statusValue) {\n      const status = this.workStatuses.find(s => s.value === statusValue);\n      return status?.color || '#6c757d';\n    },\n    async loadTasks() {\n      try {\n        const response = await this.$http.get('/api/tasks');\n        // ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ó‡∏±‡πâ‡∏á format array ‡∏ï‡∏£‡∏á‡πÜ ‡πÅ‡∏•‡∏∞ format ‡∏ó‡∏µ‡πà‡∏°‡∏µ wrapper\n        this.tasks = response.data.data || response.data || [];\n      } catch (error) {\n        this.tasks = [];\n        this.$toast.add({\n          severity: 'error',\n          summary: '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î',\n          detail: '‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ',\n          life: 5000\n        });\n      }\n    },\n    formatDate(date) {\n      if (!date) return '-';\n      try {\n        return new Date(date).toLocaleDateString('th-TH', {\n          year: 'numeric',\n          month: 'long',\n          day: 'numeric'\n        });\n      } catch (error) {\n        return date;\n      }\n    },\n    showTaskDetails(task) {\n      this.selectedTask = task;\n      this.detailDialog = true;\n    },\n    hasFiles(task) {\n      return task.files && Array.isArray(task.files) && task.files.length > 0;\n    },\n    downloadTaskFiles(task) {\n      if (this.hasFiles(task)) {\n        this.selectedTaskFiles = task.files;\n        this.filesDialog = true;\n      }\n    },\n    downloadFile(fileName) {\n      // Create download link\n      const link = document.createElement('a');\n      link.href = `/api/files/download/${fileName}`;\n      link.download = fileName;\n      link.target = '_blank';\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n    },\n    editTask(task) {\n      this.editFormData = {\n        id: task.id,\n        task_name: task.task_name,\n        so_number: task.so_number || '',\n        contract_number: task.contract_number || '',\n        sale_owner: task.sale_owner || '',\n        description: task.description || '',\n        category: task.category || '‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ',\n        status: task.status || 'pending',\n        existingFiles: [...(task.files || [])],\n        newFiles: []\n      };\n      this.editDialog = true;\n    },\n    handleEditFileUpload(event) {\n      const files = Array.from(event.target.files);\n      this.editFormData.newFiles = [...this.editFormData.newFiles, ...files];\n    },\n    removeExistingFile(index) {\n      this.editFormData.existingFiles.splice(index, 1);\n    },\n    removeNewFile(index) {\n      this.editFormData.newFiles.splice(index, 1);\n    },\n    async uploadNewFiles() {\n      if (this.editFormData.newFiles.length === 0) return [];\n      const formData = new FormData();\n      this.editFormData.newFiles.forEach(file => {\n        formData.append('files', file);\n      });\n      try {\n        const response = await this.$http.post('/api/files/upload', formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n        return response.data.files || [];\n      } catch (error) {\n        return [];\n      }\n    },\n    async updateTask() {\n      try {\n        // Upload ‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏´‡∏°‡πà\n        const newUploadedFiles = await this.uploadNewFiles();\n\n        // ‡∏£‡∏ß‡∏°‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏î‡∏¥‡∏°‡∏Å‡∏±‡∏ö‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏´‡∏°‡πà\n        const allFiles = [...this.editFormData.existingFiles, ...newUploadedFiles];\n        const updateData = {\n          ...this.editFormData,\n          files: allFiles\n        };\n        delete updateData.existingFiles;\n        delete updateData.newFiles;\n        await this.$http.put(`/api/tasks/${this.editFormData.id}`, updateData);\n        this.$toast.add({\n          severity: 'success',\n          summary: '‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à',\n          detail: '‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏á‡∏≤‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß',\n          life: 3000\n        });\n        this.editDialog = false;\n\n        // Auto-refresh data\n        await this.loadTasks();\n\n        // Dispatch global event for real-time update\n        window.dispatchEvent(new CustomEvent('taskUpdated'));\n      } catch (error) {\n        this.$toast.add({\n          severity: 'error',\n          summary: '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î',\n          detail: error.response?.data?.error || '‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ',\n          life: 5000\n        });\n      }\n    },\n    handleTaskUpdate() {\n      // Auto-refresh tasks when updated\n      this.loadTasks();\n    },\n    handleCategoriesUpdate() {\n      this.loadCategoriesFromStorage();\n    },\n    handleStatusesUpdate() {\n      this.loadStatusesFromStorage();\n    },\n    async refreshData() {\n      // Method for external refresh calls\n      await this.loadTasks();\n    },\n    async viewTaskWorks(task) {\n      this.selectedTask = task;\n      this.taskWorks = [];\n      this.loadingWorks = true;\n      this.taskWorksDialog = true;\n      this.workStatusFilter = null;\n      this.workSortBy = 'date_desc';\n      try {\n        const response = await this.$http.get(`/api/daily-work?task_id=${task.id}`);\n        this.taskWorks = response.data || [];\n      } catch (error) {\n        this.$toast.add({\n          severity: 'error',\n          summary: '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î',\n          detail: '‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏á‡∏≤‡∏ô‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô‡πÑ‡∏î‡πâ',\n          life: 3000\n        });\n        this.taskWorks = [];\n      } finally {\n        this.loadingWorks = false;\n      }\n    },\n    formatDateTime(date) {\n      try {\n        return new Date(date).toLocaleString('th-TH', {\n          year: 'numeric',\n          month: 'short',\n          day: 'numeric',\n          hour: '2-digit',\n          minute: '2-digit'\n        });\n      } catch (error) {\n        return date;\n      }\n    },\n    getWorkStatusLabel(status) {\n      const statusMap = {\n        'completed': '‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå',\n        'in_progress': '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£',\n        'pending': '‡∏£‡∏≠‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£',\n        'on_hold': '‡∏£‡∏∞‡∏á‡∏±‡∏ö'\n      };\n      return statusMap[status] || status;\n    },\n    getWorkStatusSeverity(status) {\n      const severities = {\n        'completed': 'success',\n        'in_progress': 'info',\n        'pending': 'warning',\n        'on_hold': 'secondary'\n      };\n      return severities[status] || 'secondary';\n    },\n    getTotalHours() {\n      if (!this.taskWorks || this.taskWorks.length === 0) return '0.0';\n      const total = this.taskWorks.reduce((sum, work) => sum + (parseFloat(work.total_hours) || 0), 0);\n      return total.toFixed(1);\n    },\n    showWorkFiles(work) {\n      this.selectedWorkFiles = work.files || [];\n      this.workFilesDialog = true;\n    },\n    downloadWorkFile(fileName) {\n      const link = document.createElement('a');\n      link.href = `/api/files/download/${fileName}`;\n      link.download = fileName;\n      link.target = '_blank';\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n    }\n  }\n};","map":{"version":3,"names":["axios","name","created","$http","create","baseURL","loadTasks","mounted","window","addEventListener","handleTaskUpdate","handleCategoriesUpdate","handleStatusesUpdate","loadCategoriesFromStorage","loadStatusesFromStorage","beforeUnmount","removeEventListener","data","searchQuery","tasks","detailDialog","selectedTask","filesDialog","selectedTaskFiles","editDialog","taskWorksDialog","taskWorks","loadingWorks","workFilesDialog","selectedWorkFiles","workStatusFilter","workSortBy","workStatusFilterOptions","label","value","workSortOptions","editFormData","id","task_name","so_number","contract_number","sale_owner","description","category","existingFiles","newFiles","categoryOptions","categories","workStatuses","computed","filteredTasks","query","toLowerCase","trim","filter","task","searchableData","status","created_by","Object","values","some","undefined","strValue","String","includes","replace","filteredAndSortedWorks","works","work","work_status","sort","a","b","Date","work_date","statusOrder","methods","response","get","console","log","error","icon","color","getCategoryIcon","categoryValue","find","cat","getCategoryLabel","getCategoryColor","getStatusIcon","statusValue","s","getStatusLabel","getStatusColor","$toast","add","severity","summary","detail","life","formatDate","date","toLocaleDateString","year","month","day","showTaskDetails","hasFiles","files","Array","isArray","length","downloadTaskFiles","downloadFile","fileName","link","document","createElement","href","download","target","body","appendChild","click","removeChild","editTask","handleEditFileUpload","event","from","removeExistingFile","index","splice","removeNewFile","uploadNewFiles","formData","FormData","forEach","file","append","post","headers","updateTask","newUploadedFiles","allFiles","updateData","put","dispatchEvent","CustomEvent","refreshData","viewTaskWorks","formatDateTime","toLocaleString","hour","minute","getWorkStatusLabel","statusMap","getWorkStatusSeverity","severities","getTotalHours","total","reduce","sum","parseFloat","total_hours","toFixed","showWorkFiles","downloadWorkFile"],"sources":["D:\\FULLACC\\frontend_cem-main\\src\\views\\daily_work\\TaskList.vue"],"sourcesContent":["<template>\n  <Card class=\"history-card\">\n    <template #content>\n      <!-- Search Box -->\n      <div class=\"search-box mb-3\">\n        <IconField iconPosition=\"left\">\n          <InputIcon class=\"pi pi-search\" />\n          <InputText v-model=\"searchQuery\" placeholder=\"‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤...\" class=\"w-full\" />\n        </IconField>\n      </div>\n\n      <div v-if=\"filteredTasks.length === 0\" class=\"empty-state\">\n        <i class=\"pi pi-briefcase\" style=\"font-size: 4rem; color: #ccc;\"></i>\n        <p>{{ searchQuery ? '‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤' : '‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏ß‡πâ' }}</p>\n      </div>\n\n      <DataTable v-else :value=\"filteredTasks\" :paginator=\"true\" :rows=\"10\"\n        :rowsPerPageOptions=\"[5, 10, 20]\" responsiveLayout=\"scroll\" class=\"history-table\" stripedRows>\n        \n        <Column field=\"id\" header=\"‡∏£‡∏´‡∏±‡∏™‡∏á‡∏≤‡∏ô\" :sortable=\"true\">\n          <template #body=\"slotProps\">\n            <div style=\"text-align: center;\">\n              <Badge :value=\"slotProps.data.id\" class=\"custom-id-badge\" />\n            </div>\n          </template>\n        </Column>\n\n        <Column field=\"task_name\" header=\"‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£\" :sortable=\"true\" style=\"min-width: 150px; max-width: 250px;\">\n          <template #body=\"slotProps\">\n            <div class=\"task-name\">{{ slotProps.data.task_name }}</div>\n          </template>\n        </Column>\n\n        <Column field=\"so_number\" header=\"‡πÄ‡∏•‡∏Ç SO\" class=\"hide-mobile\">\n          <template #body=\"slotProps\">\n            <div v-if=\"slotProps.data.so_number\" class=\"so-number\">\n              {{ slotProps.data.so_number }}\n            </div>\n            <span v-else class=\"text-muted\">-</span>\n          </template>\n        </Column>\n\n        <Column field=\"contract_number\" header=\"‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏™‡∏±‡∏ç‡∏ç‡∏≤\" class=\"hide-mobile\">\n          <template #body=\"slotProps\">\n            {{ slotProps.data.contract_number || '-' }}\n          </template>\n        </Column>\n\n        <Column field=\"sale_owner\" header=\"Sale ‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏á‡∏≤‡∏ô\" class=\"hide-mobile\">\n          <template #body=\"slotProps\">\n            <div v-if=\"slotProps.data.sale_owner\" class=\"sale-info\">\n              <i class=\"pi pi-user\"></i>\n              {{ slotProps.data.sale_owner }}\n            </div>\n            <span v-else class=\"text-muted\">-</span>\n          </template>\n        </Column>\n\n        <Column field=\"category\" header=\"‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà\" :sortable=\"true\" style=\"min-width: 120px; text-align: center;\">\n          <template #body=\"slotProps\">\n            <Badge :value=\"getCategoryLabel(slotProps.data.category)\" \n                   :style=\"{ backgroundColor: getCategoryColor(slotProps.data.category), color: '#fff', fontWeight: 'bold' }\" \n                   class=\"category-badge\" />\n          </template>\n        </Column>\n\n        <Column field=\"created_at\" header=\"‡∏ß‡∏±‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£\" :sortable=\"true\">\n          <template #body=\"slotProps\">\n            {{ formatDate(slotProps.data.created_at) }}\n          </template>\n        </Column>\n\n        <Column field=\"project_end_date\" header=\"‡∏ß‡∏±‡∏ô‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£\" :sortable=\"true\" class=\"hide-mobile\">\n          <template #body=\"slotProps\">\n            {{ slotProps.data.project_end_date ? formatDate(slotProps.data.project_end_date) : '-' }}\n          </template>\n        </Column>\n\n        <Column header=\"‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î\" class=\"hide-mobile\">\n          <template #body=\"slotProps\">\n            <Button \n              label=\"‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î\" \n              icon=\"pi pi-info-circle\" \n              size=\"small\" \n              severity=\"info\" \n              outlined \n              @click=\"showTaskDetails(slotProps.data)\"\n              :disabled=\"!slotProps.data.description\" />\n          </template>\n        </Column>\n\n        <Column header=\"‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£\" style=\"width: 150px;\">\n          <template #body=\"slotProps\">\n            <div class=\"action-buttons\">\n              <Button \n                icon=\"pi pi-eye\" \n                size=\"small\" \n                severity=\"info\" \n                outlined\n                @click=\"viewTaskWorks(slotProps.data)\"\n                v-tooltip=\"'‡∏î‡∏π‡∏á‡∏≤‡∏ô‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô'\"\n              />\n              <Button \n                icon=\"pi pi-pencil\" \n                size=\"small\" \n                severity=\"warning\" \n                outlined\n                @click=\"editTask(slotProps.data)\"\n                v-tooltip=\"'‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç'\"\n              />\n            </div>\n          </template>\n        </Column>\n\n        <Column header=\"‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞\" style=\"text-align: center; min-width: 140px;\">\n          <template #body=\"slotProps\">\n            <div class=\"badge-container\">\n              <Badge :value=\"getStatusLabel(slotProps.data.status)\" \n                     :style=\"{ backgroundColor: getStatusColor(slotProps.data.status), color: '#fff', fontWeight: 'bold' }\" />\n            </div>\n          </template>\n        </Column>\n\n        <Column header=\"‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏ô‡∏ö\" style=\"width: 80px;\">\n          <template #body=\"slotProps\">\n            <div v-if=\"hasFiles(slotProps.data)\" class=\"attachments-info\">\n              <Button \n                icon=\"pi pi-paperclip\" \n                size=\"small\" \n                severity=\"info\" \n                outlined\n                @click=\"downloadTaskFiles(slotProps.data)\"\n                v-tooltip=\"`${slotProps.data.files.length} ‡πÑ‡∏ü‡∏•‡πå`\"\n              />\n            </div>\n            <span v-else class=\"no-files\">-</span>\n          </template>\n        </Column>\n      </DataTable>\n    </template>\n  </Card>\n\n  <!-- Dialog ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏á‡∏≤‡∏ô -->\n  <div v-if=\"detailDialog\" class=\"dialog-overlay\" @click=\"detailDialog = false\">\n    <div class=\"dialog-content\" @click.stop>\n      <div class=\"dialog-header\">\n        <h3>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏á‡∏≤‡∏ô</h3>\n        <button class=\"dialog-close\" @click=\"detailDialog = false\">&times;</button>\n      </div>\n      <div class=\"dialog-body\">\n        <div class=\"work-description\">\n          {{ selectedTask?.description || '‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î' }}\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- Files Dialog -->\n  <Dialog v-model:visible=\"filesDialog\" modal header=\"‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏ô‡∏ö\" :style=\"{ width: '50rem' }\">\n    <div v-if=\"selectedTaskFiles && selectedTaskFiles.length > 0\" class=\"files-list\">\n      <div v-for=\"(file, index) in selectedTaskFiles\" :key=\"index\" class=\"file-item\">\n        <div class=\"file-info\">\n          <i class=\"pi pi-file\"></i>\n          <span class=\"file-name\">{{ file }}</span>\n        </div>\n        <Button \n          icon=\"pi pi-download\" \n          size=\"small\" \n          severity=\"success\" \n          outlined\n          @click=\"downloadFile(file)\"\n          v-tooltip=\"'‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î'\"\n        />\n      </div>\n    </div>\n    <div v-else class=\"no-files\">\n      <p>‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏ô‡∏ö</p>\n    </div>\n  </Dialog>\n\n  <!-- Task Works Dialog -->\n  <Dialog v-model:visible=\"taskWorksDialog\" modal :header=\"`‡∏á‡∏≤‡∏ô‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô‡∏Ç‡∏≠‡∏á‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£: ${selectedTask?.task_name || ''}`\" \n          :style=\"{ width: '90vw', maxWidth: '1200px' }\" :draggable=\"false\" position=\"center\">\n    <div v-if=\"loadingWorks\" class=\"loading-state\">\n      <i class=\"pi pi-spin pi-spinner\" style=\"font-size: 2rem;\"></i>\n      <p>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</p>\n    </div>\n    \n    <div v-else-if=\"taskWorks.length === 0\" class=\"empty-works\">\n      <i class=\"pi pi-inbox\" style=\"font-size: 3rem; color: #ccc;\"></i>\n      <p>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏á‡∏≤‡∏ô‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡∏ô‡∏µ‡πâ</p>\n    </div>\n    \n    <div v-else class=\"works-container\">\n      <div class=\"works-summary\">\n        <div class=\"summary-item\">\n          <i class=\"pi pi-calendar\"></i>\n          <span>‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: <strong>{{ taskWorks.length }}</strong> ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</span>\n        </div>\n        <div class=\"summary-item\">\n          <i class=\"pi pi-clock\"></i>\n          <span>‡∏£‡∏ß‡∏°: <strong>{{ getTotalHours() }}</strong> ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á</span>\n        </div>\n      </div>\n      \n      <div class=\"works-filters\">\n        <div class=\"filter-group\">\n          <label>‡∏Å‡∏£‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞:</label>\n          <Dropdown v-model=\"workStatusFilter\" :options=\"workStatusFilterOptions\" \n                    optionLabel=\"label\" optionValue=\"value\" placeholder=\"‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î\" \n                    class=\"filter-dropdown\" />\n        </div>\n        <div class=\"filter-group\">\n          <label>‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏≤‡∏°:</label>\n          <Dropdown v-model=\"workSortBy\" :options=\"workSortOptions\" \n                    optionLabel=\"label\" optionValue=\"value\" \n                    class=\"filter-dropdown\" />\n        </div>\n      </div>\n      \n      <div class=\"works-table-wrapper\">\n        <table class=\"works-table\">\n          <thead>\n            <tr>\n              <th>ID</th>\n              <th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</th>\n              <th>‡∏ú‡∏π‡πâ‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏á‡∏≤‡∏ô</th>\n              <th>‡πÄ‡∏ß‡∏•‡∏≤</th>\n              <th>‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á</th>\n              <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>\n              <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà</th>\n              <th>‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏ô‡∏ö</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"work in filteredAndSortedWorks\" :key=\"work.id\">\n              <td class=\"text-center\">\n                <Badge :value=\"work.id\" severity=\"info\" />\n              </td>\n              <td>{{ formatDate(work.work_date) }}</td>\n              <td>{{ work.employee_name || '‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏' }}</td>\n              <td>{{ work.start_time }} - {{ work.end_time }}</td>\n              <td class=\"text-center\">{{ parseFloat(work.total_hours || 0).toFixed(1) }} ‡∏ä‡∏°.</td>\n              <td class=\"text-center\">\n                <Badge :value=\"getWorkStatusLabel(work.work_status)\" \n                       :severity=\"getWorkStatusSeverity(work.work_status)\" />\n              </td>\n              <td>{{ work.location || '-' }}</td>\n              <td class=\"text-center\">\n                <Button v-if=\"work.files && work.files.length > 0\"\n                        icon=\"pi pi-paperclip\" \n                        :label=\"work.files.length.toString()\"\n                        size=\"small\" \n                        severity=\"success\" \n                        outlined\n                        @click=\"showWorkFiles(work)\"\n                        v-tooltip=\"`${work.files.length} ‡πÑ‡∏ü‡∏•‡πå`\" />\n                <span v-else>-</span>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n    \n    <template #footer>\n      <Button label=\"‡∏õ‡∏¥‡∏î\" icon=\"pi pi-times\" @click=\"taskWorksDialog = false\" />\n    </template>\n  </Dialog>\n\n  <!-- Work Files Dialog -->\n  <Dialog v-model:visible=\"workFilesDialog\" modal header=\"‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏ô‡∏ö\" \n          :style=\"{ width: '500px' }\" :draggable=\"false\">\n    <div v-if=\"selectedWorkFiles && selectedWorkFiles.length > 0\" class=\"files-list\">\n      <div v-for=\"(file, index) in selectedWorkFiles\" :key=\"index\" class=\"file-item\">\n        <div class=\"file-info\">\n          <i class=\"pi pi-file\"></i>\n          <span class=\"file-name\">{{ file }}</span>\n        </div>\n        <Button icon=\"pi pi-download\" size=\"small\" severity=\"success\" outlined\n                @click=\"downloadWorkFile(file)\" v-tooltip=\"'‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î'\" />\n      </div>\n    </div>\n  </Dialog>\n\n  <!-- Edit Task Dialog -->\n  <Dialog v-model:visible=\"editDialog\" modal header=\"‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô\" :style=\"{ width: '50rem' }\" :draggable=\"false\" position=\"center\">\n    <form @submit.prevent=\"updateTask\" class=\"edit-form\">\n      <div class=\"form-grid\">\n        <div class=\"input-group\">\n          <label class=\"input-label\">‡∏ä‡∏∑‡πà‡∏≠‡∏á‡∏≤‡∏ô *</label>\n          <InputText v-model=\"editFormData.task_name\" required class=\"corporate-input\" />\n        </div>\n        \n        <div class=\"input-group\">\n          <label class=\"input-label\">SO Number</label>\n          <InputText v-model=\"editFormData.so_number\" class=\"corporate-input\" />\n        </div>\n        \n        <div class=\"input-group\">\n          <label class=\"input-label\">Contract Number</label>\n          <InputText v-model=\"editFormData.contract_number\" class=\"corporate-input\" />\n        </div>\n        \n        <div class=\"input-group\">\n          <label class=\"input-label\">Sale Owner</label>\n          <InputText v-model=\"editFormData.sale_owner\" class=\"corporate-input\" />\n        </div>\n\n        <div class=\"input-group\">\n          <label class=\"input-label\">‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏á‡∏≤‡∏ô *</label>\n          <Dropdown v-model=\"editFormData.category\" :options=\"categories\" \n                    optionLabel=\"label\" optionValue=\"value\" placeholder=\"‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏á‡∏≤‡∏ô\" \n                    class=\"corporate-input\" required>\n            <template #value=\"slotProps\">\n              <span v-if=\"slotProps.value\">{{ getCategoryLabel(slotProps.value) }}</span>\n            </template>\n            <template #option=\"slotProps\">\n              <span>{{ slotProps.option.label }}</span>\n            </template>\n          </Dropdown>\n        </div>\n\n        <div class=\"input-group\">\n          <label class=\"input-label\">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏á‡∏≤‡∏ô</label>\n          <Dropdown v-model=\"editFormData.status\" :options=\"workStatuses\" \n                    optionLabel=\"label\" optionValue=\"value\" placeholder=\"‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏á‡∏≤‡∏ô\" \n                    class=\"corporate-input\">\n            <template #value=\"slotProps\">\n              <span v-if=\"slotProps.value\">{{ getStatusLabel(slotProps.value) }}</span>\n            </template>\n            <template #option=\"slotProps\">\n              <span>{{ slotProps.option.label }}</span>\n            </template>\n          </Dropdown>\n        </div>\n        \n        <div class=\"input-group full-width\">\n          <label class=\"input-label\">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</label>\n          <Textarea v-model=\"editFormData.description\" rows=\"4\" class=\"corporate-input\" />\n        </div>\n\n        <div class=\"input-group full-width\">\n          <label class=\"input-label\">‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏ô‡∏ö</label>\n          <div class=\"file-upload-section\">\n            <input type=\"file\" ref=\"editFileInput\" @change=\"handleEditFileUpload\" \n              accept=\"image/*,.pdf,.doc,.docx,.xls,.xlsx\" multiple class=\"file-input\" style=\"display: none;\">\n            <Button type=\"button\" \n              label=\"‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏ü‡∏•‡πå\" \n              icon=\"pi pi-upload\" \n              severity=\"secondary\" \n              outlined \n              @click=\"$refs.editFileInput.click()\" />\n          </div>\n          \n          <!-- ‡πÅ‡∏™‡∏î‡∏á‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏î‡∏¥‡∏° -->\n          <div v-if=\"editFormData.existingFiles?.length > 0\" class=\"existing-files\">\n            <h4>‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏î‡∏¥‡∏°:</h4>\n            <div v-for=\"(file, index) in editFormData.existingFiles\" :key=\"index\" class=\"file-item\">\n              <i class=\"pi pi-file\"></i>\n              <span class=\"file-name\">{{ file }}</span>\n              <Button icon=\"pi pi-times\" size=\"small\" severity=\"danger\" text @click=\"removeExistingFile(index)\" />\n            </div>\n          </div>\n          \n          <!-- ‡πÅ‡∏™‡∏î‡∏á‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏´‡∏°‡πà -->\n          <div v-if=\"editFormData.newFiles?.length > 0\" class=\"new-files\">\n            <h4>‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏´‡∏°‡πà:</h4>\n            <div v-for=\"(file, index) in editFormData.newFiles\" :key=\"index\" class=\"file-item\">\n              <i class=\"pi pi-file\"></i>\n              <span class=\"file-name\">{{ file.name }}</span>\n              <Button icon=\"pi pi-times\" size=\"small\" severity=\"danger\" text @click=\"removeNewFile(index)\" />\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      <div class=\"form-actions\">\n        <Button type=\"button\" label=\"‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å\" severity=\"secondary\" outlined @click=\"editDialog = false\" />\n        <Button type=\"submit\" label=\"‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å\" severity=\"success\" />\n      </div>\n    </form>\n  </Dialog>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n  name: 'TaskList',\n  created() {\n    this.$http = axios.create({\n      baseURL: ''\n    })\n    this.loadTasks()\n  },\n  mounted() {\n    // Listen for task updates\n    window.addEventListener('taskUpdated', this.handleTaskUpdate)\n    window.addEventListener('workRecordUpdated', this.handleTaskUpdate)\n    window.addEventListener('taskStatusChanged', this.handleTaskUpdate)\n    window.addEventListener('categoriesUpdated', this.handleCategoriesUpdate)\n    window.addEventListener('statusesUpdated', this.handleStatusesUpdate)\n    \n    // Load categories, statuses and tasks\n    this.loadCategoriesFromStorage()\n    this.loadStatusesFromStorage()\n    this.loadTasks()\n  },\n  beforeUnmount() {\n    window.removeEventListener('taskUpdated', this.handleTaskUpdate)\n    window.removeEventListener('workRecordUpdated', this.handleTaskUpdate)\n    window.removeEventListener('taskStatusChanged', this.handleTaskUpdate)\n    window.removeEventListener('categoriesUpdated', this.handleCategoriesUpdate)\n    window.removeEventListener('statusesUpdated', this.handleStatusesUpdate)\n  },\n  data() {\n    return {\n      searchQuery: '',\n      tasks: [],\n      detailDialog: false,\n      selectedTask: null,\n      filesDialog: false,\n      selectedTaskFiles: [],\n      editDialog: false,\n      taskWorksDialog: false,\n      taskWorks: [],\n      loadingWorks: false,\n      workFilesDialog: false,\n      selectedWorkFiles: [],\n      workStatusFilter: null,\n      workSortBy: 'date_desc',\n      workStatusFilterOptions: [\n        { label: '‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î', value: null },\n        { label: '‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå', value: 'completed' },\n        { label: '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£', value: 'in_progress' },\n        { label: '‡∏£‡∏≠‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£', value: 'pending' },\n        { label: '‡∏£‡∏∞‡∏á‡∏±‡∏ö', value: 'on_hold' }\n      ],\n      workSortOptions: [\n        { label: '‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î', value: 'date_desc' },\n        { label: '‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πà‡∏≤‡∏™‡∏∏‡∏î', value: 'date_asc' },\n        { label: '‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞', value: 'status' }\n      ],\n      editFormData: {\n        id: null,\n        task_name: '',\n        so_number: '',\n        contract_number: '',\n        sale_owner: '',\n        description: '',\n        category: '‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ',\n        existingFiles: [],\n        newFiles: []\n      },\n      categoryOptions: [\n        { label: '‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ', value: '‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ' },\n        { label: '‡∏á‡∏≤‡∏ô‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏£‡∏∞‡∏ö‡∏ö', value: '‡∏á‡∏≤‡∏ô‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏£‡∏∞‡∏ö‡∏ö' },\n        { label: '‡∏á‡∏≤‡∏ô‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤', value: '‡∏á‡∏≤‡∏ô‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤' },\n        { label: '‡∏á‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°', value: '‡∏á‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°' },\n        { label: '‡∏á‡∏≤‡∏ô‡∏ù‡∏∂‡∏Å‡∏≠‡∏ö‡∏£‡∏°', value: '‡∏á‡∏≤‡∏ô‡∏ù‡∏∂‡∏Å‡∏≠‡∏ö‡∏£‡∏°' },\n        { label: '‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡∏à‡∏±‡∏¢', value: '‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡∏à‡∏±‡∏¢' },\n        { label: '‡∏á‡∏≤‡∏ô‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£', value: '‡∏á‡∏≤‡∏ô‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£' },\n        { label: '‡∏á‡∏≤‡∏ô‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤', value: '‡∏á‡∏≤‡∏ô‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤' }\n      ],\n      categories: [],\n      workStatuses: []\n    }\n  },\n  computed: {\n    filteredTasks() {\n      const tasks = this.tasks || []\n      if (!this.searchQuery) return tasks\n\n      const query = this.searchQuery.toLowerCase().trim()\n      return tasks.filter(task => {\n        const searchableData = {\n          id: task.id || '',\n          task_name: task.task_name || '',\n          so_number: task.so_number || '',\n          contract_number: task.contract_number || '',\n          sale_owner: task.sale_owner || '',\n          description: task.description || '',\n          category: task.category || '',\n          status: task.status || '',\n          created_by: task.created_by || ''\n        }\n        \n        return Object.values(searchableData).some(value => {\n          if (value === null || value === undefined) return false\n          const strValue = String(value).toLowerCase()\n          return strValue.includes(query) || strValue.replace(/\\s/g, '').includes(query.replace(/\\s/g, ''))\n        })\n      })\n    },\n    filteredAndSortedWorks() {\n      let works = [...this.taskWorks]\n      \n      // Filter by status\n      if (this.workStatusFilter) {\n        works = works.filter(work => work.work_status === this.workStatusFilter)\n      }\n      \n      // Sort\n      if (this.workSortBy === 'date_desc') {\n        works.sort((a, b) => new Date(b.work_date) - new Date(a.work_date))\n      } else if (this.workSortBy === 'date_asc') {\n        works.sort((a, b) => new Date(a.work_date) - new Date(b.work_date))\n      } else if (this.workSortBy === 'status') {\n        const statusOrder = { 'completed': 1, 'in_progress': 2, 'pending': 3, 'on_hold': 4 }\n        works.sort((a, b) => (statusOrder[a.work_status] || 5) - (statusOrder[b.work_status] || 5))\n      }\n      \n      return works\n    }\n  },\n  methods: {\n    async loadCategoriesFromStorage() {\n      try {\n        const response = await this.$http.get('/api/settings/categories')\n        this.categories = response.data\n        console.log('Categories loaded:', this.categories)\n      } catch (error) {\n        console.error('Error loading categories:', error)\n        // Fallback to default\n        this.categories = [\n          { label: 'üíº ‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ', value: '‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ', icon: 'emoji:üíº', color: '#6366f1' },\n          { label: 'üíª ‡∏á‡∏≤‡∏ô‡∏û‡∏±‡∏í‡∏ô‡∏≤', value: '‡∏á‡∏≤‡∏ô‡∏û‡∏±‡∏í‡∏ô‡∏≤', icon: 'emoji:üíª', color: '#14b8a6' },\n          { label: 'üîß ‡∏á‡∏≤‡∏ô‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤', value: '‡∏á‡∏≤‡∏ô‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤', icon: 'emoji:üîß', color: '#f97316' }\n        ]\n      }\n    },\n    async loadStatusesFromStorage() {\n      try {\n        const response = await this.$http.get('/api/settings/statuses')\n        this.workStatuses = response.data\n      } catch (error) {\n        console.error('Error loading statuses:', error)\n        // Fallback to default\n        this.workStatuses = [\n          { label: '‚è≥ ‡∏£‡∏≠‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£', value: 'pending', icon: 'emoji:‚è≥', color: '#f59e0b' },\n          { label: 'üîÑ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£', value: 'in_progress', icon: 'emoji:üîÑ', color: '#3b82f6' },\n          { label: '‚úÖ ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô', value: 'completed', icon: 'emoji:‚úÖ', color: '#10b981' },\n          { label: '‚è∏Ô∏è ‡∏£‡∏∞‡∏á‡∏±‡∏ö', value: 'on_hold', icon: 'emoji:‚è∏Ô∏è', color: '#6c757d' }\n        ]\n      }\n    },\n    getCategoryIcon(categoryValue) {\n      const category = this.categories.find(cat => cat.value === categoryValue)\n      return category ? category.icon : 'pi pi-tag'\n    },\n    getCategoryLabel(categoryValue) {\n      const category = this.categories.find(cat => cat.value === categoryValue)\n      if (category && category.label) {\n        // Remove all emoji and special characters\n        return category.label.replace(/[\\u{1F000}-\\u{1FFFF}]|[\\u{2600}-\\u{27BF}]|[\\u{2300}-\\u{23FF}]|[\\u{2B50}]|[\\u{203C}-\\u{3299}]/gu, '').trim()\n      }\n      return categoryValue\n    },\n    getCategoryColor(categoryValue) {\n      const category = this.categories.find(cat => cat.value === categoryValue)\n      console.log('Finding color for:', categoryValue, 'Found:', category)\n      return category?.color || '#6c757d'\n    },\n    getStatusIcon(statusValue) {\n      const status = this.workStatuses.find(s => s.value === statusValue)\n      return status ? status.icon : 'pi pi-circle'\n    },\n    getStatusLabel(statusValue) {\n      const status = this.workStatuses.find(s => s.value === statusValue)\n      if (status && status.label) {\n        // Remove all emoji and special characters\n        return status.label.replace(/[\\u{1F000}-\\u{1FFFF}]|[\\u{2600}-\\u{27BF}]|[\\u{2300}-\\u{23FF}]|[\\u{2B50}]|[\\u{203C}-\\u{3299}]/gu, '').trim()\n      }\n      return statusValue\n    },\n    getStatusColor(statusValue) {\n      const status = this.workStatuses.find(s => s.value === statusValue)\n      return status?.color || '#6c757d'\n    },\n    async loadTasks() {\n      try {\n        const response = await this.$http.get('/api/tasks')\n        // ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ó‡∏±‡πâ‡∏á format array ‡∏ï‡∏£‡∏á‡πÜ ‡πÅ‡∏•‡∏∞ format ‡∏ó‡∏µ‡πà‡∏°‡∏µ wrapper\n        this.tasks = response.data.data || response.data || []\n      } catch (error) {\n        this.tasks = []\n        this.$toast.add({\n          severity: 'error',\n          summary: '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î',\n          detail: '‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ',\n          life: 5000\n        })\n      }\n    },\n    formatDate(date) {\n      if (!date) return '-'\n      try {\n        return new Date(date).toLocaleDateString('th-TH', {\n          year: 'numeric',\n          month: 'long',\n          day: 'numeric'\n        })\n      } catch (error) {\n        return date\n      }\n    },\n    showTaskDetails(task) {\n      this.selectedTask = task\n      this.detailDialog = true\n    },\n    hasFiles(task) {\n      return task.files && Array.isArray(task.files) && task.files.length > 0\n    },\n    downloadTaskFiles(task) {\n      if (this.hasFiles(task)) {\n        this.selectedTaskFiles = task.files\n        this.filesDialog = true\n      }\n    },\n    downloadFile(fileName) {\n      // Create download link\n      const link = document.createElement('a')\n      link.href = `/api/files/download/${fileName}`\n      link.download = fileName\n      link.target = '_blank'\n      document.body.appendChild(link)\n      link.click()\n      document.body.removeChild(link)\n    },\n    editTask(task) {\n      this.editFormData = {\n        id: task.id,\n        task_name: task.task_name,\n        so_number: task.so_number || '',\n        contract_number: task.contract_number || '',\n        sale_owner: task.sale_owner || '',\n        description: task.description || '',\n        category: task.category || '‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ',\n        status: task.status || 'pending',\n        existingFiles: [...(task.files || [])],\n        newFiles: []\n      }\n      this.editDialog = true\n    },\n    handleEditFileUpload(event) {\n      const files = Array.from(event.target.files)\n      this.editFormData.newFiles = [...this.editFormData.newFiles, ...files]\n    },\n    removeExistingFile(index) {\n      this.editFormData.existingFiles.splice(index, 1)\n    },\n    removeNewFile(index) {\n      this.editFormData.newFiles.splice(index, 1)\n    },\n    async uploadNewFiles() {\n      if (this.editFormData.newFiles.length === 0) return []\n      \n      const formData = new FormData()\n      this.editFormData.newFiles.forEach(file => {\n        formData.append('files', file)\n      })\n      \n      try {\n        const response = await this.$http.post('/api/files/upload', formData, {\n          headers: { 'Content-Type': 'multipart/form-data' }\n        })\n        return response.data.files || []\n      } catch (error) {\n        return []\n      }\n    },\n    async updateTask() {\n      try {\n        // Upload ‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏´‡∏°‡πà\n        const newUploadedFiles = await this.uploadNewFiles()\n        \n        // ‡∏£‡∏ß‡∏°‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏î‡∏¥‡∏°‡∏Å‡∏±‡∏ö‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏´‡∏°‡πà\n        const allFiles = [...this.editFormData.existingFiles, ...newUploadedFiles]\n        \n        const updateData = {\n          ...this.editFormData,\n          files: allFiles\n        }\n        delete updateData.existingFiles\n        delete updateData.newFiles\n        \n        await this.$http.put(`/api/tasks/${this.editFormData.id}`, updateData)\n        \n        this.$toast.add({\n          severity: 'success',\n          summary: '‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à',\n          detail: '‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏á‡∏≤‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß',\n          life: 3000\n        })\n        \n        this.editDialog = false\n        \n        // Auto-refresh data\n        await this.loadTasks()\n        \n        // Dispatch global event for real-time update\n        window.dispatchEvent(new CustomEvent('taskUpdated'))\n        \n      } catch (error) {\n        this.$toast.add({\n          severity: 'error',\n          summary: '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î',\n          detail: error.response?.data?.error || '‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ',\n          life: 5000\n        })\n      }\n    },\n    handleTaskUpdate() {\n      // Auto-refresh tasks when updated\n      this.loadTasks()\n    },\n    handleCategoriesUpdate() {\n      this.loadCategoriesFromStorage()\n    },\n    handleStatusesUpdate() {\n      this.loadStatusesFromStorage()\n    },\n    async refreshData() {\n      // Method for external refresh calls\n      await this.loadTasks()\n    },\n    async viewTaskWorks(task) {\n      this.selectedTask = task\n      this.taskWorks = []\n      this.loadingWorks = true\n      this.taskWorksDialog = true\n      this.workStatusFilter = null\n      this.workSortBy = 'date_desc'\n      \n      try {\n        const response = await this.$http.get(`/api/daily-work?task_id=${task.id}`)\n        this.taskWorks = response.data || []\n      } catch (error) {\n        this.$toast.add({\n          severity: 'error',\n          summary: '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î',\n          detail: '‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏á‡∏≤‡∏ô‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô‡πÑ‡∏î‡πâ',\n          life: 3000\n        })\n        this.taskWorks = []\n      } finally {\n        this.loadingWorks = false\n      }\n    },\n    formatDateTime(date) {\n      try {\n        return new Date(date).toLocaleString('th-TH', {\n          year: 'numeric',\n          month: 'short',\n          day: 'numeric',\n          hour: '2-digit',\n          minute: '2-digit'\n        })\n      } catch (error) {\n        return date\n      }\n    },\n    getWorkStatusLabel(status) {\n      const statusMap = {\n        'completed': '‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå',\n        'in_progress': '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£',\n        'pending': '‡∏£‡∏≠‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£',\n        'on_hold': '‡∏£‡∏∞‡∏á‡∏±‡∏ö'\n      }\n      return statusMap[status] || status\n    },\n    getWorkStatusSeverity(status) {\n      const severities = {\n        'completed': 'success',\n        'in_progress': 'info',\n        'pending': 'warning',\n        'on_hold': 'secondary'\n      }\n      return severities[status] || 'secondary'\n    },\n    getTotalHours() {\n      if (!this.taskWorks || this.taskWorks.length === 0) return '0.0'\n      const total = this.taskWorks.reduce((sum, work) => sum + (parseFloat(work.total_hours) || 0), 0)\n      return total.toFixed(1)\n    },\n    showWorkFiles(work) {\n      this.selectedWorkFiles = work.files || []\n      this.workFilesDialog = true\n    },\n    downloadWorkFile(fileName) {\n      const link = document.createElement('a')\n      link.href = `/api/files/download/${fileName}`\n      link.download = fileName\n      link.target = '_blank'\n      document.body.appendChild(link)\n      link.click()\n      document.body.removeChild(link)\n    }\n  }\n}\n</script>\n\n<style scoped>\n.history-card {\n  width: 100%;\n  margin: 0;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);\n  border: 1px solid #e9ecef;\n}\n\n.empty-state {\n  text-align: center;\n  padding: 4rem 2rem;\n  color: #6c757d;\n  background: #f8f9fa;\n  border-radius: 8px;\n  margin: 1rem;\n}\n\n.empty-state p {\n  margin-top: 1rem;\n  font-size: 1.1rem;\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n}\n\n.history-table :deep(.p-datatable) {\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n}\n\n.history-table :deep(.p-datatable-thead > tr > th) {\n  background: #f8f9fa;\n  color: #495057;\n  font-weight: 600;\n  border-bottom: 2px solid #e9ecef;\n  padding: 1rem 0.75rem;\n  font-size: 0.9rem;\n}\n\n.history-table :deep(.p-datatable-tbody > tr > td) {\n  padding: 1rem 0.75rem;\n  border-bottom: 1px solid #f1f3f4;\n  vertical-align: middle;\n}\n\n.history-table :deep(.p-datatable-tbody > tr:hover) {\n  background: #f8f9fa;\n}\n\n.history-table :deep(.p-paginator) {\n  background: #f8f9fa;\n  border-top: 2px solid #e9ecef;\n  padding: 1rem;\n}\n\n.custom-id-badge {\n  background: linear-gradient(135deg, #28a745 0%, #20c997 100%);\n  color: white;\n  font-weight: 600;\n  padding: 0.5rem 0.75rem;\n  border-radius: 20px;\n  font-size: 0.8rem;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  min-width: 40px;\n}\n\n.task-name {\n  font-weight: 600;\n  color: #495057;\n}\n\n.so-number {\n  font-size: 0.9rem;\n  color: #6c757d;\n  background: #e3f2fd;\n  padding: 0.2rem 0.5rem;\n  border-radius: 12px;\n  display: inline-block;\n  width: fit-content;\n}\n\n.sale-info {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  color: #495057;\n}\n\n.sale-info i {\n  color: #667eea;\n}\n\n.text-muted {\n  color: #6c757d;\n}\n\n.dialog-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n}\n\n.dialog-content {\n  background: white;\n  border-radius: 8px;\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\n  max-width: 600px;\n  width: 90%;\n  max-height: 80vh;\n  overflow: hidden;\n  animation: dialogSlideIn 0.3s ease-out;\n}\n\n@keyframes dialogSlideIn {\n  from {\n    opacity: 0;\n    transform: scale(0.8) translateY(-20px);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n  }\n}\n\n.dialog-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1.5rem;\n  border-bottom: 1px solid #e9ecef;\n  background: #f8f9fa;\n}\n\n.dialog-header h3 {\n  margin: 0;\n  color: #495057;\n  font-size: 1.25rem;\n}\n\n.dialog-close {\n  background: none;\n  border: none;\n  font-size: 1.5rem;\n  cursor: pointer;\n  color: #6c757d;\n  padding: 0;\n  width: 30px;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  transition: all 0.2s;\n}\n\n.dialog-close:hover {\n  background: #e9ecef;\n  color: #495057;\n}\n\n.dialog-body {\n  padding: 1.5rem;\n}\n\n.work-description {\n  background: #f8f9fa;\n  padding: 1rem;\n  border-radius: 6px;\n  border-left: 4px solid #28a745;\n  white-space: pre-wrap;\n  line-height: 1.6;\n  color: #495057;\n  font-size: 0.95rem;\n}\n\n/* Mobile Responsive */\n.files-list {\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n}\n\n.file-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.75rem;\n  border: 1px solid #e0e0e0;\n  border-radius: 6px;\n  background-color: #f9f9f9;\n}\n\n.file-info {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.file-name {\n  font-weight: 500;\n}\n\n.no-files {\n  text-align: center;\n  padding: 2rem;\n  color: #666;\n}\n\n@media (max-width: 768px) {\n  :deep(.hide-mobile) {\n    display: none !important;\n  }\n  \n  .history-table :deep(.p-datatable-tbody > tr > td) {\n    padding: 0.75rem 0.5rem;\n    font-size: 0.9rem;\n  }\n  \n  .history-table :deep(.p-datatable-thead > tr > th) {\n    padding: 0.75rem 0.5rem;\n    font-size: 0.85rem;\n  }\n  \n  .task-name {\n    font-size: 0.9rem;\n    line-height: 1.2;\n  }\n}\n\n.edit-form {\n  padding: 1rem 0;\n}\n\n.form-grid {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 1rem;\n  margin-bottom: 1.5rem;\n}\n\n.input-group {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n.input-group.full-width {\n  grid-column: 1 / -1;\n}\n\n.input-label {\n  font-weight: 500;\n  color: #333;\n}\n\n.corporate-input, .corporate-dropdown {\n  width: 100%;\n}\n\n.file-upload-section {\n  margin-bottom: 1rem;\n}\n\n.existing-files, .new-files {\n  margin-top: 1rem;\n}\n\n.existing-files h4, .new-files h4 {\n  margin: 0 0 0.5rem 0;\n  font-size: 0.9rem;\n  color: #666;\n}\n\n.file-item {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem;\n  border: 1px solid #e0e0e0;\n  border-radius: 4px;\n  margin-bottom: 0.5rem;\n  background-color: #f9f9f9;\n}\n\n.file-name {\n  flex: 1;\n  font-size: 0.9rem;\n}\n\n.form-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 1rem;\n  padding-top: 1rem;\n  border-top: 1px solid #e0e0e0;\n}\n\n.action-buttons {\n  display: flex;\n  gap: 0.5rem;\n  justify-content: center;\n}\n\n.loading-state,\n.empty-works {\n  text-align: center;\n  padding: 3rem 2rem;\n  color: #6c757d;\n}\n\n.loading-state p,\n.empty-works p {\n  margin-top: 1rem;\n  font-size: 1rem;\n}\n\n.works-container {\n  max-height: 70vh;\n  overflow-y: auto;\n}\n\n.works-summary {\n  display: flex;\n  gap: 2rem;\n  padding: 1rem;\n  background: #f8f9fa;\n  border-radius: 8px;\n  margin-bottom: 1rem;\n}\n\n.works-filters {\n  display: flex;\n  gap: 1rem;\n  padding: 1rem;\n  background: white;\n  border: 1px solid #e9ecef;\n  border-radius: 8px;\n  margin-bottom: 1rem;\n  flex-wrap: wrap;\n}\n\n.filter-group {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.filter-group label {\n  font-size: 0.9rem;\n  font-weight: 500;\n  color: #495057;\n  white-space: nowrap;\n}\n\n.filter-dropdown {\n  min-width: 180px;\n}\n\n.summary-item {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  color: #495057;\n}\n\n.summary-item i {\n  color: #4A90E2;\n  font-size: 1.1rem;\n}\n\n.summary-item strong {\n  color: #4A90E2;\n  font-size: 1.1rem;\n}\n\n.works-table-wrapper {\n  overflow-x: auto;\n  border: 1px solid #e9ecef;\n  border-radius: 8px;\n}\n\n.works-table {\n  width: 100%;\n  border-collapse: collapse;\n  background: white;\n}\n\n.works-table thead {\n  background: #f8f9fa;\n}\n\n.works-table th {\n  padding: 1rem 0.75rem;\n  text-align: left;\n  font-weight: 600;\n  color: #495057;\n  border-bottom: 2px solid #e9ecef;\n  white-space: nowrap;\n}\n\n.works-table td {\n  padding: 0.75rem;\n  border-bottom: 1px solid #f1f3f4;\n  color: #495057;\n}\n\n.works-table tbody tr:hover {\n  background: #f8f9fa;\n}\n\n.works-table .text-center {\n  text-align: center;\n}\n\n.files-list {\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n}\n\n.file-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.75rem;\n  border: 1px solid #e9ecef;\n  border-radius: 6px;\n  background: #f8f9fa;\n}\n\n.file-info {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  flex: 1;\n}\n\n.file-info i {\n  color: #6c757d;\n  font-size: 1rem;\n}\n\n.file-name {\n  font-size: 0.9rem;\n  color: #495057;\n  word-break: break-all;\n}\n\n.description-preview {\n  font-size: 0.9rem;\n  color: #666;\n}\n\n.attachments-info {\n  display: flex;\n  justify-content: center;\n}\n\n.no-files {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #999;\n  font-size: 0.9rem;\n  width: 100%;\n  text-align: center;\n}\n\n.category-badge {\n  white-space: nowrap;\n  overflow: visible;\n  text-overflow: unset;\n  max-width: none;\n  width: auto;\n  background-color: #333 !important;\n  color: white !important;\n}\n\n@media (max-width: 480px) {\n  .history-table :deep(.p-datatable-tbody > tr > td) {\n    padding: 0.5rem 0.25rem;\n    font-size: 0.8rem;\n  }\n  \n  .history-table :deep(.p-datatable-thead > tr > th) {\n    padding: 0.5rem 0.25rem;\n    font-size: 0.8rem;\n  }\n  \n  .custom-id-badge {\n    font-size: 0.7rem;\n    padding: 0.3rem 0.5rem;\n  }\n}\n\n.badge-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  min-height: 40px;\n}\n\n.badge-container :deep(.p-badge) {\n  white-space: normal !important;\n  word-break: keep-all !important;\n  overflow-wrap: break-word !important;\n  text-align: center;\n  font-weight: 600;\n  font-size: 0.9rem;\n  padding: 0.25rem 0.4rem !important;\n  line-height: 1.5 !important;\n  display: inline-block !important;\n  max-width: 100%;\n  height: auto !important;\n}\n\n.category-display,\n.category-option,\n.status-display,\n.status-option {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.category-display .emoji,\n.category-option .emoji,\n.status-display .emoji,\n.status-option .emoji {\n  font-size: 16px;\n}\n\n.category-display i,\n.category-option i,\n.status-display i,\n.status-option i {\n  color: #4A90E2;\n  font-size: 14px;\n}\n\n/* Lock edit dialog position */\n.p-dialog .p-dialog-header {\n  cursor: default !important;\n}\n\n.p-dialog .p-dialog-header .p-dialog-title {\n  cursor: default !important;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}