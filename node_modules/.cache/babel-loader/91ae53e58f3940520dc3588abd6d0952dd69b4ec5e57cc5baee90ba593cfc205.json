{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, unref as _unref, withCtx as _withCtx, isRef as _isRef, normalizeClass as _normalizeClass, createTextVNode as _createTextVNode, withModifiers as _withModifiers, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nimport _imports_0 from '../assets/images/GENT.png';\nconst _hoisted_1 = {\n  class: \"\"\n};\nconst _hoisted_2 = {\n  class: \"row bg-card justify-content-center\"\n};\nconst _hoisted_3 = {\n  class: \"col-11 col-sm-8 col-md-6 col-xl-3 justify-content-center\"\n};\nconst _hoisted_4 = {\n  class: \"card-body-1\"\n};\nconst _hoisted_5 = {\n  class: \"card-body-2\"\n};\nconst _hoisted_6 = {\n  class: \"mt-3 pt-3\"\n};\nconst _hoisted_7 = {\n  class: \"mt-3 pt-3\"\n};\nconst _hoisted_8 = {\n  style: {\n    \"text-align\": \"center\"\n  }\n};\nconst _hoisted_9 = {\n  class: \"mt-3\"\n};\nconst _hoisted_10 = {\n  class: \"dialog-body\"\n};\nconst _hoisted_11 = {\n  class: \"input-wrapper\"\n};\nconst _hoisted_12 = {\n  class: \"dialog-footer\"\n};\nimport { ref, onMounted } from \"vue\";\nimport axios from 'axios';\nimport router from \"@/router\";\nimport InputText from \"primevue/inputtext\";\nimport Password from \"primevue/password\";\nimport InputGroup from 'primevue/inputgroup';\nimport InputGroupAddon from 'primevue/inputgroupaddon';\nimport { useToast } from \"primevue/usetoast\";\nexport default {\n  __name: 'LoginPage',\n  setup(__props) {\n    const toast = useToast();\n    var isUserValid = false;\n    var isPasswordValid = false;\n    var username = ref(\"\");\n    var password = ref(\"\");\n    var showForgotDialog = ref(false);\n    var forgotEmail = ref(\"\");\n    var sendingEmail = ref(false);\n    var isLoggingIn = ref(false);\n    var loginIcon = ref(\"\");\n    var loginStatus = ref(\"\");\n    onMounted(() => {\n      // Don't automatically clear localStorage\n      // Let user manually logout if needed\n    });\n    const showForgotPassword = () => {\n      showForgotDialog.value = true;\n    };\n    const closeForgotDialog = () => {\n      showForgotDialog.value = false;\n      forgotEmail.value = \"\";\n    };\n    const sendPasswordReset = async () => {\n      if (!forgotEmail.value) {\n        toast.add({\n          severity: 'warn',\n          summary: 'ข้อผิดพลาด',\n          detail: 'กรุณากรอกอีเมล',\n          life: 3000\n        });\n        return;\n      }\n      sendingEmail.value = true;\n      try {\n        const response = await axios.post('/api/auth/forgot-password', {\n          email: forgotEmail.value\n        });\n        if (response.data.fallback) {\n          // แสดงข้อมูลเมื่อส่งอีเมลไม่ได้\n          const userData = response.data.userData;\n          toast.add({\n            severity: 'warn',\n            summary: 'ไม่สามารถส่งอีเมลได้',\n            detail: `Username: ${userData.username}\\nรหัสผ่าน: ${userData.password}\\n(ระบบอีเมลขัดข้อง)`,\n            life: 15000\n          });\n        } else {\n          // ส่งอีเมลสำเร็จ\n          toast.add({\n            severity: 'success',\n            summary: 'ส่งอีเมลสำเร็จ',\n            detail: 'ข้อมูลการเข้าสู่ระบบได้ถูกส่งไปยังอีเมลของคุณแล้ว',\n            life: 5000\n          });\n        }\n        closeForgotDialog();\n      } catch (error) {\n        let errorMessage = 'เกิดข้อผิดพลาด';\n        if (error.response?.status === 404) {\n          errorMessage = 'ไม่พบอีเมลในระบบ กรุณาตรวจสอบอีเมลหรือติดต่อผู้ดูแลระบบ';\n        } else {\n          errorMessage = error.response?.data?.error || 'ไม่สามารถส่งข้อมูลได้';\n        }\n        toast.add({\n          severity: 'error',\n          summary: 'เกิดข้อผิดพลาด',\n          detail: errorMessage,\n          life: 5000\n        });\n      } finally {\n        sendingEmail.value = false;\n      }\n    };\n    function handleLogin() {\n      auth(username.value, password.value);\n    }\n    function auth(username, password) {\n      isLoggingIn.value = true;\n      loginIcon.value = \"\";\n      loginStatus.value = \"\";\n      var data = {\n        username: username,\n        password: password\n      };\n\n      // Use proxy instead of direct localhost\n      axios.post('/api/auth/login', data).then(function (response) {\n        // Show success icon\n        loginIcon.value = \"pi pi-check\";\n        loginStatus.value = \"login-success\";\n\n        // Clear old data\n        localStorage.removeItem(\"soc_token\");\n        localStorage.removeItem(\"soc_user\");\n        localStorage.removeItem(\"soc_role\");\n        localStorage.removeItem(\"soc_user_id\");\n        localStorage.removeItem(\"soc_firstname\");\n        localStorage.removeItem(\"soc_lastname\");\n\n        // Store new data\n        localStorage.setItem(\"soc_user\", response.data.username);\n        localStorage.setItem(\"soc_token\", response.data.access_token);\n        localStorage.setItem(\"soc_role\", response.data.role);\n        localStorage.setItem(\"soc_position\", response.data.position);\n        localStorage.setItem(\"soc_firstname\", response.data.firstname);\n        localStorage.setItem(\"soc_lastname\", response.data.lastname);\n        localStorage.setItem(\"soc_user_id\", response.data.user);\n\n        // Navigate after showing success\n        setTimeout(() => {\n          router.push(\"/daily_work\");\n        }, 800);\n      }).catch(function (auth_error) {\n        // Show error icon\n        loginIcon.value = \"pi pi-times\";\n        loginStatus.value = \"login-error\";\n        setTimeout(() => {\n          isLoggingIn.value = false;\n          loginIcon.value = \"\";\n          loginStatus.value = \"\";\n        }, 1500);\n        if (auth_error.message == \"Network Error\") {\n          toast.add({\n            severity: \"error\",\n            summary: \"เกิดข้อผิดพลาด\",\n            detail: \"ไม่สามารถเชื่อมต่อเซิร์ฟเวอร์ได้\",\n            life: 3000\n          });\n        } else if (auth_error.message.includes(\"timeout\")) {\n          toast.add({\n            severity: \"error\",\n            summary: \"เกิดข้อผิดพลาด\",\n            detail: \"หมดเวลาการเชื่อมต่อ\",\n            life: 3000\n          });\n        } else {\n          toast.add({\n            severity: \"error\",\n            summary: \"เข้าสู่ระบบไม่สำเร็จ\",\n            detail: \"ชื่อผู้ใช้หรือรหัสผ่านไม่ถูกต้อง\",\n            life: 3000\n          });\n        }\n      });\n    }\n    return (_ctx, _cache) => {\n      const _component_Toast = _resolveComponent(\"Toast\");\n      const _component_Button = _resolveComponent(\"Button\");\n      const _component_Dialog = _resolveComponent(\"Dialog\");\n      return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_Toast), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_cache[7] || (_cache[7] = _createElementVNode(\"div\", {\n        class: \"text-center mb-3\"\n      }, [_createElementVNode(\"img\", {\n        src: _imports_0,\n        alt: \"GENT Logo\",\n        style: {\n          \"max-width\": \"200px\",\n          \"height\": \"auto\"\n        }\n      })], -1)), _cache[8] || (_cache[8] = _createElementVNode(\"div\", {\n        class: \"\"\n      }, [_createElementVNode(\"h3\", {\n        class: \"text-center text-white\"\n      }, \"GenT Customer Excellency Management\")], -1)), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"form\", {\n        onSubmit: _withModifiers(handleLogin, [\"prevent\"])\n      }, [_createElementVNode(\"div\", _hoisted_6, [_createVNode(_unref(InputGroup), null, {\n        default: _withCtx(() => [_createVNode(_unref(InputGroupAddon), null, {\n          default: _withCtx(() => [...(_cache[4] || (_cache[4] = [_createElementVNode(\"i\", {\n            class: \"pi pi-user\"\n          }, null, -1)]))]),\n          _: 1\n        }), _createVNode(_unref(InputText), {\n          type: \"text\",\n          class: \"w-100\",\n          id: \"username\",\n          modelValue: _unref(username),\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _isRef(username) ? username.value = $event : username = $event),\n          invalid: _unref(isUserValid),\n          placeholder: \"Username\"\n        }, null, 8, [\"modelValue\", \"invalid\"])]),\n        _: 1\n      })]), _createElementVNode(\"div\", _hoisted_7, [_createVNode(_unref(InputGroup), null, {\n        default: _withCtx(() => [_createVNode(_unref(InputGroupAddon), null, {\n          default: _withCtx(() => [...(_cache[5] || (_cache[5] = [_createElementVNode(\"i\", {\n            class: \"pi pi-key\"\n          }, null, -1)]))]),\n          _: 1\n        }), _createVNode(_unref(Password), {\n          modelValue: _unref(password),\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _isRef(password) ? password.value = $event : password = $event),\n          feedback: false,\n          id: \"password\",\n          \"toggle-mask\": \"\",\n          invalid: _unref(isPasswordValid),\n          placeholder: \"Password\",\n          class: \"w-100\"\n        }, null, 8, [\"modelValue\", \"invalid\"])]),\n        _: 1\n      })]), _createElementVNode(\"div\", _hoisted_8, [_createVNode(_component_Button, {\n        type: \"submit\",\n        label: \"เข้าสู่ระบบ\",\n        icon: _unref(loginIcon),\n        loading: _unref(isLoggingIn),\n        class: _normalizeClass([\"login-btn w-100 mt-4\", _unref(loginStatus)])\n      }, null, 8, [\"icon\", \"loading\", \"class\"]), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"a\", {\n        href: \"#\",\n        onClick: _withModifiers(showForgotPassword, [\"prevent\"]),\n        class: \"text-white text-decoration-none\"\n      }, [...(_cache[6] || (_cache[6] = [_createElementVNode(\"i\", {\n        class: \"pi pi-question-circle me-1\"\n      }, null, -1), _createTextVNode(\" ลืมรหัสผ่าน? \", -1)]))])])])], 32)])])])])]), _createVNode(_component_Dialog, {\n        visible: _unref(showForgotDialog),\n        \"onUpdate:visible\": _cache[3] || (_cache[3] = $event => _isRef(showForgotDialog) ? showForgotDialog.value = $event : showForgotDialog = $event),\n        header: \"\",\n        style: {\n          width: '400px',\n          maxWidth: '90vw'\n        },\n        modal: \"\",\n        draggable: false,\n        position: \"center\",\n        class: \"forgot-password-dialog\"\n      }, {\n        header: _withCtx(() => [...(_cache[9] || (_cache[9] = [_createElementVNode(\"div\", {\n          class: \"dialog-header\"\n        }, [_createElementVNode(\"div\", {\n          class: \"header-icon\"\n        }, [_createElementVNode(\"i\", {\n          class: \"pi pi-key\"\n        })]), _createElementVNode(\"h3\", null, \"ลืมรหัสผ่าน\")], -1)]))]),\n        footer: _withCtx(() => [_createElementVNode(\"div\", _hoisted_12, [_createVNode(_component_Button, {\n          label: \"ยกเลิก\",\n          class: \"p-button-outlined p-button-secondary cancel-btn\",\n          onClick: closeForgotDialog\n        }), _createVNode(_component_Button, {\n          label: \"ส่ง\",\n          icon: \"pi pi-send\",\n          class: \"send-btn\",\n          onClick: sendPasswordReset,\n          loading: _unref(sendingEmail),\n          disabled: !_unref(forgotEmail)\n        }, null, 8, [\"loading\", \"disabled\"])])]),\n        default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"div\", _hoisted_11, [_cache[10] || (_cache[10] = _createElementVNode(\"div\", {\n          class: \"input-icon\"\n        }, [_createElementVNode(\"i\", {\n          class: \"pi pi-envelope\"\n        })], -1)), _createVNode(_unref(InputText), {\n          id: \"forgot-email\",\n          modelValue: _unref(forgotEmail),\n          \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => _isRef(forgotEmail) ? forgotEmail.value = $event : forgotEmail = $event),\n          placeholder: \"กรอกอีเมลของคุณ\",\n          class: \"w-full email-input\",\n          type: \"email\"\n        }, null, 8, [\"modelValue\"])]), _cache[11] || (_cache[11] = _createElementVNode(\"div\", {\n          class: \"info-text\"\n        }, [_createElementVNode(\"i\", {\n          class: \"pi pi-info-circle\"\n        }), _createElementVNode(\"span\", null, \"เราจะส่ง Username และ Password ใหม่ไปให้คุณ\")], -1))])]),\n        _: 1\n      }, 8, [\"visible\"])], 64);\n    };\n  }\n};","map":{"version":3,"names":["ref","onMounted","axios","router","InputText","Password","InputGroup","InputGroupAddon","useToast","toast","isUserValid","isPasswordValid","username","password","showForgotDialog","forgotEmail","sendingEmail","isLoggingIn","loginIcon","loginStatus","showForgotPassword","value","closeForgotDialog","sendPasswordReset","add","severity","summary","detail","life","response","post","email","data","fallback","userData","error","errorMessage","status","handleLogin","auth","then","localStorage","removeItem","setItem","access_token","role","position","firstname","lastname","user","setTimeout","push","catch","auth_error","message","includes","_createVNode","_component_Toast","_createElementVNode","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","class","src","_imports_0","alt","style","_hoisted_5","onSubmit","_withModifiers","_hoisted_6","_unref","_cache","type","id","$event","invalid","placeholder","_hoisted_7","feedback","_hoisted_8","_component_Button","label","icon","loading","_normalizeClass","_hoisted_9","href","onClick","_component_Dialog","visible","header","width","maxWidth","modal","draggable","_withCtx","footer","_hoisted_12","disabled","_hoisted_10","_hoisted_11"],"sources":["D:/GEN-T/WEB/GenT-CEM/frontend_cem/src/views/LoginPage.vue","D:\\GEN-T\\WEB\\GenT-CEM\\frontend_cem\\src\\views\\LoginPage.vue"],"sourcesContent":["<template>\r\n  <Toast />\r\n  <div class=\"\">\r\n    <!-- <div class=\"\" style=\"margin-top: calc(20vh)\"> -->\r\n    <div class=\"row bg-card justify-content-center\">\r\n      <div class=\"col-11 col-sm-8 col-md-6 col-xl-3 justify-content-center\">\r\n        <div class=\"card-body-1 \">\r\n          <div class=\"text-center mb-3\">\r\n            <img src=\"../assets/images/GENT.png\" alt=\"GENT Logo\" style=\"max-width: 200px; height: auto;\" />\r\n          </div>\r\n          <div class=\"\">\r\n            <h3 class=\"text-center text-white\">GenT Customer Excellency Management</h3>\r\n          </div>\r\n          <div class=\"card-body-2\">\r\n            <form @submit.prevent=\"handleLogin\">\r\n              <div class=\"mt-3 pt-3\">\r\n                <InputGroup>\r\n                  <InputGroupAddon>\r\n                    <i class=\"pi pi-user\"></i>\r\n                  </InputGroupAddon>\r\n                  <InputText type=\"text\" class=\" w-100\" id=\"username\" v-model=\"username\" :invalid=\"isUserValid\"\r\n                    placeholder=\"Username\" />\r\n                </InputGroup>\r\n              </div>\r\n              <div class=\"mt-3 pt-3\">\r\n                <InputGroup>\r\n                  <InputGroupAddon>\r\n                    <i class=\"pi pi-key\"></i>\r\n                  </InputGroupAddon>\r\n                  <Password v-model=\"password\" :feedback=\"false\" id=\"password\" toggle-mask=\"\" :invalid=\"isPasswordValid\"\r\n                    placeholder=\"Password\" class=\"w-100\" />\r\n                </InputGroup>\r\n              </div>\r\n              <div style=\"text-align: center\">\r\n                <Button type=\"submit\" label=\"เข้าสู่ระบบ\" :icon=\"loginIcon\" :loading=\"isLoggingIn\"\r\n                  class=\"login-btn w-100 mt-4\" :class=\"loginStatus\" />\r\n                <div class=\"mt-3\">\r\n                  <a href=\"#\" @click.prevent=\"showForgotPassword\" class=\"text-white text-decoration-none\">\r\n                    <i class=\"pi pi-question-circle me-1\"></i>\r\n                    ลืมรหัสผ่าน?\r\n                  </a>\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Forgot Password Dialog -->\r\n  <Dialog v-model:visible=\"showForgotDialog\" header=\"\" :style=\"{ width: '400px', maxWidth: '90vw' }\" modal\r\n    :draggable=\"false\" position=\"center\" class=\"forgot-password-dialog\">\r\n    <template #header>\r\n      <div class=\"dialog-header\">\r\n        <div class=\"header-icon\">\r\n          <i class=\"pi pi-key\"></i>\r\n        </div>\r\n        <h3>ลืมรหัสผ่าน</h3>\r\n      </div>\r\n    </template>\r\n\r\n    <div class=\"dialog-body\">\r\n      <div class=\"input-wrapper\">\r\n        <div class=\"input-icon\">\r\n          <i class=\"pi pi-envelope\"></i>\r\n        </div>\r\n        <InputText id=\"forgot-email\" v-model=\"forgotEmail\" placeholder=\"กรอกอีเมลของคุณ\" class=\"w-full email-input\"\r\n          type=\"email\" />\r\n      </div>\r\n      <div class=\"info-text\">\r\n        <i class=\"pi pi-info-circle\"></i>\r\n        <span>เราจะส่ง Username และ Password ใหม่ไปให้คุณ</span>\r\n      </div>\r\n    </div>\r\n\r\n    <template #footer>\r\n      <div class=\"dialog-footer\">\r\n        <Button label=\"ยกเลิก\" class=\"p-button-outlined p-button-secondary cancel-btn\" @click=\"closeForgotDialog\" />\r\n        <Button label=\"ส่ง\" icon=\"pi pi-send\" class=\"send-btn\" @click=\"sendPasswordReset\" :loading=\"sendingEmail\"\r\n          :disabled=\"!forgotEmail\" />\r\n      </div>\r\n    </template>\r\n  </Dialog>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from \"vue\";\r\nimport axios from 'axios';\r\nimport router from \"@/router\";\r\n\r\nimport InputText from \"primevue/inputtext\";\r\nimport Password from \"primevue/password\";\r\nimport InputGroup from 'primevue/inputgroup';\r\nimport InputGroupAddon from 'primevue/inputgroupaddon';\r\n\r\nimport { useToast } from \"primevue/usetoast\";\r\n\r\nconst toast = useToast();\r\n\r\nvar isUserValid = false;\r\nvar isPasswordValid = false;\r\nvar username = ref(\"\");\r\nvar password = ref(\"\");\r\nvar showForgotDialog = ref(false);\r\nvar forgotEmail = ref(\"\");\r\nvar sendingEmail = ref(false);\r\nvar isLoggingIn = ref(false);\r\nvar loginIcon = ref(\"\");\r\nvar loginStatus = ref(\"\");\r\n\r\nonMounted(() => {\r\n  // Don't automatically clear localStorage\r\n  // Let user manually logout if needed\r\n});\r\n\r\nconst showForgotPassword = () => {\r\n  showForgotDialog.value = true;\r\n};\r\n\r\nconst closeForgotDialog = () => {\r\n  showForgotDialog.value = false;\r\n  forgotEmail.value = \"\";\r\n};\r\n\r\nconst sendPasswordReset = async () => {\r\n  if (!forgotEmail.value) {\r\n    toast.add({\r\n      severity: 'warn',\r\n      summary: 'ข้อผิดพลาด',\r\n      detail: 'กรุณากรอกอีเมล',\r\n      life: 3000\r\n    });\r\n    return;\r\n  }\r\n\r\n  sendingEmail.value = true;\r\n\r\n  try {\r\n    const response = await axios.post('/api/auth/forgot-password', {\r\n      email: forgotEmail.value\r\n    });\r\n\r\n    if (response.data.fallback) {\r\n      // แสดงข้อมูลเมื่อส่งอีเมลไม่ได้\r\n      const userData = response.data.userData;\r\n      toast.add({\r\n        severity: 'warn',\r\n        summary: 'ไม่สามารถส่งอีเมลได้',\r\n        detail: `Username: ${userData.username}\\nรหัสผ่าน: ${userData.password}\\n(ระบบอีเมลขัดข้อง)`,\r\n        life: 15000\r\n      });\r\n    } else {\r\n      // ส่งอีเมลสำเร็จ\r\n      toast.add({\r\n        severity: 'success',\r\n        summary: 'ส่งอีเมลสำเร็จ',\r\n        detail: 'ข้อมูลการเข้าสู่ระบบได้ถูกส่งไปยังอีเมลของคุณแล้ว',\r\n        life: 5000\r\n      });\r\n    }\r\n\r\n    closeForgotDialog();\r\n  } catch (error) {\r\n    let errorMessage = 'เกิดข้อผิดพลาด';\r\n\r\n    if (error.response?.status === 404) {\r\n      errorMessage = 'ไม่พบอีเมลในระบบ กรุณาตรวจสอบอีเมลหรือติดต่อผู้ดูแลระบบ';\r\n    } else {\r\n      errorMessage = error.response?.data?.error || 'ไม่สามารถส่งข้อมูลได้';\r\n    }\r\n\r\n    toast.add({\r\n      severity: 'error',\r\n      summary: 'เกิดข้อผิดพลาด',\r\n      detail: errorMessage,\r\n      life: 5000\r\n    });\r\n  } finally {\r\n    sendingEmail.value = false;\r\n  }\r\n};\r\n\r\nfunction handleLogin() {\r\n  auth(username.value, password.value);\r\n}\r\n\r\nfunction auth(username, password) {\r\n  isLoggingIn.value = true;\r\n  loginIcon.value = \"\";\r\n  loginStatus.value = \"\";\r\n\r\n  var data = {\r\n    username: username,\r\n    password: password,\r\n  };\r\n\r\n  // Use proxy instead of direct localhost\r\n  axios\r\n    .post('/api/auth/login', data)\r\n    .then(function (response) {\r\n      // Show success icon\r\n      loginIcon.value = \"pi pi-check\";\r\n      loginStatus.value = \"login-success\";\r\n\r\n      // Clear old data\r\n      localStorage.removeItem(\"soc_token\");\r\n      localStorage.removeItem(\"soc_user\");\r\n      localStorage.removeItem(\"soc_role\");\r\n      localStorage.removeItem(\"soc_user_id\");\r\n      localStorage.removeItem(\"soc_firstname\");\r\n      localStorage.removeItem(\"soc_lastname\");\r\n\r\n      // Store new data\r\n      localStorage.setItem(\"soc_user\", response.data.username);\r\n      localStorage.setItem(\"soc_token\", response.data.access_token);\r\n      localStorage.setItem(\"soc_role\", response.data.role);\r\n      localStorage.setItem(\"soc_position\", response.data.position);\r\n      localStorage.setItem(\"soc_firstname\", response.data.firstname);\r\n      localStorage.setItem(\"soc_lastname\", response.data.lastname);\r\n      localStorage.setItem(\"soc_user_id\", response.data.user);\r\n\r\n      // Navigate after showing success\r\n      setTimeout(() => {\r\n        router.push(\"/daily_work\");\r\n      }, 800);\r\n    })\r\n    .catch(function (auth_error) {\r\n      // Show error icon\r\n      loginIcon.value = \"pi pi-times\";\r\n      loginStatus.value = \"login-error\";\r\n\r\n      setTimeout(() => {\r\n        isLoggingIn.value = false;\r\n        loginIcon.value = \"\";\r\n        loginStatus.value = \"\";\r\n      }, 1500);\r\n\r\n      if (auth_error.message == \"Network Error\") {\r\n        toast.add({\r\n          severity: \"error\",\r\n          summary: \"เกิดข้อผิดพลาด\",\r\n          detail: \"ไม่สามารถเชื่อมต่อเซิร์ฟเวอร์ได้\",\r\n          life: 3000,\r\n        });\r\n      } else if (auth_error.message.includes(\"timeout\")) {\r\n        toast.add({\r\n          severity: \"error\",\r\n          summary: \"เกิดข้อผิดพลาด\",\r\n          detail: \"หมดเวลาการเชื่อมต่อ\",\r\n          life: 3000,\r\n        });\r\n      } else {\r\n        toast.add({\r\n          severity: \"error\",\r\n          summary: \"เข้าสู่ระบบไม่สำเร็จ\",\r\n          detail: \"ชื่อผู้ใช้หรือรหัสผ่านไม่ถูกต้อง\",\r\n          life: 3000,\r\n        });\r\n      }\r\n    });\r\n}\r\n</script>\r\n\r\n<style>\r\nbody {\r\n  width: 100%;\r\n}\r\n\r\n.bg-card {\r\n  background: rgb(0, 212, 255);\r\n  background: linear-gradient(45deg, rgba(0, 212, 255, 1) 0%, rgba(11, 3, 45, 1) 100%);\r\n\r\n  background-image: url('../assets/images/LoginBG.jpg');\r\n  background-size: cover;\r\n  background-position: center;\r\n\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 100vh;\r\n}\r\n\r\n.card-body-1 {\r\n  background-color: rgba(17, 25, 40, 0.25);\r\n  filter: drop-shadow(0 30px 10px rgba(0, 0, 0, 0.125));\r\n  backdrop-filter: blur(16px) saturate(180%);\r\n  -webkit-backdrop-filter: blur(16px) saturate(180%);\r\n  border-radius: 12px;\r\n  padding: 20px;\r\n}\r\n\r\n.card-body-2 {\r\n  background-color: rgba(17, 25, 40, 0.25);\r\n  filter: drop-shadow(0 30px 10px rgba(0, 0, 0, 0.125));\r\n  backdrop-filter: blur(16px) saturate(180%);\r\n  -webkit-backdrop-filter: blur(16px) saturate(180%);\r\n  border-radius: 12px;\r\n  padding: 20px;\r\n}\r\n\r\n/* Forgot Password Dialog Styles */\r\n.forgot-password-dialog {\r\n  width: 400px !important;\r\n  min-width: 280px !important;\r\n  max-width: 90vw !important;\r\n}\r\n\r\n.forgot-password-dialog :deep(.p-dialog) {\r\n  border-radius: 16px !important;\r\n  overflow: hidden !important;\r\n}\r\n\r\n.forgot-password-dialog :deep(.p-dialog-content) {\r\n  border-radius: 0 0 16px 16px !important;\r\n}\r\n\r\n.forgot-password-dialog .p-dialog-header-close {\r\n  right: 8px !important;\r\n  top: 2px !important;\r\n  width: 28px !important;\r\n  height: 28px !important;\r\n  background: white !important;\r\n  border-radius: 50% !important;\r\n  color: #333 !important;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;\r\n}\r\n\r\n.forgot-password-dialog .p-dialog-header-close:hover {\r\n  background: #f8f9fa !important;\r\n  color: #000 !important;\r\n}\r\n\r\n.forgot-password-dialog .p-dialog-content {\r\n  width: 100% !important;\r\n  max-width: 90vw !important;\r\n}\r\n\r\n/* Mobile Responsive */\r\n@media (max-width: 768px) {\r\n  .forgot-password-dialog {\r\n    width: 90vw !important;\r\n    margin: 0 5vw !important;\r\n    max-height: 50vh !important;\r\n  }\r\n\r\n  .dialog-header {\r\n    padding: 10px 15px 8px !important;\r\n  }\r\n\r\n  .header-icon {\r\n    width: 25px !important;\r\n    height: 25px !important;\r\n    margin-right: 8px !important;\r\n  }\r\n\r\n  .header-icon i {\r\n    font-size: 12px !important;\r\n  }\r\n\r\n  .dialog-header h3 {\r\n    font-size: 14px !important;\r\n  }\r\n\r\n  .dialog-body {\r\n    padding: 15px 0 !important;\r\n  }\r\n\r\n  .input-wrapper {\r\n    margin-bottom: 12px !important;\r\n  }\r\n\r\n  .input-icon {\r\n    left: 10px !important;\r\n    font-size: 12px !important;\r\n  }\r\n\r\n  .email-input {\r\n    padding: 10px 12px 10px 35px !important;\r\n    font-size: 13px !important;\r\n  }\r\n\r\n  .info-text {\r\n    padding: 10px 12px !important;\r\n    font-size: 11px !important;\r\n    gap: 6px !important;\r\n  }\r\n\r\n  .info-text i {\r\n    font-size: 12px !important;\r\n  }\r\n\r\n  .dialog-footer {\r\n    padding-top: 15px !important;\r\n    gap: 8px !important;\r\n  }\r\n\r\n  .cancel-btn,\r\n  .send-btn {\r\n    padding: 10px 15px !important;\r\n    font-size: 12px !important;\r\n  }\r\n\r\n  .forgot-password-dialog .p-dialog-header-close {\r\n    width: 24px !important;\r\n    height: 24px !important;\r\n    right: 6px !important;\r\n    top: 2px !important;\r\n  }\r\n}\r\n\r\n.forgot-password-dialog .p-dialog-header {\r\n  padding: 0 !important;\r\n  border-bottom: none !important;\r\n  width: 100% !important;\r\n}\r\n\r\n.dialog-header {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 12px 20px 10px;\r\n  background: linear-gradient(135deg, #4A90E2, #D73527);\r\n  color: white;\r\n  border-radius: 16px;\r\n  margin: -1.5rem -1.5rem 0;\r\n}\r\n\r\n.header-icon {\r\n  width: 28px;\r\n  height: 28px;\r\n  background: rgba(255, 255, 255, 0.2);\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-right: 10px;\r\n}\r\n\r\n.header-icon i {\r\n  font-size: 14px;\r\n  color: white;\r\n}\r\n\r\n.dialog-header h3 {\r\n  margin: 0;\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n}\r\n\r\n.dialog-body {\r\n  padding: 15px 0;\r\n}\r\n\r\n.input-wrapper {\r\n  position: relative;\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.input-icon {\r\n  position: absolute;\r\n  left: 12px;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  color: #4A90E2;\r\n  z-index: 1;\r\n}\r\n\r\n.email-input {\r\n  border: 2px solid #e9ecef !important;\r\n  border-radius: 8px !important;\r\n  padding: 10px 15px 10px 40px !important;\r\n  font-size: 14px !important;\r\n  transition: all 0.3s ease !important;\r\n  background: #f8f9fa !important;\r\n}\r\n\r\n.email-input:focus {\r\n  border-color: #4A90E2 !important;\r\n  box-shadow: 0 0 0 3px rgba(74, 144, 226, 0.1) !important;\r\n  background: white !important;\r\n}\r\n\r\n.info-text {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  padding: 10px 12px;\r\n  background: linear-gradient(135deg, #e3f2fd, #f3e5f5);\r\n  border-radius: 8px;\r\n  border-left: 4px solid #4A90E2;\r\n  font-size: 12px;\r\n  color: #555;\r\n}\r\n\r\n.info-text i {\r\n  color: #4A90E2;\r\n  font-size: 14px;\r\n}\r\n\r\n.email-input:focus {\r\n  border-color: #4A90E2 !important;\r\n  box-shadow: 0 0 0 2px rgba(74, 144, 226, 0.1) !important;\r\n}\r\n\r\n.dialog-footer {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 10px;\r\n  padding-top: 15px;\r\n  border-top: 1px solid #e9ecef;\r\n}\r\n\r\n.cancel-btn {\r\n  padding: 8px 16px !important;\r\n  border-radius: 8px !important;\r\n  font-weight: 500 !important;\r\n  font-size: 13px !important;\r\n  border: 2px solid #e9ecef !important;\r\n  color: #6c757d !important;\r\n  transition: all 0.3s ease !important;\r\n}\r\n\r\n.cancel-btn:hover {\r\n  border-color: #adb5bd !important;\r\n  color: #495057 !important;\r\n}\r\n\r\n.login-btn {\r\n  background: linear-gradient(135deg, #4A90E2, #357ABD) !important;\r\n  border: none !important;\r\n  padding: 12px 24px !important;\r\n  font-size: 16px !important;\r\n  font-weight: 600 !important;\r\n  border-radius: 8px !important;\r\n  transition: all 0.3s ease !important;\r\n}\r\n\r\n.login-btn:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 12px rgba(74, 144, 226, 0.4) !important;\r\n}\r\n\r\n.login-success {\r\n  background: linear-gradient(135deg, #28a745, #20c997) !important;\r\n}\r\n\r\n.login-error {\r\n  background: linear-gradient(135deg, #dc3545, #c82333) !important;\r\n}\r\n\r\n.send-btn {\r\n  background: linear-gradient(135deg, #4A90E2, #D73527) !important;\r\n  border: none !important;\r\n  padding: 8px 20px !important;\r\n  border-radius: 8px !important;\r\n  font-weight: 600 !important;\r\n  font-size: 14px !important;\r\n  box-shadow: 0 4px 12px rgba(74, 144, 226, 0.3) !important;\r\n  transition: all 0.3s ease !important;\r\n}\r\n\r\n.send-btn:hover:not(:disabled) {\r\n  transform: translateY(-1px) !important;\r\n  box-shadow: 0 3px 8px rgba(74, 144, 226, 0.4) !important;\r\n}\r\n\r\n.send-btn:disabled {\r\n  opacity: 0.6 !important;\r\n}\r\n</style>\r\n","<template>\r\n  <Toast />\r\n  <div class=\"\">\r\n    <!-- <div class=\"\" style=\"margin-top: calc(20vh)\"> -->\r\n    <div class=\"row bg-card justify-content-center\">\r\n      <div class=\"col-11 col-sm-8 col-md-6 col-xl-3 justify-content-center\">\r\n        <div class=\"card-body-1 \">\r\n          <div class=\"text-center mb-3\">\r\n            <img src=\"../assets/images/GENT.png\" alt=\"GENT Logo\" style=\"max-width: 200px; height: auto;\" />\r\n          </div>\r\n          <div class=\"\">\r\n            <h3 class=\"text-center text-white\">GenT Customer Excellency Management</h3>\r\n          </div>\r\n          <div class=\"card-body-2\">\r\n            <form @submit.prevent=\"handleLogin\">\r\n              <div class=\"mt-3 pt-3\">\r\n                <InputGroup>\r\n                  <InputGroupAddon>\r\n                    <i class=\"pi pi-user\"></i>\r\n                  </InputGroupAddon>\r\n                  <InputText type=\"text\" class=\" w-100\" id=\"username\" v-model=\"username\" :invalid=\"isUserValid\"\r\n                    placeholder=\"Username\" />\r\n                </InputGroup>\r\n              </div>\r\n              <div class=\"mt-3 pt-3\">\r\n                <InputGroup>\r\n                  <InputGroupAddon>\r\n                    <i class=\"pi pi-key\"></i>\r\n                  </InputGroupAddon>\r\n                  <Password v-model=\"password\" :feedback=\"false\" id=\"password\" toggle-mask=\"\" :invalid=\"isPasswordValid\"\r\n                    placeholder=\"Password\" class=\"w-100\" />\r\n                </InputGroup>\r\n              </div>\r\n              <div style=\"text-align: center\">\r\n                <Button type=\"submit\" label=\"เข้าสู่ระบบ\" :icon=\"loginIcon\" :loading=\"isLoggingIn\"\r\n                  class=\"login-btn w-100 mt-4\" :class=\"loginStatus\" />\r\n                <div class=\"mt-3\">\r\n                  <a href=\"#\" @click.prevent=\"showForgotPassword\" class=\"text-white text-decoration-none\">\r\n                    <i class=\"pi pi-question-circle me-1\"></i>\r\n                    ลืมรหัสผ่าน?\r\n                  </a>\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Forgot Password Dialog -->\r\n  <Dialog v-model:visible=\"showForgotDialog\" header=\"\" :style=\"{ width: '400px', maxWidth: '90vw' }\" modal\r\n    :draggable=\"false\" position=\"center\" class=\"forgot-password-dialog\">\r\n    <template #header>\r\n      <div class=\"dialog-header\">\r\n        <div class=\"header-icon\">\r\n          <i class=\"pi pi-key\"></i>\r\n        </div>\r\n        <h3>ลืมรหัสผ่าน</h3>\r\n      </div>\r\n    </template>\r\n\r\n    <div class=\"dialog-body\">\r\n      <div class=\"input-wrapper\">\r\n        <div class=\"input-icon\">\r\n          <i class=\"pi pi-envelope\"></i>\r\n        </div>\r\n        <InputText id=\"forgot-email\" v-model=\"forgotEmail\" placeholder=\"กรอกอีเมลของคุณ\" class=\"w-full email-input\"\r\n          type=\"email\" />\r\n      </div>\r\n      <div class=\"info-text\">\r\n        <i class=\"pi pi-info-circle\"></i>\r\n        <span>เราจะส่ง Username และ Password ใหม่ไปให้คุณ</span>\r\n      </div>\r\n    </div>\r\n\r\n    <template #footer>\r\n      <div class=\"dialog-footer\">\r\n        <Button label=\"ยกเลิก\" class=\"p-button-outlined p-button-secondary cancel-btn\" @click=\"closeForgotDialog\" />\r\n        <Button label=\"ส่ง\" icon=\"pi pi-send\" class=\"send-btn\" @click=\"sendPasswordReset\" :loading=\"sendingEmail\"\r\n          :disabled=\"!forgotEmail\" />\r\n      </div>\r\n    </template>\r\n  </Dialog>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from \"vue\";\r\nimport axios from 'axios';\r\nimport router from \"@/router\";\r\n\r\nimport InputText from \"primevue/inputtext\";\r\nimport Password from \"primevue/password\";\r\nimport InputGroup from 'primevue/inputgroup';\r\nimport InputGroupAddon from 'primevue/inputgroupaddon';\r\n\r\nimport { useToast } from \"primevue/usetoast\";\r\n\r\nconst toast = useToast();\r\n\r\nvar isUserValid = false;\r\nvar isPasswordValid = false;\r\nvar username = ref(\"\");\r\nvar password = ref(\"\");\r\nvar showForgotDialog = ref(false);\r\nvar forgotEmail = ref(\"\");\r\nvar sendingEmail = ref(false);\r\nvar isLoggingIn = ref(false);\r\nvar loginIcon = ref(\"\");\r\nvar loginStatus = ref(\"\");\r\n\r\nonMounted(() => {\r\n  // Don't automatically clear localStorage\r\n  // Let user manually logout if needed\r\n});\r\n\r\nconst showForgotPassword = () => {\r\n  showForgotDialog.value = true;\r\n};\r\n\r\nconst closeForgotDialog = () => {\r\n  showForgotDialog.value = false;\r\n  forgotEmail.value = \"\";\r\n};\r\n\r\nconst sendPasswordReset = async () => {\r\n  if (!forgotEmail.value) {\r\n    toast.add({\r\n      severity: 'warn',\r\n      summary: 'ข้อผิดพลาด',\r\n      detail: 'กรุณากรอกอีเมล',\r\n      life: 3000\r\n    });\r\n    return;\r\n  }\r\n\r\n  sendingEmail.value = true;\r\n\r\n  try {\r\n    const response = await axios.post('/api/auth/forgot-password', {\r\n      email: forgotEmail.value\r\n    });\r\n\r\n    if (response.data.fallback) {\r\n      // แสดงข้อมูลเมื่อส่งอีเมลไม่ได้\r\n      const userData = response.data.userData;\r\n      toast.add({\r\n        severity: 'warn',\r\n        summary: 'ไม่สามารถส่งอีเมลได้',\r\n        detail: `Username: ${userData.username}\\nรหัสผ่าน: ${userData.password}\\n(ระบบอีเมลขัดข้อง)`,\r\n        life: 15000\r\n      });\r\n    } else {\r\n      // ส่งอีเมลสำเร็จ\r\n      toast.add({\r\n        severity: 'success',\r\n        summary: 'ส่งอีเมลสำเร็จ',\r\n        detail: 'ข้อมูลการเข้าสู่ระบบได้ถูกส่งไปยังอีเมลของคุณแล้ว',\r\n        life: 5000\r\n      });\r\n    }\r\n\r\n    closeForgotDialog();\r\n  } catch (error) {\r\n    let errorMessage = 'เกิดข้อผิดพลาด';\r\n\r\n    if (error.response?.status === 404) {\r\n      errorMessage = 'ไม่พบอีเมลในระบบ กรุณาตรวจสอบอีเมลหรือติดต่อผู้ดูแลระบบ';\r\n    } else {\r\n      errorMessage = error.response?.data?.error || 'ไม่สามารถส่งข้อมูลได้';\r\n    }\r\n\r\n    toast.add({\r\n      severity: 'error',\r\n      summary: 'เกิดข้อผิดพลาด',\r\n      detail: errorMessage,\r\n      life: 5000\r\n    });\r\n  } finally {\r\n    sendingEmail.value = false;\r\n  }\r\n};\r\n\r\nfunction handleLogin() {\r\n  auth(username.value, password.value);\r\n}\r\n\r\nfunction auth(username, password) {\r\n  isLoggingIn.value = true;\r\n  loginIcon.value = \"\";\r\n  loginStatus.value = \"\";\r\n\r\n  var data = {\r\n    username: username,\r\n    password: password,\r\n  };\r\n\r\n  // Use proxy instead of direct localhost\r\n  axios\r\n    .post('/api/auth/login', data)\r\n    .then(function (response) {\r\n      // Show success icon\r\n      loginIcon.value = \"pi pi-check\";\r\n      loginStatus.value = \"login-success\";\r\n\r\n      // Clear old data\r\n      localStorage.removeItem(\"soc_token\");\r\n      localStorage.removeItem(\"soc_user\");\r\n      localStorage.removeItem(\"soc_role\");\r\n      localStorage.removeItem(\"soc_user_id\");\r\n      localStorage.removeItem(\"soc_firstname\");\r\n      localStorage.removeItem(\"soc_lastname\");\r\n\r\n      // Store new data\r\n      localStorage.setItem(\"soc_user\", response.data.username);\r\n      localStorage.setItem(\"soc_token\", response.data.access_token);\r\n      localStorage.setItem(\"soc_role\", response.data.role);\r\n      localStorage.setItem(\"soc_position\", response.data.position);\r\n      localStorage.setItem(\"soc_firstname\", response.data.firstname);\r\n      localStorage.setItem(\"soc_lastname\", response.data.lastname);\r\n      localStorage.setItem(\"soc_user_id\", response.data.user);\r\n\r\n      // Navigate after showing success\r\n      setTimeout(() => {\r\n        router.push(\"/daily_work\");\r\n      }, 800);\r\n    })\r\n    .catch(function (auth_error) {\r\n      // Show error icon\r\n      loginIcon.value = \"pi pi-times\";\r\n      loginStatus.value = \"login-error\";\r\n\r\n      setTimeout(() => {\r\n        isLoggingIn.value = false;\r\n        loginIcon.value = \"\";\r\n        loginStatus.value = \"\";\r\n      }, 1500);\r\n\r\n      if (auth_error.message == \"Network Error\") {\r\n        toast.add({\r\n          severity: \"error\",\r\n          summary: \"เกิดข้อผิดพลาด\",\r\n          detail: \"ไม่สามารถเชื่อมต่อเซิร์ฟเวอร์ได้\",\r\n          life: 3000,\r\n        });\r\n      } else if (auth_error.message.includes(\"timeout\")) {\r\n        toast.add({\r\n          severity: \"error\",\r\n          summary: \"เกิดข้อผิดพลาด\",\r\n          detail: \"หมดเวลาการเชื่อมต่อ\",\r\n          life: 3000,\r\n        });\r\n      } else {\r\n        toast.add({\r\n          severity: \"error\",\r\n          summary: \"เข้าสู่ระบบไม่สำเร็จ\",\r\n          detail: \"ชื่อผู้ใช้หรือรหัสผ่านไม่ถูกต้อง\",\r\n          life: 3000,\r\n        });\r\n      }\r\n    });\r\n}\r\n</script>\r\n\r\n<style>\r\nbody {\r\n  width: 100%;\r\n}\r\n\r\n.bg-card {\r\n  background: rgb(0, 212, 255);\r\n  background: linear-gradient(45deg, rgba(0, 212, 255, 1) 0%, rgba(11, 3, 45, 1) 100%);\r\n\r\n  background-image: url('../assets/images/LoginBG.jpg');\r\n  background-size: cover;\r\n  background-position: center;\r\n\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 100vh;\r\n}\r\n\r\n.card-body-1 {\r\n  background-color: rgba(17, 25, 40, 0.25);\r\n  filter: drop-shadow(0 30px 10px rgba(0, 0, 0, 0.125));\r\n  backdrop-filter: blur(16px) saturate(180%);\r\n  -webkit-backdrop-filter: blur(16px) saturate(180%);\r\n  border-radius: 12px;\r\n  padding: 20px;\r\n}\r\n\r\n.card-body-2 {\r\n  background-color: rgba(17, 25, 40, 0.25);\r\n  filter: drop-shadow(0 30px 10px rgba(0, 0, 0, 0.125));\r\n  backdrop-filter: blur(16px) saturate(180%);\r\n  -webkit-backdrop-filter: blur(16px) saturate(180%);\r\n  border-radius: 12px;\r\n  padding: 20px;\r\n}\r\n\r\n/* Forgot Password Dialog Styles */\r\n.forgot-password-dialog {\r\n  width: 400px !important;\r\n  min-width: 280px !important;\r\n  max-width: 90vw !important;\r\n}\r\n\r\n.forgot-password-dialog :deep(.p-dialog) {\r\n  border-radius: 16px !important;\r\n  overflow: hidden !important;\r\n}\r\n\r\n.forgot-password-dialog :deep(.p-dialog-content) {\r\n  border-radius: 0 0 16px 16px !important;\r\n}\r\n\r\n.forgot-password-dialog .p-dialog-header-close {\r\n  right: 8px !important;\r\n  top: 2px !important;\r\n  width: 28px !important;\r\n  height: 28px !important;\r\n  background: white !important;\r\n  border-radius: 50% !important;\r\n  color: #333 !important;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;\r\n}\r\n\r\n.forgot-password-dialog .p-dialog-header-close:hover {\r\n  background: #f8f9fa !important;\r\n  color: #000 !important;\r\n}\r\n\r\n.forgot-password-dialog .p-dialog-content {\r\n  width: 100% !important;\r\n  max-width: 90vw !important;\r\n}\r\n\r\n/* Mobile Responsive */\r\n@media (max-width: 768px) {\r\n  .forgot-password-dialog {\r\n    width: 90vw !important;\r\n    margin: 0 5vw !important;\r\n    max-height: 50vh !important;\r\n  }\r\n\r\n  .dialog-header {\r\n    padding: 10px 15px 8px !important;\r\n  }\r\n\r\n  .header-icon {\r\n    width: 25px !important;\r\n    height: 25px !important;\r\n    margin-right: 8px !important;\r\n  }\r\n\r\n  .header-icon i {\r\n    font-size: 12px !important;\r\n  }\r\n\r\n  .dialog-header h3 {\r\n    font-size: 14px !important;\r\n  }\r\n\r\n  .dialog-body {\r\n    padding: 15px 0 !important;\r\n  }\r\n\r\n  .input-wrapper {\r\n    margin-bottom: 12px !important;\r\n  }\r\n\r\n  .input-icon {\r\n    left: 10px !important;\r\n    font-size: 12px !important;\r\n  }\r\n\r\n  .email-input {\r\n    padding: 10px 12px 10px 35px !important;\r\n    font-size: 13px !important;\r\n  }\r\n\r\n  .info-text {\r\n    padding: 10px 12px !important;\r\n    font-size: 11px !important;\r\n    gap: 6px !important;\r\n  }\r\n\r\n  .info-text i {\r\n    font-size: 12px !important;\r\n  }\r\n\r\n  .dialog-footer {\r\n    padding-top: 15px !important;\r\n    gap: 8px !important;\r\n  }\r\n\r\n  .cancel-btn,\r\n  .send-btn {\r\n    padding: 10px 15px !important;\r\n    font-size: 12px !important;\r\n  }\r\n\r\n  .forgot-password-dialog .p-dialog-header-close {\r\n    width: 24px !important;\r\n    height: 24px !important;\r\n    right: 6px !important;\r\n    top: 2px !important;\r\n  }\r\n}\r\n\r\n.forgot-password-dialog .p-dialog-header {\r\n  padding: 0 !important;\r\n  border-bottom: none !important;\r\n  width: 100% !important;\r\n}\r\n\r\n.dialog-header {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 12px 20px 10px;\r\n  background: linear-gradient(135deg, #4A90E2, #D73527);\r\n  color: white;\r\n  border-radius: 16px;\r\n  margin: -1.5rem -1.5rem 0;\r\n}\r\n\r\n.header-icon {\r\n  width: 28px;\r\n  height: 28px;\r\n  background: rgba(255, 255, 255, 0.2);\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-right: 10px;\r\n}\r\n\r\n.header-icon i {\r\n  font-size: 14px;\r\n  color: white;\r\n}\r\n\r\n.dialog-header h3 {\r\n  margin: 0;\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n}\r\n\r\n.dialog-body {\r\n  padding: 15px 0;\r\n}\r\n\r\n.input-wrapper {\r\n  position: relative;\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.input-icon {\r\n  position: absolute;\r\n  left: 12px;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  color: #4A90E2;\r\n  z-index: 1;\r\n}\r\n\r\n.email-input {\r\n  border: 2px solid #e9ecef !important;\r\n  border-radius: 8px !important;\r\n  padding: 10px 15px 10px 40px !important;\r\n  font-size: 14px !important;\r\n  transition: all 0.3s ease !important;\r\n  background: #f8f9fa !important;\r\n}\r\n\r\n.email-input:focus {\r\n  border-color: #4A90E2 !important;\r\n  box-shadow: 0 0 0 3px rgba(74, 144, 226, 0.1) !important;\r\n  background: white !important;\r\n}\r\n\r\n.info-text {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  padding: 10px 12px;\r\n  background: linear-gradient(135deg, #e3f2fd, #f3e5f5);\r\n  border-radius: 8px;\r\n  border-left: 4px solid #4A90E2;\r\n  font-size: 12px;\r\n  color: #555;\r\n}\r\n\r\n.info-text i {\r\n  color: #4A90E2;\r\n  font-size: 14px;\r\n}\r\n\r\n.email-input:focus {\r\n  border-color: #4A90E2 !important;\r\n  box-shadow: 0 0 0 2px rgba(74, 144, 226, 0.1) !important;\r\n}\r\n\r\n.dialog-footer {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 10px;\r\n  padding-top: 15px;\r\n  border-top: 1px solid #e9ecef;\r\n}\r\n\r\n.cancel-btn {\r\n  padding: 8px 16px !important;\r\n  border-radius: 8px !important;\r\n  font-weight: 500 !important;\r\n  font-size: 13px !important;\r\n  border: 2px solid #e9ecef !important;\r\n  color: #6c757d !important;\r\n  transition: all 0.3s ease !important;\r\n}\r\n\r\n.cancel-btn:hover {\r\n  border-color: #adb5bd !important;\r\n  color: #495057 !important;\r\n}\r\n\r\n.login-btn {\r\n  background: linear-gradient(135deg, #4A90E2, #357ABD) !important;\r\n  border: none !important;\r\n  padding: 12px 24px !important;\r\n  font-size: 16px !important;\r\n  font-weight: 600 !important;\r\n  border-radius: 8px !important;\r\n  transition: all 0.3s ease !important;\r\n}\r\n\r\n.login-btn:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 12px rgba(74, 144, 226, 0.4) !important;\r\n}\r\n\r\n.login-success {\r\n  background: linear-gradient(135deg, #28a745, #20c997) !important;\r\n}\r\n\r\n.login-error {\r\n  background: linear-gradient(135deg, #dc3545, #c82333) !important;\r\n}\r\n\r\n.send-btn {\r\n  background: linear-gradient(135deg, #4A90E2, #D73527) !important;\r\n  border: none !important;\r\n  padding: 8px 20px !important;\r\n  border-radius: 8px !important;\r\n  font-weight: 600 !important;\r\n  font-size: 14px !important;\r\n  box-shadow: 0 4px 12px rgba(74, 144, 226, 0.3) !important;\r\n  transition: all 0.3s ease !important;\r\n}\r\n\r\n.send-btn:hover:not(:disabled) {\r\n  transform: translateY(-1px) !important;\r\n  box-shadow: 0 3px 8px rgba(74, 144, 226, 0.4) !important;\r\n}\r\n\r\n.send-btn:disabled {\r\n  opacity: 0.6 !important;\r\n}\r\n</style>\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuFA,SAASA,GAAG,EAAEC,SAAS,QAAQ,KAAK;AACpC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,UAAU;AAE7B,OAAOC,SAAS,MAAM,oBAAoB;AAC1C,OAAOC,QAAQ,MAAM,mBAAmB;AACxC,OAAOC,UAAU,MAAM,qBAAqB;AAC5C,OAAOC,eAAe,MAAM,0BAA0B;AAEtD,SAASC,QAAQ,QAAQ,mBAAmB;;;;IAE5C,MAAMC,KAAK,GAAGD,QAAQ,CAAC,CAAC;IAExB,IAAIE,WAAW,GAAG,KAAK;IACvB,IAAIC,eAAe,GAAG,KAAK;IAC3B,IAAIC,QAAQ,GAAGZ,GAAG,CAAC,EAAE,CAAC;IACtB,IAAIa,QAAQ,GAAGb,GAAG,CAAC,EAAE,CAAC;IACtB,IAAIc,gBAAgB,GAAGd,GAAG,CAAC,KAAK,CAAC;IACjC,IAAIe,WAAW,GAAGf,GAAG,CAAC,EAAE,CAAC;IACzB,IAAIgB,YAAY,GAAGhB,GAAG,CAAC,KAAK,CAAC;IAC7B,IAAIiB,WAAW,GAAGjB,GAAG,CAAC,KAAK,CAAC;IAC5B,IAAIkB,SAAS,GAAGlB,GAAG,CAAC,EAAE,CAAC;IACvB,IAAImB,WAAW,GAAGnB,GAAG,CAAC,EAAE,CAAC;IAEzBC,SAAS,CAAC,MAAM;MACd;MACA;IAAA,CACD,CAAC;IAEF,MAAMmB,kBAAkB,GAAGA,CAAA,KAAM;MAC/BN,gBAAgB,CAACO,KAAK,GAAG,IAAI;IAC/B,CAAC;IAED,MAAMC,iBAAiB,GAAGA,CAAA,KAAM;MAC9BR,gBAAgB,CAACO,KAAK,GAAG,KAAK;MAC9BN,WAAW,CAACM,KAAK,GAAG,EAAE;IACxB,CAAC;IAED,MAAME,iBAAiB,GAAG,MAAAA,CAAA,KAAY;MACpC,IAAI,CAACR,WAAW,CAACM,KAAK,EAAE;QACtBZ,KAAK,CAACe,GAAG,CAAC;UACRC,QAAQ,EAAE,MAAM;UAChBC,OAAO,EAAE,YAAY;UACrBC,MAAM,EAAE,gBAAgB;UACxBC,IAAI,EAAE;QACR,CAAC,CAAC;QACF;MACF;MAEAZ,YAAY,CAACK,KAAK,GAAG,IAAI;MAEzB,IAAI;QACF,MAAMQ,QAAQ,GAAG,MAAM3B,KAAK,CAAC4B,IAAI,CAAC,2BAA2B,EAAE;UAC7DC,KAAK,EAAEhB,WAAW,CAACM;QACrB,CAAC,CAAC;QAEF,IAAIQ,QAAQ,CAACG,IAAI,CAACC,QAAQ,EAAE;UAC1B;UACA,MAAMC,QAAQ,GAAGL,QAAQ,CAACG,IAAI,CAACE,QAAQ;UACvCzB,KAAK,CAACe,GAAG,CAAC;YACRC,QAAQ,EAAE,MAAM;YAChBC,OAAO,EAAE,sBAAsB;YAC/BC,MAAM,EAAE,aAAaO,QAAQ,CAACtB,QAAQ,eAAesB,QAAQ,CAACrB,QAAQ,sBAAsB;YAC5Fe,IAAI,EAAE;UACR,CAAC,CAAC;QACJ,CAAC,MAAM;UACL;UACAnB,KAAK,CAACe,GAAG,CAAC;YACRC,QAAQ,EAAE,SAAS;YACnBC,OAAO,EAAE,gBAAgB;YACzBC,MAAM,EAAE,mDAAmD;YAC3DC,IAAI,EAAE;UACR,CAAC,CAAC;QACJ;QAEAN,iBAAiB,CAAC,CAAC;MACrB,CAAC,CAAC,OAAOa,KAAK,EAAE;QACd,IAAIC,YAAY,GAAG,gBAAgB;QAEnC,IAAID,KAAK,CAACN,QAAQ,EAAEQ,MAAM,KAAK,GAAG,EAAE;UAClCD,YAAY,GAAG,yDAAyD;QAC1E,CAAC,MAAM;UACLA,YAAY,GAAGD,KAAK,CAACN,QAAQ,EAAEG,IAAI,EAAEG,KAAK,IAAI,uBAAuB;QACvE;QAEA1B,KAAK,CAACe,GAAG,CAAC;UACRC,QAAQ,EAAE,OAAO;UACjBC,OAAO,EAAE,gBAAgB;UACzBC,MAAM,EAAES,YAAY;UACpBR,IAAI,EAAE;QACR,CAAC,CAAC;MACJ,CAAC,SAAS;QACRZ,YAAY,CAACK,KAAK,GAAG,KAAK;MAC5B;IACF,CAAC;IAED,SAASiB,WAAWA,CAAA,EAAG;MACrBC,IAAI,CAAC3B,QAAQ,CAACS,KAAK,EAAER,QAAQ,CAACQ,KAAK,CAAC;IACtC;IAEA,SAASkB,IAAIA,CAAC3B,QAAQ,EAAEC,QAAQ,EAAE;MAChCI,WAAW,CAACI,KAAK,GAAG,IAAI;MACxBH,SAAS,CAACG,KAAK,GAAG,EAAE;MACpBF,WAAW,CAACE,KAAK,GAAG,EAAE;MAEtB,IAAIW,IAAI,GAAG;QACTpB,QAAQ,EAAEA,QAAQ;QAClBC,QAAQ,EAAEA;MACZ,CAAC;;MAED;MACAX,KAAK,CACF4B,IAAI,CAAC,iBAAiB,EAAEE,IAAI,CAAC,CAC7BQ,IAAI,CAAC,UAAUX,QAAQ,EAAE;QACxB;QACAX,SAAS,CAACG,KAAK,GAAG,aAAa;QAC/BF,WAAW,CAACE,KAAK,GAAG,eAAe;;QAEnC;QACAoB,YAAY,CAACC,UAAU,CAAC,WAAW,CAAC;QACpCD,YAAY,CAACC,UAAU,CAAC,UAAU,CAAC;QACnCD,YAAY,CAACC,UAAU,CAAC,UAAU,CAAC;QACnCD,YAAY,CAACC,UAAU,CAAC,aAAa,CAAC;QACtCD,YAAY,CAACC,UAAU,CAAC,eAAe,CAAC;QACxCD,YAAY,CAACC,UAAU,CAAC,cAAc,CAAC;;QAEvC;QACAD,YAAY,CAACE,OAAO,CAAC,UAAU,EAAEd,QAAQ,CAACG,IAAI,CAACpB,QAAQ,CAAC;QACxD6B,YAAY,CAACE,OAAO,CAAC,WAAW,EAAEd,QAAQ,CAACG,IAAI,CAACY,YAAY,CAAC;QAC7DH,YAAY,CAACE,OAAO,CAAC,UAAU,EAAEd,QAAQ,CAACG,IAAI,CAACa,IAAI,CAAC;QACpDJ,YAAY,CAACE,OAAO,CAAC,cAAc,EAAEd,QAAQ,CAACG,IAAI,CAACc,QAAQ,CAAC;QAC5DL,YAAY,CAACE,OAAO,CAAC,eAAe,EAAEd,QAAQ,CAACG,IAAI,CAACe,SAAS,CAAC;QAC9DN,YAAY,CAACE,OAAO,CAAC,cAAc,EAAEd,QAAQ,CAACG,IAAI,CAACgB,QAAQ,CAAC;QAC5DP,YAAY,CAACE,OAAO,CAAC,aAAa,EAAEd,QAAQ,CAACG,IAAI,CAACiB,IAAI,CAAC;;QAEvD;QACAC,UAAU,CAAC,MAAM;UACf/C,MAAM,CAACgD,IAAI,CAAC,aAAa,CAAC;QAC5B,CAAC,EAAE,GAAG,CAAC;MACT,CAAC,CAAC,CACDC,KAAK,CAAC,UAAUC,UAAU,EAAE;QAC3B;QACAnC,SAAS,CAACG,KAAK,GAAG,aAAa;QAC/BF,WAAW,CAACE,KAAK,GAAG,aAAa;QAEjC6B,UAAU,CAAC,MAAM;UACfjC,WAAW,CAACI,KAAK,GAAG,KAAK;UACzBH,SAAS,CAACG,KAAK,GAAG,EAAE;UACpBF,WAAW,CAACE,KAAK,GAAG,EAAE;QACxB,CAAC,EAAE,IAAI,CAAC;QAER,IAAIgC,UAAU,CAACC,OAAO,IAAI,eAAe,EAAE;UACzC7C,KAAK,CAACe,GAAG,CAAC;YACRC,QAAQ,EAAE,OAAO;YACjBC,OAAO,EAAE,gBAAgB;YACzBC,MAAM,EAAE,kCAAkC;YAC1CC,IAAI,EAAE;UACR,CAAC,CAAC;QACJ,CAAC,MAAM,IAAIyB,UAAU,CAACC,OAAO,CAACC,QAAQ,CAAC,SAAS,CAAC,EAAE;UACjD9C,KAAK,CAACe,GAAG,CAAC;YACRC,QAAQ,EAAE,OAAO;YACjBC,OAAO,EAAE,gBAAgB;YACzBC,MAAM,EAAE,qBAAqB;YAC7BC,IAAI,EAAE;UACR,CAAC,CAAC;QACJ,CAAC,MAAM;UACLnB,KAAK,CAACe,GAAG,CAAC;YACRC,QAAQ,EAAE,OAAO;YACjBC,OAAO,EAAE,sBAAsB;YAC/BC,MAAM,EAAE,kCAAkC;YAC1CC,IAAI,EAAE;UACR,CAAC,CAAC;QACJ;MACF,CAAC,CAAC;IACN;;;;;iECpQE4B,YAAA,CAASC,gBAAA,GACTC,mBAAA,CA8CM,OA9CNC,UA8CM,GA5CJD,mBAAA,CA2CM,OA3CNE,UA2CM,GA1CJF,mBAAA,CAyCM,OAzCNG,UAyCM,GAxCJH,mBAAA,CAuCM,OAvCNI,UAuCM,G,0BAtCJJ,mBAAA,CAEM;QAFDK,KAAK,EAAC;MAAkB,IAC3BL,mBAAA,CAA+F;QAA1FM,GAA+B,EAA/BC,UAA+B;QAACC,GAAG,EAAC,WAAW;QAACC,KAAuC,EAAvC;UAAA;UAAA;QAAA;2CAEvDT,mBAAA,CAEM;QAFDK,KAAK,EAAC;MAAE,IACXL,mBAAA,CAA2E;QAAvEK,KAAK,EAAC;MAAwB,GAAC,qCAAmC,E,QAExEL,mBAAA,CA+BM,OA/BNU,UA+BM,GA9BJV,mBAAA,CA6BO;QA7BAW,QAAM,EAAAC,cAAA,CAAUhC,WAAW;UAChCoB,mBAAA,CAQM,OARNa,UAQM,GAPJf,YAAA,CAMagB,MAAA,CAAAlE,UAAA;0BALX,MAEkB,CAFlBkD,YAAA,CAEkBgB,MAAA,CAAAjE,eAAA;4BADhB,MAA0B,KAAAkE,MAAA,QAAAA,MAAA,OAA1Bf,mBAAA,CAA0B;YAAvBK,KAAK,EAAC;UAAY,a;;YAEvBP,YAAA,CAC2BgB,MAAA,CAAApE,SAAA;UADhBsE,IAAI,EAAC,MAAM;UAACX,KAAK,EAAC,OAAQ;UAACY,EAAE,EAAC,UAAU;sBAAUH,MAAA,CAAA5D,QAAA,CAAQ;wFAARA,QAAQ,CAAAS,KAAA,GAAAuD,MAAA,GAAAhE,QAAA,GAAAgE,MAAA;UAAGC,OAAO,EAAEL,MAAA,CAAA9D,WAAA,CAAW;UAC1FoE,WAAW,EAAC;;;YAGlBpB,mBAAA,CAQM,OARNqB,UAQM,GAPJvB,YAAA,CAMagB,MAAA,CAAAlE,UAAA;0BALX,MAEkB,CAFlBkD,YAAA,CAEkBgB,MAAA,CAAAjE,eAAA;4BADhB,MAAyB,KAAAkE,MAAA,QAAAA,MAAA,OAAzBf,mBAAA,CAAyB;YAAtBK,KAAK,EAAC;UAAW,a;;YAEtBP,YAAA,CACyCgB,MAAA,CAAAnE,QAAA;sBADtBmE,MAAA,CAAA3D,QAAA,CAAQ;wFAARA,QAAQ,CAAAQ,KAAA,GAAAuD,MAAA,GAAA/D,QAAA,GAAA+D,MAAA;UAAGI,QAAQ,EAAE,KAAK;UAAEL,EAAE,EAAC,UAAU;UAAC,aAAW,EAAC,EAAE;UAAEE,OAAO,EAAEL,MAAA,CAAA7D,eAAA,CAAe;UACnGmE,WAAW,EAAC,UAAU;UAACf,KAAK,EAAC;;;YAGnCL,mBAAA,CASM,OATNuB,UASM,GARJzB,YAAA,CACsD0B,iBAAA;QAD9CR,IAAI,EAAC,QAAQ;QAACS,KAAK,EAAC,aAAa;QAAEC,IAAI,EAAEZ,MAAA,CAAAtD,SAAA,CAAS;QAAGmE,OAAO,EAAEb,MAAA,CAAAvD,WAAA,CAAW;QAC/E8C,KAAK,EAAAuB,eAAA,EAAC,sBAAsB,EAASd,MAAA,CAAArD,WAAA,CAAW;iDAClDuC,mBAAA,CAKM,OALN6B,UAKM,GAJJ7B,mBAAA,CAGI;QAHD8B,IAAI,EAAC,GAAG;QAAEC,OAAK,EAAAnB,cAAA,CAAUlD,kBAAkB;QAAE2C,KAAK,EAAC;yCACpDL,mBAAA,CAA0C;QAAvCK,KAAK,EAAC;MAA4B,c,iBAAK,gBAE5C,M,0BAWhBP,YAAA,CAgCSkC,iBAAA;QAhCOC,OAAO,EAAEnB,MAAA,CAAA1D,gBAAA,CAAgB;2FAAhBA,gBAAgB,CAAAO,KAAA,GAAAuD,MAAA,GAAA9D,gBAAA,GAAA8D,MAAA;QAAEgB,MAAM,EAAC,EAAE;QAAEzB,KAAK,EAAE;UAAA0B,KAAA;UAAAC,QAAA;QAAA,CAAoC;QAAEC,KAAK,EAAL,EAAK;QACrGC,SAAS,EAAE,KAAK;QAAElD,QAAQ,EAAC,QAAQ;QAACiB,KAAK,EAAC;;QAChC6B,MAAM,EAAAK,QAAA,CACf,MAKM,KAAAxB,MAAA,QAAAA,MAAA,OALNf,mBAAA,CAKM;UALDK,KAAK,EAAC;QAAe,IACxBL,mBAAA,CAEM;UAFDK,KAAK,EAAC;QAAa,IACtBL,mBAAA,CAAyB;UAAtBK,KAAK,EAAC;QAAW,G,GAEtBL,mBAAA,CAAoB,YAAhB,aAAW,E;QAkBRwC,MAAM,EAAAD,QAAA,CACf,MAIM,CAJNvC,mBAAA,CAIM,OAJNyC,WAIM,GAHJ3C,YAAA,CAA4G0B,iBAAA;UAApGC,KAAK,EAAC,QAAQ;UAACpB,KAAK,EAAC,iDAAiD;UAAE0B,OAAK,EAAEnE;YACvFkC,YAAA,CAC6B0B,iBAAA;UADrBC,KAAK,EAAC,KAAK;UAACC,IAAI,EAAC,YAAY;UAACrB,KAAK,EAAC,UAAU;UAAE0B,OAAK,EAAElE,iBAAiB;UAAG8D,OAAO,EAAEb,MAAA,CAAAxD,YAAA,CAAY;UACrGoF,QAAQ,GAAG5B,MAAA,CAAAzD,WAAA;;0BAlBlB,MAYM,CAZN2C,mBAAA,CAYM,OAZN2C,WAYM,GAXJ3C,mBAAA,CAMM,OANN4C,WAMM,G,4BALJ5C,mBAAA,CAEM;UAFDK,KAAK,EAAC;QAAY,IACrBL,mBAAA,CAA8B;UAA3BK,KAAK,EAAC;QAAgB,G,QAE3BP,YAAA,CACiBgB,MAAA,CAAApE,SAAA;UADNuE,EAAE,EAAC,cAAc;sBAAUH,MAAA,CAAAzD,WAAA,CAAW;2FAAXA,WAAW,CAAAM,KAAA,GAAAuD,MAAA,GAAA7D,WAAA,GAAA6D,MAAA;UAAEE,WAAW,EAAC,iBAAiB;UAACf,KAAK,EAAC,oBAAoB;UACzGW,IAAI,EAAC;mEAEThB,mBAAA,CAGM;UAHDK,KAAK,EAAC;QAAW,IACpBL,mBAAA,CAAiC;UAA9BK,KAAK,EAAC;QAAmB,IAC5BL,mBAAA,CAAwD,cAAlD,6CAA2C,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}