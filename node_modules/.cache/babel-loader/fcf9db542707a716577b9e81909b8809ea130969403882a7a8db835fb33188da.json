{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, withCtx as _withCtx, renderList as _renderList, Fragment as _Fragment, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"form-grid\"\n};\nconst _hoisted_2 = {\n  class: \"input-group\"\n};\nconst _hoisted_3 = {\n  class: \"input-group\"\n};\nconst _hoisted_4 = {\n  class: \"input-group\"\n};\nconst _hoisted_5 = {\n  key: 0,\n  class: \"quota-status\"\n};\nconst _hoisted_6 = {\n  key: 0,\n  class: \"quota-info\"\n};\nconst _hoisted_7 = {\n  class: \"quota-total\"\n};\nconst _hoisted_8 = {\n  key: 1,\n  class: \"quota-placeholder-text\"\n};\nconst _hoisted_9 = {\n  class: \"input-group date-range-group\"\n};\nconst _hoisted_10 = {\n  class: \"date-field\"\n};\nconst _hoisted_11 = {\n  class: \"date-field\"\n};\nconst _hoisted_12 = {\n  class: \"input-group\"\n};\nconst _hoisted_13 = {\n  class: \"input-group full-width\"\n};\nconst _hoisted_14 = {\n  class: \"input-group full-width\"\n};\nconst _hoisted_15 = {\n  class: \"file-upload-wrapper\"\n};\nconst _hoisted_16 = {\n  key: 0,\n  class: \"file-list\"\n};\nconst _hoisted_17 = {\n  class: \"file-name\"\n};\nconst _hoisted_18 = {\n  class: \"input-group\"\n};\nconst _hoisted_19 = {\n  class: \"input-group\"\n};\nconst _hoisted_20 = {\n  class: \"user-option\"\n};\nconst _hoisted_21 = {\n  class: \"user-name\"\n};\nconst _hoisted_22 = {\n  class: \"user-role\"\n};\nconst _hoisted_23 = {\n  class: \"input-group\"\n};\nconst _hoisted_24 = {\n  class: \"input-group\"\n};\nconst _hoisted_25 = {\n  class: \"input-group full-width\"\n};\nconst _hoisted_26 = {\n  class: \"input-group full-width\"\n};\nconst _hoisted_27 = {\n  class: \"form-actions\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Toast = _resolveComponent(\"Toast\");\n  const _component_InputText = _resolveComponent(\"InputText\");\n  const _component_Dropdown = _resolveComponent(\"Dropdown\");\n  const _component_Calendar = _resolveComponent(\"Calendar\");\n  const _component_Textarea = _resolveComponent(\"Textarea\");\n  const _component_Button = _resolveComponent(\"Button\");\n  const _component_AutoComplete = _resolveComponent(\"AutoComplete\");\n  const _component_Divider = _resolveComponent(\"Divider\");\n  const _component_Card = _resolveComponent(\"Card\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(_component_Toast), _createVNode(_component_Card, {\n    class: \"form-card\"\n  }, {\n    content: _withCtx(() => [_createElementVNode(\"form\", {\n      onSubmit: _cache[10] || (_cache[10] = _withModifiers((...args) => $options.submitForm && $options.submitForm(...args), [\"prevent\"])),\n      class: \"leave-form\"\n    }, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[11] || (_cache[11] = _createElementVNode(\"label\", {\n      for: \"name\",\n      class: \"input-label\"\n    }, \"ชื่อ-นามสกุล\", -1 /* CACHED */)), _createVNode(_component_InputText, {\n      id: \"name\",\n      value: $options.currentUserName,\n      readonly: \"\",\n      class: \"corporate-input readonly-field\"\n    }, null, 8 /* PROPS */, [\"value\"])]), _createElementVNode(\"div\", _hoisted_3, [_cache[12] || (_cache[12] = _createElementVNode(\"label\", {\n      for: \"position\",\n      class: \"input-label\"\n    }, \"ตำแหน่ง\", -1 /* CACHED */)), _createVNode(_component_InputText, {\n      id: \"position\",\n      value: $options.currentUserPosition,\n      readonly: \"\",\n      class: \"corporate-input readonly-field\"\n    }, null, 8 /* PROPS */, [\"value\"])]), _createElementVNode(\"div\", _hoisted_4, [_cache[13] || (_cache[13] = _createElementVNode(\"label\", {\n      for: \"leaveType\",\n      class: \"input-label\"\n    }, \"ประเภทการลา *\", -1 /* CACHED */)), _createVNode(_component_Dropdown, {\n      modelValue: $data.formData.leaveType,\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.formData.leaveType = $event),\n      options: $options.leaveTypesWithQuota,\n      optionLabel: \"label\",\n      optionValue: \"value\",\n      optionDisabled: $options.optionDisabled,\n      class: \"corporate-dropdown\",\n      required: \"\",\n      onChange: $options.onLeaveTypeChange\n    }, {\n      option: _withCtx(slotProps => [_createElementVNode(\"div\", {\n        class: _normalizeClass([\"leave-type-option\", {\n          'disabled-option': slotProps.option.disabled\n        }])\n      }, [_createElementVNode(\"span\", null, _toDisplayString(slotProps.option.label), 1 /* TEXT */), slotProps.option.disabled ? (_openBlock(), _createElementBlock(\"span\", _hoisted_5, \"หมดโควต้า\")) : _createCommentVNode(\"v-if\", true)], 2 /* CLASS */)]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"modelValue\", \"options\", \"optionDisabled\", \"onChange\"])]), _createCommentVNode(\" Quota Display \"), _createElementVNode(\"div\", {\n      class: _normalizeClass([\"quota-display\", {\n        'quota-placeholder': !$data.selectedQuota\n      }])\n    }, [$data.selectedQuota ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [_cache[14] || (_cache[14] = _createElementVNode(\"span\", {\n      class: \"quota-label\"\n    }, \"โควต้าคงเหลือ:\", -1 /* CACHED */)), _createElementVNode(\"span\", {\n      class: _normalizeClass([\"quota-value\", $options.getQuotaClass($data.selectedQuota.remainingDays)])\n    }, _toDisplayString($data.selectedQuota.remainingDays) + \" วัน \", 3 /* TEXT, CLASS */), _createElementVNode(\"span\", _hoisted_7, \"(จาก \" + _toDisplayString($data.selectedQuota.quota) + \" วัน)\", 1 /* TEXT */)])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_8, \" เลือกประเภทการลาเพื่อดูโควต้า \"))], 2 /* CLASS */), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [_cache[15] || (_cache[15] = _createElementVNode(\"label\", {\n      for: \"startDateTime\",\n      class: \"input-label\"\n    }, \"วันเวลาเริ่มลา *\", -1 /* CACHED */)), _createVNode(_component_Calendar, {\n      modelValue: $data.formData.startDateTime,\n      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.formData.startDateTime = $event),\n      showTime: \"\",\n      hourFormat: \"24\",\n      dateFormat: \"dd/mm/yy\",\n      class: \"corporate-input\",\n      manualInput: true,\n      stepHour: 1,\n      stepMinute: 1,\n      required: \"\"\n    }, null, 8 /* PROPS */, [\"modelValue\"])]), _createElementVNode(\"div\", _hoisted_11, [_cache[16] || (_cache[16] = _createElementVNode(\"label\", {\n      for: \"endDateTime\",\n      class: \"input-label\"\n    }, \"วันเวลาสิ้นสุดการลา *\", -1 /* CACHED */)), _createVNode(_component_Calendar, {\n      modelValue: $data.formData.endDateTime,\n      \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.formData.endDateTime = $event),\n      showTime: \"\",\n      hourFormat: \"24\",\n      dateFormat: \"dd/mm/yy\",\n      minDate: $data.formData.startDateTime,\n      class: \"corporate-input\",\n      manualInput: true,\n      stepHour: 1,\n      stepMinute: 1,\n      required: \"\"\n    }, null, 8 /* PROPS */, [\"modelValue\", \"minDate\"])])]), _createElementVNode(\"div\", _hoisted_12, [_cache[17] || (_cache[17] = _createElementVNode(\"label\", {\n      for: \"totalDays\",\n      class: \"input-label\"\n    }, \"จำนวนวันลา\", -1 /* CACHED */)), _createVNode(_component_InputText, {\n      id: \"totalDays\",\n      value: $options.calculateDays,\n      readonly: \"\",\n      class: \"corporate-input readonly-field\"\n    }, null, 8 /* PROPS */, [\"value\"])]), _createElementVNode(\"div\", _hoisted_13, [_cache[18] || (_cache[18] = _createElementVNode(\"label\", {\n      for: \"reason\",\n      class: \"input-label\"\n    }, \"เหตุผลการลา\", -1 /* CACHED */)), _createVNode(_component_Textarea, {\n      id: \"reason\",\n      modelValue: $data.formData.reason,\n      \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.formData.reason = $event),\n      rows: \"3\",\n      class: \"corporate-input\"\n    }, null, 8 /* PROPS */, [\"modelValue\"])]), _createElementVNode(\"div\", _hoisted_14, [_cache[20] || (_cache[20] = _createElementVNode(\"label\", {\n      class: \"input-label\"\n    }, \"แนบเอกสารประกอบ (Attachments)\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"input\", {\n      ref: \"fileInput\",\n      onChange: _cache[4] || (_cache[4] = (...args) => $options.handleFileUpload && $options.handleFileUpload(...args)),\n      type: \"file\",\n      accept: \".pdf,.doc,.docx,.jpg,.jpeg,.png,.gif\",\n      multiple: \"\",\n      class: \"file-input\",\n      id: \"attachments\"\n    }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), _createVNode(_component_Button, {\n      type: \"button\",\n      label: $data.formData.attachments?.length > 0 ? `เลือกแล้ว ${$data.formData.attachments.length} ไฟล์` : 'เลือกไฟล์',\n      icon: \"pi pi-upload\",\n      severity: \"secondary\",\n      outlined: \"\",\n      onClick: _cache[5] || (_cache[5] = $event => _ctx.$refs.fileInput.click())\n    }, null, 8 /* PROPS */, [\"label\"])]), $data.formData.attachments?.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_16, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.formData.attachments, (file, index) => {\n      return _openBlock(), _createElementBlock(\"div\", {\n        key: index,\n        class: \"file-item\"\n      }, [_cache[19] || (_cache[19] = _createElementVNode(\"i\", {\n        class: \"pi pi-file\"\n      }, null, -1 /* CACHED */)), _createElementVNode(\"span\", _hoisted_17, _toDisplayString(file.name), 1 /* TEXT */), _createVNode(_component_Button, {\n        icon: \"pi pi-times\",\n        severity: \"danger\",\n        text: \"\",\n        size: \"small\",\n        onClick: $event => $options.removeFile(index)\n      }, null, 8 /* PROPS */, [\"onClick\"])]);\n    }), 128 /* KEYED_FRAGMENT */))])) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_18, [_cache[21] || (_cache[21] = _createElementVNode(\"label\", {\n      for: \"delegationOption\",\n      class: \"input-label\"\n    }, \"มอบหมายงานระหว่างลา *\", -1 /* CACHED */)), _createVNode(_component_Dropdown, {\n      modelValue: $data.formData.delegationOption,\n      \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.formData.delegationOption = $event),\n      options: $data.delegationOptions,\n      optionLabel: \"label\",\n      optionValue: \"value\",\n      class: \"corporate-dropdown\",\n      required: \"\"\n    }, null, 8 /* PROPS */, [\"modelValue\", \"options\"])]), $data.formData.delegationOption === 'yes' ? (_openBlock(), _createElementBlock(_Fragment, {\n      key: 0\n    }, [_createElementVNode(\"div\", _hoisted_19, [_cache[22] || (_cache[22] = _createElementVNode(\"label\", {\n      for: \"delegateUser\",\n      class: \"input-label\"\n    }, \"ชื่อผู้รับผิดชอบงานแทน *\", -1 /* CACHED */)), _createVNode(_component_AutoComplete, {\n      modelValue: $data.selectedDelegate,\n      \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $data.selectedDelegate = $event),\n      suggestions: $data.filteredUsers,\n      onComplete: $options.searchUsers,\n      onItemSelect: $options.onDelegateSelect,\n      onDropdownClick: $options.showAllUsers,\n      optionLabel: \"displayName\",\n      placeholder: \"ค้นหาหรือเลือกพนักงาน...\",\n      class: \"corporate-input\",\n      dropdown: true,\n      forceSelection: true,\n      scrollHeight: 200,\n      required: \"\"\n    }, {\n      option: _withCtx(slotProps => [_createElementVNode(\"div\", _hoisted_20, [_createElementVNode(\"div\", _hoisted_21, _toDisplayString(slotProps.option.displayName), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_22, _toDisplayString(slotProps.option.position) + \" - \" + _toDisplayString(slotProps.option.department), 1 /* TEXT */)])]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"modelValue\", \"suggestions\", \"onComplete\", \"onItemSelect\", \"onDropdownClick\"])]), _createElementVNode(\"div\", _hoisted_23, [_cache[23] || (_cache[23] = _createElementVNode(\"label\", {\n      for: \"delegatePosition\",\n      class: \"input-label\"\n    }, \"ตำแหน่ง\", -1 /* CACHED */)), _createVNode(_component_InputText, {\n      id: \"delegatePosition\",\n      value: $data.formData.delegatePosition,\n      readonly: \"\",\n      class: \"corporate-input readonly-field\"\n    }, null, 8 /* PROPS */, [\"value\"])]), _createElementVNode(\"div\", _hoisted_24, [_cache[24] || (_cache[24] = _createElementVNode(\"label\", {\n      for: \"delegateDepartment\",\n      class: \"input-label\"\n    }, \"แผนก\", -1 /* CACHED */)), _createVNode(_component_InputText, {\n      id: \"delegateDepartment\",\n      value: $data.formData.delegateDepartment,\n      readonly: \"\",\n      class: \"corporate-input readonly-field\"\n    }, null, 8 /* PROPS */, [\"value\"])]), _createElementVNode(\"div\", _hoisted_25, [_cache[25] || (_cache[25] = _createElementVNode(\"label\", {\n      for: \"delegateContact\",\n      class: \"input-label\"\n    }, \"ช่องทางติดต่อผู้รับผิดชอบงานเเทน *\", -1 /* CACHED */)), _createVNode(_component_InputText, {\n      id: \"delegateContact\",\n      modelValue: $data.formData.delegateContact,\n      \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $data.formData.delegateContact = $event),\n      placeholder: \"เบอร์โทร, อีเมล, หรือช่องทางอื่นๆ\",\n      required: \"\",\n      class: \"corporate-input\"\n    }, null, 8 /* PROPS */, [\"modelValue\"])]), _createElementVNode(\"div\", _hoisted_26, [_cache[26] || (_cache[26] = _createElementVNode(\"label\", {\n      for: \"workDetails\",\n      class: \"input-label\"\n    }, \"รายละเอียดงานที่มอบหมาย *\", -1 /* CACHED */)), _createVNode(_component_Textarea, {\n      id: \"workDetails\",\n      modelValue: $data.formData.workDetails,\n      \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => $data.formData.workDetails = $event),\n      rows: \"4\",\n      placeholder: \"ระบุรายละเอียดงานที่ต้องดำเนินการระหว่างลา...\",\n      required: \"\",\n      class: \"corporate-input\"\n    }, null, 8 /* PROPS */, [\"modelValue\"])])], 64 /* STABLE_FRAGMENT */)) : _createCommentVNode(\"v-if\", true)]), _createVNode(_component_Divider), _createElementVNode(\"div\", _hoisted_27, [_createVNode(_component_Button, {\n      type: \"button\",\n      label: \"ล้างข้อมูล\",\n      icon: \"pi pi-refresh\",\n      severity: \"secondary\",\n      outlined: \"\",\n      onClick: $options.resetForm\n    }, null, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_Button, {\n      type: \"submit\",\n      label: \"ส่งคำขอลางาน\",\n      icon: \"pi pi-check\",\n      severity: \"success\"\n    })])], 32 /* NEED_HYDRATION */)]),\n    _: 1 /* STABLE */\n  })]);\n}","map":{"version":3,"names":["class","_createElementBlock","_createVNode","_component_Toast","_component_Card","content","_withCtx","_createElementVNode","onSubmit","_cache","_withModifiers","args","$options","submitForm","_hoisted_1","_hoisted_2","for","_component_InputText","id","value","currentUserName","readonly","_hoisted_3","currentUserPosition","_hoisted_4","_component_Dropdown","$data","formData","leaveType","$event","options","leaveTypesWithQuota","optionLabel","optionValue","optionDisabled","required","onChange","onLeaveTypeChange","option","slotProps","_normalizeClass","disabled","_toDisplayString","label","_hoisted_5","_createCommentVNode","selectedQuota","_hoisted_6","getQuotaClass","remainingDays","_hoisted_7","quota","_hoisted_8","_hoisted_9","_hoisted_10","_component_Calendar","startDateTime","showTime","hourFormat","dateFormat","manualInput","stepHour","stepMinute","_hoisted_11","endDateTime","minDate","_hoisted_12","calculateDays","_hoisted_13","_component_Textarea","reason","rows","_hoisted_14","_hoisted_15","ref","handleFileUpload","type","accept","multiple","_component_Button","attachments","length","icon","severity","outlined","onClick","_ctx","$refs","fileInput","click","_hoisted_16","_Fragment","_renderList","file","index","key","_hoisted_17","name","text","size","removeFile","_hoisted_18","delegationOption","delegationOptions","_hoisted_19","_component_AutoComplete","selectedDelegate","suggestions","filteredUsers","onComplete","searchUsers","onItemSelect","onDelegateSelect","onDropdownClick","showAllUsers","placeholder","dropdown","forceSelection","scrollHeight","_hoisted_20","_hoisted_21","displayName","_hoisted_22","position","department","_hoisted_23","delegatePosition","_hoisted_24","delegateDepartment","_hoisted_25","delegateContact","_hoisted_26","workDetails","_component_Divider","_hoisted_27","resetForm"],"sources":["D:\\frontend_cem\\src\\views\\leave_work\\LeaveForm.vue"],"sourcesContent":["<template>\n  <div>\n    <Toast />\n    <Card class=\"form-card\">\n    <template #content>\n      <form @submit.prevent=\"submitForm\" class=\"leave-form\">\n        <div class=\"form-grid\">\n          <div class=\"input-group\">\n            <label for=\"name\" class=\"input-label\">ชื่อ-นามสกุล</label>\n            <InputText id=\"name\" :value=\"currentUserName\" readonly class=\"corporate-input readonly-field\" />\n          </div>\n\n          <div class=\"input-group\">\n            <label for=\"position\" class=\"input-label\">ตำแหน่ง</label>\n            <InputText id=\"position\" :value=\"currentUserPosition\" readonly class=\"corporate-input readonly-field\" />\n          </div>\n\n          <div class=\"input-group\">\n            <label for=\"leaveType\" class=\"input-label\">ประเภทการลา *</label>\n            <Dropdown v-model=\"formData.leaveType\" :options=\"leaveTypesWithQuota\" optionLabel=\"label\" optionValue=\"value\"\n              :optionDisabled=\"optionDisabled\" class=\"corporate-dropdown\" required @change=\"onLeaveTypeChange\">\n              <template #option=\"slotProps\">\n                <div class=\"leave-type-option\" :class=\"{ 'disabled-option': slotProps.option.disabled }\">\n                  <span>{{ slotProps.option.label }}</span>\n                  <span v-if=\"slotProps.option.disabled\" class=\"quota-status\">หมดโควต้า</span>\n                </div>\n              </template>\n            </Dropdown>\n          </div>\n\n          <!-- Quota Display -->\n          <div class=\"quota-display\" :class=\"{ 'quota-placeholder': !selectedQuota }\">\n            <div v-if=\"selectedQuota\" class=\"quota-info\">\n              <span class=\"quota-label\">โควต้าคงเหลือ:</span>\n              <span class=\"quota-value\" :class=\"getQuotaClass(selectedQuota.remainingDays)\">\n                {{ selectedQuota.remainingDays }} วัน\n              </span>\n              <span class=\"quota-total\">(จาก {{ selectedQuota.quota }} วัน)</span>\n            </div>\n            <div v-else class=\"quota-placeholder-text\">\n              เลือกประเภทการลาเพื่อดูโควต้า\n            </div>\n          </div>\n\n          <div class=\"input-group date-range-group\">\n            <div class=\"date-field\">\n              <label for=\"startDateTime\" class=\"input-label\">วันเวลาเริ่มลา *</label>\n              <Calendar v-model=\"formData.startDateTime\" showTime hourFormat=\"24\" dateFormat=\"dd/mm/yy\"\n                class=\"corporate-input\" :manualInput=\"true\" :stepHour=\"1\" :stepMinute=\"1\" required />\n            </div>\n            <div class=\"date-field\">\n              <label for=\"endDateTime\" class=\"input-label\">วันเวลาสิ้นสุดการลา *</label>\n              <Calendar v-model=\"formData.endDateTime\" showTime hourFormat=\"24\" dateFormat=\"dd/mm/yy\"\n                :minDate=\"formData.startDateTime\" class=\"corporate-input\" :manualInput=\"true\" :stepHour=\"1\" :stepMinute=\"1\" required />\n            </div>\n          </div>\n\n          <div class=\"input-group\">\n            <label for=\"totalDays\" class=\"input-label\">จำนวนวันลา</label>\n            <InputText id=\"totalDays\" :value=\"calculateDays\" readonly class=\"corporate-input readonly-field\" />\n          </div>\n\n          <div class=\"input-group full-width\">\n            <label for=\"reason\" class=\"input-label\">เหตุผลการลา</label>\n            <Textarea id=\"reason\" v-model=\"formData.reason\" rows=\"3\" class=\"corporate-input\" />\n          </div>\n\n          <div class=\"input-group full-width\">\n            <label class=\"input-label\">แนบเอกสารประกอบ (Attachments)</label>\n            <div class=\"file-upload-wrapper\">\n              <input ref=\"fileInput\" @change=\"handleFileUpload\" type=\"file\"\n                accept=\".pdf,.doc,.docx,.jpg,.jpeg,.png,.gif\" multiple class=\"file-input\" id=\"attachments\">\n              <Button type=\"button\"\n                :label=\"formData.attachments?.length > 0 ? `เลือกแล้ว ${formData.attachments.length} ไฟล์` : 'เลือกไฟล์'\"\n                icon=\"pi pi-upload\" severity=\"secondary\" outlined @click=\"$refs.fileInput.click()\" />\n            </div>\n            <div v-if=\"formData.attachments?.length > 0\" class=\"file-list\">\n              <div v-for=\"(file, index) in formData.attachments\" :key=\"index\" class=\"file-item\">\n                <i class=\"pi pi-file\"></i>\n                <span class=\"file-name\">{{ file.name }}</span>\n                <Button icon=\"pi pi-times\" severity=\"danger\" text size=\"small\" @click=\"removeFile(index)\" />\n              </div>\n            </div>\n          </div>\n\n          <div class=\"input-group\">\n            <label for=\"delegationOption\" class=\"input-label\">มอบหมายงานระหว่างลา *</label>\n            <Dropdown v-model=\"formData.delegationOption\" :options=\"delegationOptions\" optionLabel=\"label\"\n              optionValue=\"value\" class=\"corporate-dropdown\" required />\n          </div>\n\n          <template v-if=\"formData.delegationOption === 'yes'\">\n            <div class=\"input-group\">\n              <label for=\"delegateUser\" class=\"input-label\">ชื่อผู้รับผิดชอบงานแทน *</label>\n              <AutoComplete \n                v-model=\"selectedDelegate\" \n                :suggestions=\"filteredUsers\" \n                @complete=\"searchUsers\" \n                @item-select=\"onDelegateSelect\"\n                @dropdown-click=\"showAllUsers\"\n                optionLabel=\"displayName\" \n                placeholder=\"ค้นหาหรือเลือกพนักงาน...\" \n                class=\"corporate-input\"\n                :dropdown=\"true\"\n                :forceSelection=\"true\"\n                :scrollHeight=\"200\"\n                required\n              >\n                <template #option=\"slotProps\">\n                  <div class=\"user-option\">\n                    <div class=\"user-name\">{{ slotProps.option.displayName }}</div>\n                    <div class=\"user-role\">{{ slotProps.option.position }} - {{ slotProps.option.department }}</div>\n                  </div>\n                </template>\n              </AutoComplete>\n            </div>\n\n            <div class=\"input-group\">\n              <label for=\"delegatePosition\" class=\"input-label\">ตำแหน่ง</label>\n              <InputText \n                id=\"delegatePosition\" \n                :value=\"formData.delegatePosition\" \n                readonly \n                class=\"corporate-input readonly-field\" \n              />\n            </div>\n\n            <div class=\"input-group\">\n              <label for=\"delegateDepartment\" class=\"input-label\">แผนก</label>\n              <InputText \n                id=\"delegateDepartment\" \n                :value=\"formData.delegateDepartment\" \n                readonly \n                class=\"corporate-input readonly-field\" \n              />\n            </div>\n            <div class=\"input-group full-width\">\n              <label for=\"delegateContact\" class=\"input-label\">ช่องทางติดต่อผู้รับผิดชอบงานเเทน *</label>\n              <InputText id=\"delegateContact\" v-model=\"formData.delegateContact\"\n                placeholder=\"เบอร์โทร, อีเมล, หรือช่องทางอื่นๆ\" required class=\"corporate-input\" />\n            </div>\n\n            <div class=\"input-group full-width\">\n              <label for=\"workDetails\" class=\"input-label\">รายละเอียดงานที่มอบหมาย *</label>\n              <Textarea id=\"workDetails\" v-model=\"formData.workDetails\" rows=\"4\" \n                placeholder=\"ระบุรายละเอียดงานที่ต้องดำเนินการระหว่างลา...\" \n                required class=\"corporate-input\" />\n            </div>\n\n          </template>\n        </div>\n\n        <Divider />\n\n        <div class=\"form-actions\">\n          <Button type=\"button\" label=\"ล้างข้อมูล\" icon=\"pi pi-refresh\" severity=\"secondary\" outlined\n            @click=\"resetForm\" />\n          <Button type=\"submit\" label=\"ส่งคำขอลางาน\" icon=\"pi pi-check\" severity=\"success\" />\n        </div>\n      </form>\n    </template>\n  </Card>\n  </div>\n</template>\n\n<script>\nimport axios from '@/utils/axiosConfig'\nimport AutoComplete from 'primevue/autocomplete'\n\nexport default {\n  name: 'LeaveForm',\n  components: {\n    AutoComplete\n  },\n  async created() {\n    await this.loadLeaveTypes();\n    await this.loadUsers();\n    await this.loadQuotaData();\n    // Initialize with limited users\n    this.filteredUsers = this.users.slice(0, this.maxDisplayUsers);\n  },\n  data() {\n    return {\n      formData: {\n        leaveType: '',\n        startDateTime: null,\n        endDateTime: null,\n        reason: '',\n        delegationOption: 'no',\n        delegateName: '',\n        delegatePosition: '',\n        delegateDepartment: '',\n        delegateContact: '',\n        workDetails: '',\n        attachments: []\n      },\n      leaveTypes: [],\n      delegationOptions: [\n        { label: 'ไม่มีการมอบหมายงาน', value: 'no' },\n        { label: 'มีการมอบหมายงาน', value: 'yes' }\n      ],\n      users: [],\n      filteredUsers: [],\n      selectedDelegate: null,\n      maxDisplayUsers: 50,\n      quotaData: {},\n      selectedQuota: null\n    }\n  },\n  computed: {\n    currentUserName() {\n      const firstName = localStorage.getItem('soc_firstname') || ''\n      const lastName = localStorage.getItem('soc_lastname') || ''\n      return `${firstName} ${lastName}`.trim()\n    },\n    currentUserRole() {\n      return localStorage.getItem('soc_role') || ''\n    },\n    currentUserPosition() {\n      return localStorage.getItem('soc_position') || 'ไม่ระบุตำแหน่ง'\n    },\n    calculateDays() {\n      if (this.formData.startDateTime && this.formData.endDateTime) {\n        const start = new Date(this.formData.startDateTime)\n        const end = new Date(this.formData.endDateTime)\n        \n        start.setHours(0, 0, 0, 0)\n        end.setHours(0, 0, 0, 0)\n        \n        let count = 0\n        const current = new Date(start)\n        while (current <= end) {\n          const day = current.getDay()\n          if (day !== 0 && day !== 6) count++ // ไม่นับ อาทิตย์(0) และ เสาร์(6)\n          current.setDate(current.getDate() + 1)\n        }\n        return count + ' วัน'\n      }\n      return '0 วัน'\n    },\n    leaveTypesWithQuota() {\n      return this.leaveTypes.map(type => {\n        const quota = this.quotaData[type.value];\n        const disabled = quota && quota.remainingDays <= 0;\n        return {\n          ...type,\n          disabled: disabled\n        };\n      });\n    }\n  },\n  methods: {\n    async loadLeaveTypes() {\n      try {\n        const response = await axios.get('/api/leave/leave-types');\n        this.leaveTypes = response.data;\n      } catch (error) {\n        \n        // Fallback to default types if API fails\n        this.leaveTypes = [\n          { label: 'ลาป่วย', value: 'sick' },\n          { label: 'ลากิจ', value: 'personal' },\n          { label: 'ลาพักร้อน', value: 'vacation' }\n        ];\n      }\n    },\n    optionDisabled(option) {\n      return option.disabled;\n    },\n\n    async loadQuotaData() {\n      try {\n        const userId = localStorage.getItem('soc_user_id');\n        const response = await axios.get(`/api/leave/quota/${userId}`);\n        this.quotaData = response.data;\n        \n        // Update selected quota if leave type is already selected\n        if (this.formData.leaveType) {\n          this.selectedQuota = this.quotaData[this.formData.leaveType];\n        }\n      } catch (error) {\n        this.$toast.add({\n          severity: 'error',\n          summary: 'ข้อผิดพลาด',\n          detail: 'ไม่สามารถโหลดข้อมูลโควต้าได้',\n          life: 3000\n        });\n      }\n    },\n\n    onLeaveTypeChange() {\n      if (this.formData.leaveType && this.quotaData[this.formData.leaveType]) {\n        this.selectedQuota = this.quotaData[this.formData.leaveType];\n      } else {\n        this.selectedQuota = null;\n      }\n    },\n\n    getQuotaClass(remainingDays) {\n      if (remainingDays <= 0) return 'quota-zero';\n      if (remainingDays <= 2) return 'quota-low';\n      return 'quota-normal';\n    },\n\n    async submitForm() {\n      if (!this.formData.leaveType) {\n        this.$toast.add({\n          severity: 'error',\n          summary: 'ข้อผิดพลาด',\n          detail: 'กรุณาเลือกประเภทการลา',\n          life: 3000\n        })\n        return\n      }\n\n      // Check quota before submitting\n      if (this.selectedQuota && this.selectedQuota.remainingDays <= 0) {\n        this.$toast.add({\n          severity: 'error',\n          summary: 'ข้อผิดพลาด',\n          detail: 'โควต้าการลาประเภทนี้หมดแล้ว',\n          life: 3000\n        })\n        return\n      }\n\n      // Check if requested days exceed remaining quota\n      const requestedDays = this.calculateTotalDays();\n      if (this.selectedQuota && requestedDays > this.selectedQuota.remainingDays) {\n        this.$toast.add({\n          severity: 'error',\n          summary: 'ข้อผิดพลาด',\n          detail: `จำนวนวันที่ขอลา (${requestedDays} วัน) เกินโควต้าคงเหลือ (${this.selectedQuota.remainingDays} วัน)`,\n          life: 3000\n        })\n        return\n      }\n\n      if (this.formData.startDateTime && this.formData.endDateTime) {\n        if (new Date(this.formData.endDateTime) < new Date(this.formData.startDateTime)) {\n          this.$toast.add({\n            severity: 'error',\n            summary: 'ข้อผิดพลาด',\n            detail: 'วันสิ้นสุดการลาต้องไม่เป็นวันก่อนวันเริ่มลา',\n            life: 3000\n          })\n          return\n        }\n      }\n\n      try {\n        // Upload files first if any\n        let uploadedFiles = []\n        if (this.formData.attachments && this.formData.attachments.length > 0) {\n          const formData = new FormData()\n          this.formData.attachments.forEach(file => {\n            formData.append('files', file)\n          })\n          \n          const uploadResponse = await axios.post('/api/files/upload', formData, {\n            headers: {\n              'Content-Type': 'multipart/form-data'\n            }\n          })\n          uploadedFiles = uploadResponse.data.files\n        }\n\n        // Calculate total days\n        const totalDays = this.calculateTotalDays();\n        \n        // Prepare data for API\n        const leaveData = {\n          user_id: localStorage.getItem('soc_user_id'),\n          leave_type: this.formData.leaveType,\n          start_datetime: this.formatDateTime(this.formData.startDateTime),\n          end_datetime: this.formatDateTime(this.formData.endDateTime),\n          total_days: totalDays,\n          reason: this.formData.reason || 'ไม่ระบุ',\n          has_delegation: this.formData.delegationOption === 'yes',\n          delegate_name: this.formData.delegateName || null,\n          delegate_position: this.formData.delegatePosition || null,\n          delegate_department: this.formData.delegateDepartment || null,\n          delegate_contact: this.formData.delegateContact || null,\n          work_details: this.formData.workDetails || null,\n          attachments: uploadedFiles\n        }\n\n        // Send to backend\n        const response = await axios.post('/api/leave', leaveData, {\n          headers: {\n          }\n        })\n        \n        this.$toast.add({\n          severity: 'success',\n          summary: 'สำเร็จ',\n          detail: 'บันทึกคำขอลางานเรียบร้อยแล้ว',\n          life: 3000\n        })\n\n        this.$emit('submit-leave', response.data)\n        this.resetForm()\n        \n      } catch (error) {\n        \n        let errorMessage = 'ไม่สามารถบันทึกข้อมูลได้ กรุณาลองใหม่อีกครั้ง'\n        \n        if (error.response?.data?.error) {\n          errorMessage = error.response.data.error\n        } else if (error.message) {\n          errorMessage = error.message\n        }\n        \n        this.$toast.add({\n          severity: 'error',\n          summary: 'เกิดข้อผิดพลาด',\n          detail: errorMessage,\n          life: 5000\n        })\n      }\n    },\n    calculateTotalDays() {\n      if (this.formData.startDateTime && this.formData.endDateTime) {\n        const start = new Date(this.formData.startDateTime)\n        const end = new Date(this.formData.endDateTime)\n        start.setHours(0, 0, 0, 0)\n        end.setHours(0, 0, 0, 0)\n        \n        let count = 0\n        const current = new Date(start)\n        while (current <= end) {\n          const day = current.getDay()\n          if (day !== 0 && day !== 6) count++\n          current.setDate(current.getDate() + 1)\n        }\n        return count\n      }\n      return 0\n    },\n    formatDateTime(date) {\n      if (!date) return null\n      return new Date(date).toISOString()\n    },\n    resetForm() {\n      this.formData = {\n        leaveType: '',\n        startDateTime: null,\n        endDateTime: null,\n        reason: '',\n        delegationOption: 'no',\n        delegateName: '',\n        delegatePosition: '',\n        delegateDepartment: '',\n        delegateContact: '',\n        workDetails: '',\n        attachments: []\n      }\n      this.selectedDelegate = null\n    },\n    handleFileUpload(event) {\n      const files = Array.from(event.target.files)\n      this.formData.attachments = [...this.formData.attachments, ...files]\n    },\n    removeFile(index) {\n      this.formData.attachments.splice(index, 1)\n    },\n    async loadUsers() {\n      try {\n        const response = await axios.get('/api/users')\n        \n        if (response.data && Array.isArray(response.data)) {\n          // กรองผู้ใช้ปัจจุบันออก\n          const currentUserName = this.currentUserName\n          this.users = response.data\n            .filter(user => {\n              const userName = `${user.firstname} ${user.lastname}`.trim()\n              return userName !== currentUserName\n            })\n            .map(user => ({\n              ...user,\n              displayName: `${user.firstname} ${user.lastname}`.trim()\n            }))\n          this.filteredUsers = this.users.slice(0, this.maxDisplayUsers)\n        } else {\n          this.setFallbackUsers()\n        }\n      } catch (error) {\n        this.setFallbackUsers()\n      }\n    },\n    setFallbackUsers() {\n      this.users = [\n        { id: 1, username: 'admin', firstname: 'Admin', lastname: 'User', role: 'admin', displayName: 'Admin User' },\n        { id: 2, username: 'hr', firstname: 'HR', lastname: 'Manager', role: 'hr', displayName: 'HR Manager' },\n        { id: 3, username: 'john', firstname: 'John', lastname: 'Doe', role: 'user', displayName: 'John Doe' }\n      ]\n      this.filteredUsers = this.users\n    },\n    searchUsers(event) {\n      const query = event.query.toLowerCase().trim()\n      \n      if (query === '') {\n        // แสดงแค่ 50 คนแรกเมื่อไม่มีการค้นหา\n        this.filteredUsers = this.users.slice(0, this.maxDisplayUsers)\n      } else {\n        // ค้นหาและจำกัดผลลัพธ์\n        const filtered = this.users.filter(user => \n          user.displayName.toLowerCase().includes(query) ||\n          user.username.toLowerCase().includes(query) ||\n          (user.position && user.position.toLowerCase().includes(query)) ||\n          (user.department && user.department.toLowerCase().includes(query))\n        )\n        this.filteredUsers = filtered.slice(0, this.maxDisplayUsers)\n      }\n    },\n    showAllUsers() {\n      // แสดงแค่ 50 คนแรกเมื่อคลิก dropdown\n      this.filteredUsers = this.users.slice(0, this.maxDisplayUsers)\n    },\n    onDelegateSelect(event) {\n      const user = event.value\n      if (user) {\n        this.formData.delegateName = user.displayName\n        this.formData.delegatePosition = user.position || ''\n        this.formData.delegateDepartment = user.department || ''\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.quota-display {\n  margin-top: 0.5rem;\n  padding: 0.75rem;\n  background: #f8f9fa;\n  border-radius: 6px;\n  border-left: 4px solid #007bff;\n}\n\n.quota-info {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 0.9rem;\n}\n\n.quota-label {\n  color: #6c757d;\n  font-weight: 500;\n}\n\n.quota-value {\n  font-weight: bold;\n  font-size: 1rem;\n}\n\n.quota-value.quota-normal {\n  color: #28a745;\n}\n\n.quota-value.quota-low {\n  color: #ffc107;\n}\n\n.quota-value.quota-zero {\n  color: #dc3545;\n}\n\n.quota-total {\n  color: #6c757d;\n  font-size: 0.85rem;\n}\n\n.form-card {\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);\n  border: 1px solid #e9ecef;\n}\n\n.leave-form {\n  padding: 1rem;\n}\n\n.form-grid {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 1.5rem;\n  margin-bottom: 1.5rem;\n}\n\n.full-width {\n  grid-column: 1 / -1;\n}\n\n.input-group {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n.date-range-group {\n  display: flex;\n  flex-direction: row;\n  gap: 1rem;\n}\n\n.date-field {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n@media (max-width: 768px) {\n  .date-range-group {\n    flex-direction: column;\n    gap: 0.5rem;\n  }\n}\n\n.input-label {\n  font-weight: 500;\n  color: #495057;\n  font-size: 0.9rem;\n}\n\n.corporate-input,\n.corporate-dropdown {\n  border: 2px solid #e9ecef;\n  border-radius: 6px;\n  padding: 0.75rem;\n  font-size: 1rem;\n  transition: all 0.3s ease;\n}\n\n.corporate-input:focus,\n.corporate-dropdown:focus {\n  border-color: #28a745;\n  box-shadow: 0 0 0 3px rgba(40, 167, 69, 0.1);\n}\n\n.readonly-field {\n  background: #f8f9fa;\n  color: #6c757d;\n}\n\n.section-divider {\n  grid-column: 1 / -1;\n  margin: 1rem 0;\n  padding: 1rem 0;\n  border-top: 2px solid #e9ecef;\n}\n\n.section-title {\n  margin: 0;\n  color: #495057;\n  font-size: 1.1rem;\n  font-weight: 600;\n}\n\n.checkbox-group {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  padding: 1rem 0;\n}\n\n.checkbox-label {\n  font-weight: 600;\n  color: #495057;\n  font-size: 1rem;\n  cursor: pointer;\n}\n\n.file-upload-wrapper {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n.file-input {\n  display: none;\n}\n\n.file-list {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  margin-top: 0.75rem;\n  padding: 0.75rem;\n  background: #f8f9fa;\n  border-radius: 6px;\n  border: 1px solid #e9ecef;\n}\n\n.file-item {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  padding: 0.5rem;\n  background: white;\n  border-radius: 4px;\n  border: 1px solid #e9ecef;\n}\n\n.file-item i {\n  color: #6c757d;\n  font-size: 1rem;\n}\n\n.file-name {\n  flex: 1;\n  font-size: 0.9rem;\n  color: #495057;\n  word-break: break-all;\n}\n\n.form-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 1rem;\n  margin-top: 1.5rem;\n}\n\n.form-actions .p-button {\n  min-width: 140px;\n  padding: 0.75rem 1.5rem;\n  font-weight: 500;\n}\n\n@media (max-width: 768px) {\n  .form-grid {\n    grid-template-columns: 1fr;\n  }\n\n  .form-actions {\n    flex-direction: column;\n  }\n\n  .leave-form {\n    padding: 0.5rem;\n  }\n\n  .corporate-input,\n  .corporate-dropdown {\n    padding: 0.6rem;\n    font-size: 0.9rem;\n  }\n\n  .input-label {\n    font-size: 0.85rem;\n  }\n\n  .checkbox-label {\n    font-size: 0.9rem;\n  }\n\n  .file-list {\n    padding: 0.5rem;\n  }\n\n  .file-item {\n    padding: 0.4rem;\n  }\n\n  .file-name {\n    font-size: 0.85rem;\n  }\n}\n\n/* DateTime input styling */\n.datetime-inputs {\n  display: flex;\n  gap: 0.5rem;\n}\n\n.date-input {\n  flex: 2;\n}\n\n.time-input {\n  flex: 1;\n}\n\n@media (max-width: 768px) {\n  .datetime-inputs {\n    flex-direction: column;\n    gap: 0.5rem;\n  }\n  \n  .date-input, .time-input {\n    flex: 1;\n  }\n}\n\n@media (max-width: 480px) {\n  .leave-form {\n    padding: 0.25rem;\n  }\n\n  .form-grid {\n    gap: 1rem;\n  }\n\n  .corporate-input,\n  .corporate-dropdown {\n    padding: 0.5rem;\n    font-size: 0.85rem;\n  }\n\n  .input-label {\n    font-size: 0.8rem;\n  }\n\n  .form-actions .p-button {\n    min-width: 100%;\n    padding: 0.6rem 1rem;\n    font-size: 0.9rem;\n  }\n\n  .checkbox-group {\n    padding: 0.75rem 0;\n  }\n\n  .checkbox-label {\n    font-size: 0.85rem;\n  }\n}\n\n.user-option {\n  display: flex;\n  flex-direction: column;\n  padding: 0.5rem 0;\n}\n\n.user-name {\n  font-weight: 500;\n  color: #495057;\n}\n\n.user-role {\n  font-size: 0.875rem;\n  color: #6c757d;\n  margin-top: 0.25rem;\n}\n\n.corporate-input :deep(.p-autocomplete-panel) {\n  max-height: 250px;\n  overflow-y: auto;\n}\n\n.quota-display {\n  margin-top: 0.5rem;\n  padding: 0.75rem;\n  background: #f8f9fa;\n  border-radius: 6px;\n  border-left: 4px solid #007bff;\n  min-height: 3rem;\n  display: flex;\n  align-items: center;\n}\n\n.quota-info {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 0.9rem;\n}\n\n.quota-label {\n  font-weight: 500;\n  color: #495057;\n}\n\n.quota-value {\n  font-weight: bold;\n  padding: 0.25rem 0.5rem;\n  border-radius: 4px;\n}\n\n.quota-normal {\n  background: #d4edda;\n  color: #155724;\n}\n\n.quota-low {\n  background: #fff3cd;\n  color: #856404;\n}\n\n.quota-zero {\n  background: #f8d7da;\n  color: #721c24;\n}\n\n.quota-total {\n  color: #6c757d;\n  font-size: 0.85rem;\n}\n\n.leave-type-option {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.5rem 0;\n  gap: 1rem;\n}\n\n.disabled-option {\n  background-color: #f8f9fa !important;\n  color: #6c757d !important;\n  cursor: not-allowed !important;\n}\n\n.quota-status {\n  font-size: 0.75rem;\n  color: #dc3545;\n  font-weight: 500;\n  background: #f8d7da;\n  padding: 0.2rem 0.4rem;\n  border-radius: 3px;\n}\n\n.quota-placeholder {\n  background: #f8f9fa;\n  border-left: 4px solid #dee2e6;\n}\n\n.quota-placeholder-text {\n  color: #6c757d;\n  font-style: italic;\n  font-size: 0.9rem;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}