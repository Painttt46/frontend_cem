{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, withCtx as _withCtx, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"form-grid\"\n};\nconst _hoisted_2 = {\n  class: \"input-group\"\n};\nconst _hoisted_3 = {\n  class: \"input-group\"\n};\nconst _hoisted_4 = {\n  class: \"input-group\"\n};\nconst _hoisted_5 = {\n  class: \"leave-type-main\"\n};\nconst _hoisted_6 = {\n  key: 0,\n  class: \"quota-status\"\n};\nconst _hoisted_7 = {\n  key: 0,\n  class: \"advance-hint\"\n};\nconst _hoisted_8 = {\n  key: 0,\n  class: \"advance-days-warning\"\n};\nconst _hoisted_9 = {\n  key: 0,\n  class: \"quota-info\"\n};\nconst _hoisted_10 = {\n  class: \"quota-total\"\n};\nconst _hoisted_11 = {\n  key: 1,\n  class: \"quota-placeholder-text\"\n};\nconst _hoisted_12 = {\n  class: \"input-group\"\n};\nconst _hoisted_13 = {\n  class: \"datetime-picker\"\n};\nconst _hoisted_14 = {\n  class: \"input-group\"\n};\nconst _hoisted_15 = {\n  class: \"datetime-picker\"\n};\nconst _hoisted_16 = {\n  class: \"input-group\"\n};\nconst _hoisted_17 = {\n  class: \"input-group full-width\"\n};\nconst _hoisted_18 = {\n  class: \"input-group full-width\"\n};\nconst _hoisted_19 = {\n  class: \"file-upload-wrapper\"\n};\nconst _hoisted_20 = {\n  key: 0,\n  class: \"file-list\"\n};\nconst _hoisted_21 = {\n  class: \"file-name\"\n};\nconst _hoisted_22 = {\n  class: \"input-group\"\n};\nconst _hoisted_23 = {\n  class: \"input-group\"\n};\nconst _hoisted_24 = {\n  class: \"user-option\"\n};\nconst _hoisted_25 = {\n  class: \"user-name\"\n};\nconst _hoisted_26 = {\n  class: \"user-role\"\n};\nconst _hoisted_27 = {\n  class: \"input-group\"\n};\nconst _hoisted_28 = {\n  class: \"input-group\"\n};\nconst _hoisted_29 = {\n  class: \"input-group full-width\"\n};\nconst _hoisted_30 = {\n  class: \"input-group full-width\"\n};\nconst _hoisted_31 = {\n  class: \"form-actions\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Toast = _resolveComponent(\"Toast\");\n  const _component_InputText = _resolveComponent(\"InputText\");\n  const _component_Dropdown = _resolveComponent(\"Dropdown\");\n  const _component_Calendar = _resolveComponent(\"Calendar\");\n  const _component_Textarea = _resolveComponent(\"Textarea\");\n  const _component_Button = _resolveComponent(\"Button\");\n  const _component_AutoComplete = _resolveComponent(\"AutoComplete\");\n  const _component_Divider = _resolveComponent(\"Divider\");\n  const _component_Card = _resolveComponent(\"Card\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(_component_Toast), _createVNode(_component_Card, {\n    class: \"form-card\"\n  }, {\n    content: _withCtx(() => [_createElementVNode(\"form\", {\n      onSubmit: _cache[12] || (_cache[12] = _withModifiers((...args) => $options.submitForm && $options.submitForm(...args), [\"prevent\"])),\n      class: \"leave-form\"\n    }, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[13] || (_cache[13] = _createElementVNode(\"label\", {\n      for: \"name\",\n      class: \"input-label\"\n    }, \"ชื่อ-นามสกุล\", -1 /* CACHED */)), _createVNode(_component_InputText, {\n      id: \"name\",\n      value: $options.currentUserName,\n      readonly: \"\",\n      class: \"corporate-input readonly-field\"\n    }, null, 8 /* PROPS */, [\"value\"])]), _createElementVNode(\"div\", _hoisted_3, [_cache[14] || (_cache[14] = _createElementVNode(\"label\", {\n      for: \"position\",\n      class: \"input-label\"\n    }, \"ตำแหน่ง\", -1 /* CACHED */)), _createVNode(_component_InputText, {\n      id: \"position\",\n      value: $options.currentUserPosition,\n      readonly: \"\",\n      class: \"corporate-input readonly-field\"\n    }, null, 8 /* PROPS */, [\"value\"])]), _createElementVNode(\"div\", _hoisted_4, [_cache[16] || (_cache[16] = _createElementVNode(\"label\", {\n      for: \"leaveType\",\n      class: \"input-label\"\n    }, \"ประเภทการลา *\", -1 /* CACHED */)), _createVNode(_component_Dropdown, {\n      modelValue: $data.formData.leaveType,\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.formData.leaveType = $event),\n      options: $options.leaveTypesWithQuota,\n      optionLabel: \"label\",\n      optionValue: \"value\",\n      optionDisabled: $options.optionDisabled,\n      class: \"corporate-dropdown\",\n      required: \"\",\n      onChange: $options.onLeaveTypeChange\n    }, {\n      option: _withCtx(slotProps => [_createElementVNode(\"div\", {\n        class: _normalizeClass([\"leave-type-option\", {\n          'disabled-option': slotProps.option.disabled\n        }])\n      }, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"span\", null, _toDisplayString(slotProps.option.label), 1 /* TEXT */), slotProps.option.disabled ? (_openBlock(), _createElementBlock(\"span\", _hoisted_6, \"หมดโควต้า\")) : _createCommentVNode(\"v-if\", true)]), slotProps.option.advance_days > 0 ? (_openBlock(), _createElementBlock(\"small\", _hoisted_7, \" ต้องลาล่วงหน้า \" + _toDisplayString(slotProps.option.advance_days) + \" วัน \", 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)], 2 /* CLASS */)]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"modelValue\", \"options\", \"optionDisabled\", \"onChange\"]), $options.selectedLeaveTypeAdvanceDays > 0 ? (_openBlock(), _createElementBlock(\"small\", _hoisted_8, [_cache[15] || (_cache[15] = _createElementVNode(\"i\", {\n      class: \"pi pi-info-circle\"\n    }, null, -1 /* CACHED */)), _createTextVNode(\" ต้องลาล่วงหน้าอย่างน้อย \" + _toDisplayString($options.selectedLeaveTypeAdvanceDays) + \" วัน (เริ่มลาได้ตั้งแต่ \" + _toDisplayString($options.formatMinDate) + \") \", 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true)]), _createCommentVNode(\" Quota Display \"), _createElementVNode(\"div\", {\n      class: _normalizeClass([\"quota-display\", {\n        'quota-placeholder': !$data.selectedQuota\n      }])\n    }, [$data.selectedQuota ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [_cache[17] || (_cache[17] = _createElementVNode(\"span\", {\n      class: \"quota-label\"\n    }, \"โควต้าคงเหลือ:\", -1 /* CACHED */)), _createElementVNode(\"span\", {\n      class: _normalizeClass([\"quota-value\", $options.getQuotaClass($data.selectedQuota.remainingDays)])\n    }, _toDisplayString($data.selectedQuota.remainingDays) + \" วัน (\" + _toDisplayString($data.selectedQuota.remainingHours) + \" ชม.) \", 3 /* TEXT, CLASS */), _createElementVNode(\"span\", _hoisted_10, \"(จาก \" + _toDisplayString($data.selectedQuota.quota) + \" วัน / \" + _toDisplayString($data.selectedQuota.quotaHours) + \" ชม.)\", 1 /* TEXT */)])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_11, \" เลือกประเภทการลาเพื่อดูโควต้า \"))], 2 /* CLASS */), _createElementVNode(\"div\", _hoisted_12, [_cache[18] || (_cache[18] = _createElementVNode(\"label\", {\n      for: \"startDateTime\",\n      class: \"input-label\"\n    }, \"วันเวลาเริ่มลา *\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_13, [_createVNode(_component_Calendar, {\n      modelValue: $data.formData.startDate,\n      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.formData.startDate = $event),\n      dateFormat: \"dd/mm/yy\",\n      class: \"corporate-input date-only advance-calendar\",\n      manualInput: false,\n      required: \"\",\n      minDate: $options.minStartDate,\n      disabledDates: $options.disabledDates,\n      placeholder: \"เลือกวันที่\"\n    }, {\n      date: _withCtx(slotProps => [_createElementVNode(\"span\", {\n        class: _normalizeClass([$options.getDateClass(slotProps.date), \"date-cell\"])\n      }, _toDisplayString(slotProps.date.day), 3 /* TEXT, CLASS */)]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"modelValue\", \"minDate\", \"disabledDates\"]), _createVNode(_component_Dropdown, {\n      modelValue: $data.formData.startTime,\n      \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.formData.startTime = $event),\n      options: $data.allowedTimes,\n      optionLabel: \"label\",\n      optionValue: \"value\",\n      class: \"corporate-input time-dropdown\",\n      placeholder: \"เวลา\",\n      onChange: $options.updateStartDateTime\n    }, null, 8 /* PROPS */, [\"modelValue\", \"options\", \"onChange\"])]), _cache[19] || (_cache[19] = _createElementVNode(\"small\", {\n      class: \"time-hint\"\n    }, \"เวลาทำการ: 09:00-12:00, 13:00-18:00\", -1 /* CACHED */))]), _createElementVNode(\"div\", _hoisted_14, [_cache[20] || (_cache[20] = _createElementVNode(\"label\", {\n      for: \"endDateTime\",\n      class: \"input-label\"\n    }, \"วันเวลาสิ้นสุดการลา *\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_15, [_createVNode(_component_Calendar, {\n      modelValue: $data.formData.endDate,\n      \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.formData.endDate = $event),\n      dateFormat: \"dd/mm/yy\",\n      minDate: $data.formData.startDate || $options.minStartDate,\n      disabledDates: $options.disabledDates,\n      class: \"corporate-input date-only advance-calendar\",\n      manualInput: false,\n      required: \"\",\n      placeholder: \"เลือกวันที่\"\n    }, {\n      date: _withCtx(slotProps => [_createElementVNode(\"span\", {\n        class: _normalizeClass([$options.getDateClass(slotProps.date), \"date-cell\"])\n      }, _toDisplayString(slotProps.date.day), 3 /* TEXT, CLASS */)]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"modelValue\", \"minDate\", \"disabledDates\"]), _createVNode(_component_Dropdown, {\n      modelValue: $data.formData.endTime,\n      \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.formData.endTime = $event),\n      options: $data.allowedTimes,\n      optionLabel: \"label\",\n      optionValue: \"value\",\n      class: \"corporate-input time-dropdown\",\n      placeholder: \"เวลา\",\n      onChange: $options.updateEndDateTime\n    }, null, 8 /* PROPS */, [\"modelValue\", \"options\", \"onChange\"])]), _cache[21] || (_cache[21] = _createElementVNode(\"small\", {\n      class: \"time-hint\"\n    }, \"เวลาทำการ: 09:00-12:00, 13:00-18:00\", -1 /* CACHED */))]), _createElementVNode(\"div\", _hoisted_16, [_cache[22] || (_cache[22] = _createElementVNode(\"label\", {\n      for: \"totalDays\",\n      class: \"input-label\"\n    }, \"จำนวนวันลา\", -1 /* CACHED */)), _createVNode(_component_InputText, {\n      id: \"totalDays\",\n      value: $options.calculateDays,\n      readonly: \"\",\n      class: \"corporate-input readonly-field\"\n    }, null, 8 /* PROPS */, [\"value\"])]), _createElementVNode(\"div\", _hoisted_17, [_cache[23] || (_cache[23] = _createElementVNode(\"label\", {\n      for: \"reason\",\n      class: \"input-label\"\n    }, \"เหตุผลการลา\", -1 /* CACHED */)), _createVNode(_component_Textarea, {\n      id: \"reason\",\n      modelValue: $data.formData.reason,\n      \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.formData.reason = $event),\n      rows: \"3\",\n      class: \"corporate-input\"\n    }, null, 8 /* PROPS */, [\"modelValue\"])]), _createElementVNode(\"div\", _hoisted_18, [_cache[25] || (_cache[25] = _createElementVNode(\"label\", {\n      class: \"input-label\"\n    }, \"แนบเอกสารประกอบ (Attachments)\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_19, [_createElementVNode(\"input\", {\n      ref: \"fileInput\",\n      onChange: _cache[6] || (_cache[6] = (...args) => $options.handleFileUpload && $options.handleFileUpload(...args)),\n      type: \"file\",\n      accept: \".pdf,.doc,.docx,.jpg,.jpeg,.png,.gif\",\n      multiple: \"\",\n      class: \"file-input\",\n      id: \"attachments\"\n    }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), _createVNode(_component_Button, {\n      type: \"button\",\n      label: $data.formData.attachments?.length > 0 ? `เลือกแล้ว ${$data.formData.attachments.length} ไฟล์` : 'เลือกไฟล์',\n      icon: \"pi pi-upload\",\n      severity: \"secondary\",\n      outlined: \"\",\n      onClick: _cache[7] || (_cache[7] = $event => _ctx.$refs.fileInput.click())\n    }, null, 8 /* PROPS */, [\"label\"])]), $data.formData.attachments?.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_20, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.formData.attachments, (file, index) => {\n      return _openBlock(), _createElementBlock(\"div\", {\n        key: index,\n        class: \"file-item\"\n      }, [_cache[24] || (_cache[24] = _createElementVNode(\"i\", {\n        class: \"pi pi-file\"\n      }, null, -1 /* CACHED */)), _createElementVNode(\"span\", _hoisted_21, _toDisplayString(file.name), 1 /* TEXT */), _createVNode(_component_Button, {\n        icon: \"pi pi-times\",\n        severity: \"danger\",\n        text: \"\",\n        size: \"small\",\n        onClick: $event => $options.removeFile(index)\n      }, null, 8 /* PROPS */, [\"onClick\"])]);\n    }), 128 /* KEYED_FRAGMENT */))])) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_22, [_cache[26] || (_cache[26] = _createElementVNode(\"label\", {\n      for: \"delegationOption\",\n      class: \"input-label\"\n    }, \"มอบหมายงานระหว่างลา *\", -1 /* CACHED */)), _createVNode(_component_Dropdown, {\n      modelValue: $data.formData.delegationOption,\n      \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $data.formData.delegationOption = $event),\n      options: $data.delegationOptions,\n      optionLabel: \"label\",\n      optionValue: \"value\",\n      class: \"corporate-dropdown\",\n      required: \"\"\n    }, null, 8 /* PROPS */, [\"modelValue\", \"options\"])]), $data.formData.delegationOption === 'yes' ? (_openBlock(), _createElementBlock(_Fragment, {\n      key: 0\n    }, [_createElementVNode(\"div\", _hoisted_23, [_cache[27] || (_cache[27] = _createElementVNode(\"label\", {\n      for: \"delegateUser\",\n      class: \"input-label\"\n    }, \"ชื่อผู้รับผิดชอบงานแทน *\", -1 /* CACHED */)), _createVNode(_component_AutoComplete, {\n      modelValue: $data.selectedDelegate,\n      \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => $data.selectedDelegate = $event),\n      suggestions: $data.filteredUsers,\n      onComplete: $options.searchUsers,\n      onItemSelect: $options.onDelegateSelect,\n      onDropdownClick: $options.showAllUsers,\n      optionLabel: \"displayName\",\n      placeholder: \"ค้นหาหรือเลือกพนักงาน...\",\n      class: \"corporate-input\",\n      dropdown: true,\n      forceSelection: true,\n      scrollHeight: 200,\n      required: \"\"\n    }, {\n      option: _withCtx(slotProps => [_createElementVNode(\"div\", _hoisted_24, [_createElementVNode(\"div\", _hoisted_25, _toDisplayString(slotProps.option.displayName), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_26, _toDisplayString(slotProps.option.position) + \" - \" + _toDisplayString(slotProps.option.department), 1 /* TEXT */)])]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"modelValue\", \"suggestions\", \"onComplete\", \"onItemSelect\", \"onDropdownClick\"])]), _createElementVNode(\"div\", _hoisted_27, [_cache[28] || (_cache[28] = _createElementVNode(\"label\", {\n      for: \"delegatePosition\",\n      class: \"input-label\"\n    }, \"ตำแหน่ง\", -1 /* CACHED */)), _createVNode(_component_InputText, {\n      id: \"delegatePosition\",\n      value: $data.formData.delegatePosition,\n      readonly: \"\",\n      class: \"corporate-input readonly-field\"\n    }, null, 8 /* PROPS */, [\"value\"])]), _createElementVNode(\"div\", _hoisted_28, [_cache[29] || (_cache[29] = _createElementVNode(\"label\", {\n      for: \"delegateDepartment\",\n      class: \"input-label\"\n    }, \"แผนก\", -1 /* CACHED */)), _createVNode(_component_InputText, {\n      id: \"delegateDepartment\",\n      value: $data.formData.delegateDepartment,\n      readonly: \"\",\n      class: \"corporate-input readonly-field\"\n    }, null, 8 /* PROPS */, [\"value\"])]), _createElementVNode(\"div\", _hoisted_29, [_cache[30] || (_cache[30] = _createElementVNode(\"label\", {\n      for: \"delegateContact\",\n      class: \"input-label\"\n    }, \"ช่องทางติดต่อผู้รับผิดชอบงานเเทน *\", -1 /* CACHED */)), _createVNode(_component_InputText, {\n      id: \"delegateContact\",\n      modelValue: $data.formData.delegateContact,\n      \"onUpdate:modelValue\": _cache[10] || (_cache[10] = $event => $data.formData.delegateContact = $event),\n      placeholder: \"เบอร์โทร, อีเมล, หรือช่องทางอื่นๆ\",\n      required: \"\",\n      class: \"corporate-input\"\n    }, null, 8 /* PROPS */, [\"modelValue\"])]), _createElementVNode(\"div\", _hoisted_30, [_cache[31] || (_cache[31] = _createElementVNode(\"label\", {\n      for: \"workDetails\",\n      class: \"input-label\"\n    }, \"รายละเอียดงานที่มอบหมาย *\", -1 /* CACHED */)), _createVNode(_component_Textarea, {\n      id: \"workDetails\",\n      modelValue: $data.formData.workDetails,\n      \"onUpdate:modelValue\": _cache[11] || (_cache[11] = $event => $data.formData.workDetails = $event),\n      rows: \"4\",\n      placeholder: \"ระบุรายละเอียดงานที่ต้องดำเนินการระหว่างลา...\",\n      required: \"\",\n      class: \"corporate-input\"\n    }, null, 8 /* PROPS */, [\"modelValue\"])])], 64 /* STABLE_FRAGMENT */)) : _createCommentVNode(\"v-if\", true)]), _createVNode(_component_Divider), _createElementVNode(\"div\", _hoisted_31, [_createVNode(_component_Button, {\n      type: \"button\",\n      label: \"ล้างข้อมูล\",\n      icon: \"pi pi-refresh\",\n      severity: \"secondary\",\n      outlined: \"\",\n      onClick: $options.resetForm\n    }, null, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_Button, {\n      type: \"submit\",\n      label: \"ส่งคำขอลางาน\",\n      icon: \"pi pi-check\",\n      severity: \"success\"\n    })])], 32 /* NEED_HYDRATION */)]),\n    _: 1 /* STABLE */\n  })]);\n}","map":{"version":3,"names":["class","_createElementBlock","_createVNode","_component_Toast","_component_Card","content","_withCtx","_createElementVNode","onSubmit","_cache","_withModifiers","args","$options","submitForm","_hoisted_1","_hoisted_2","for","_component_InputText","id","value","currentUserName","readonly","_hoisted_3","currentUserPosition","_hoisted_4","_component_Dropdown","$data","formData","leaveType","$event","options","leaveTypesWithQuota","optionLabel","optionValue","optionDisabled","required","onChange","onLeaveTypeChange","option","slotProps","_normalizeClass","disabled","_hoisted_5","_toDisplayString","label","_hoisted_6","advance_days","_hoisted_7","selectedLeaveTypeAdvanceDays","_hoisted_8","formatMinDate","_createCommentVNode","selectedQuota","_hoisted_9","getQuotaClass","remainingDays","remainingHours","_hoisted_10","quota","quotaHours","_hoisted_11","_hoisted_12","_hoisted_13","_component_Calendar","startDate","dateFormat","manualInput","minDate","minStartDate","disabledDates","placeholder","date","getDateClass","day","startTime","allowedTimes","updateStartDateTime","_hoisted_14","_hoisted_15","endDate","endTime","updateEndDateTime","_hoisted_16","calculateDays","_hoisted_17","_component_Textarea","reason","rows","_hoisted_18","_hoisted_19","ref","handleFileUpload","type","accept","multiple","_component_Button","attachments","length","icon","severity","outlined","onClick","_ctx","$refs","fileInput","click","_hoisted_20","_Fragment","_renderList","file","index","key","_hoisted_21","name","text","size","removeFile","_hoisted_22","delegationOption","delegationOptions","_hoisted_23","_component_AutoComplete","selectedDelegate","suggestions","filteredUsers","onComplete","searchUsers","onItemSelect","onDelegateSelect","onDropdownClick","showAllUsers","dropdown","forceSelection","scrollHeight","_hoisted_24","_hoisted_25","displayName","_hoisted_26","position","department","_hoisted_27","delegatePosition","_hoisted_28","delegateDepartment","_hoisted_29","delegateContact","_hoisted_30","workDetails","_component_Divider","_hoisted_31","resetForm"],"sources":["D:\\frontend_cem\\src\\views\\leave_work\\LeaveForm.vue"],"sourcesContent":["<template>\n  <div>\n    <Toast />\n    <Card class=\"form-card\">\n    <template #content>\n      <form @submit.prevent=\"submitForm\" class=\"leave-form\">\n        <div class=\"form-grid\">\n          <div class=\"input-group\">\n            <label for=\"name\" class=\"input-label\">ชื่อ-นามสกุล</label>\n            <InputText id=\"name\" :value=\"currentUserName\" readonly class=\"corporate-input readonly-field\" />\n          </div>\n\n          <div class=\"input-group\">\n            <label for=\"position\" class=\"input-label\">ตำแหน่ง</label>\n            <InputText id=\"position\" :value=\"currentUserPosition\" readonly class=\"corporate-input readonly-field\" />\n          </div>\n\n          <div class=\"input-group\">\n            <label for=\"leaveType\" class=\"input-label\">ประเภทการลา *</label>\n            <Dropdown v-model=\"formData.leaveType\" :options=\"leaveTypesWithQuota\" optionLabel=\"label\" optionValue=\"value\"\n              :optionDisabled=\"optionDisabled\" class=\"corporate-dropdown\" required @change=\"onLeaveTypeChange\">\n              <template #option=\"slotProps\">\n                <div class=\"leave-type-option\" :class=\"{ 'disabled-option': slotProps.option.disabled }\">\n                  <div class=\"leave-type-main\">\n                    <span>{{ slotProps.option.label }}</span>\n                    <span v-if=\"slotProps.option.disabled\" class=\"quota-status\">หมดโควต้า</span>\n                  </div>\n                  <small v-if=\"slotProps.option.advance_days > 0\" class=\"advance-hint\">\n                    ต้องลาล่วงหน้า {{ slotProps.option.advance_days }} วัน\n                  </small>\n                </div>\n              </template>\n            </Dropdown>\n            <small v-if=\"selectedLeaveTypeAdvanceDays > 0\" class=\"advance-days-warning\">\n              <i class=\"pi pi-info-circle\"></i> ต้องลาล่วงหน้าอย่างน้อย {{ selectedLeaveTypeAdvanceDays }} วัน (เริ่มลาได้ตั้งแต่ {{ formatMinDate }})\n            </small>\n          </div>\n\n          <!-- Quota Display -->\n          <div class=\"quota-display\" :class=\"{ 'quota-placeholder': !selectedQuota }\">\n            <div v-if=\"selectedQuota\" class=\"quota-info\">\n              <span class=\"quota-label\">โควต้าคงเหลือ:</span>\n              <span class=\"quota-value\" :class=\"getQuotaClass(selectedQuota.remainingDays)\">\n                {{ selectedQuota.remainingDays }} วัน ({{ selectedQuota.remainingHours }} ชม.)\n              </span>\n              <span class=\"quota-total\">(จาก {{ selectedQuota.quota }} วัน / {{ selectedQuota.quotaHours }} ชม.)</span>\n            </div>\n            <div v-else class=\"quota-placeholder-text\">\n              เลือกประเภทการลาเพื่อดูโควต้า\n            </div>\n          </div>\n\n          <div class=\"input-group\">\n            <label for=\"startDateTime\" class=\"input-label\">วันเวลาเริ่มลา *</label>\n            <div class=\"datetime-picker\">\n              <Calendar v-model=\"formData.startDate\" dateFormat=\"dd/mm/yy\"\n                class=\"corporate-input date-only advance-calendar\" :manualInput=\"false\" required\n                :minDate=\"minStartDate\" :disabledDates=\"disabledDates\" placeholder=\"เลือกวันที่\">\n                <template #date=\"slotProps\">\n                  <span :class=\"getDateClass(slotProps.date)\" class=\"date-cell\">\n                    {{ slotProps.date.day }}\n                  </span>\n                </template>\n              </Calendar>\n              <Dropdown v-model=\"formData.startTime\" :options=\"allowedTimes\" optionLabel=\"label\" optionValue=\"value\"\n                class=\"corporate-input time-dropdown\" placeholder=\"เวลา\" @change=\"updateStartDateTime\" />\n            </div>\n            <small class=\"time-hint\">เวลาทำการ: 09:00-12:00, 13:00-18:00</small>\n          </div>\n\n          <div class=\"input-group\">\n            <label for=\"endDateTime\" class=\"input-label\">วันเวลาสิ้นสุดการลา *</label>\n            <div class=\"datetime-picker\">\n              <Calendar v-model=\"formData.endDate\" dateFormat=\"dd/mm/yy\"\n                :minDate=\"formData.startDate || minStartDate\" :disabledDates=\"disabledDates\" class=\"corporate-input date-only advance-calendar\" :manualInput=\"false\" required\n                placeholder=\"เลือกวันที่\">\n                <template #date=\"slotProps\">\n                  <span :class=\"getDateClass(slotProps.date)\" class=\"date-cell\">\n                    {{ slotProps.date.day }}\n                  </span>\n                </template>\n              </Calendar>\n              <Dropdown v-model=\"formData.endTime\" :options=\"allowedTimes\" optionLabel=\"label\" optionValue=\"value\"\n                class=\"corporate-input time-dropdown\" placeholder=\"เวลา\" @change=\"updateEndDateTime\" />\n            </div>\n            <small class=\"time-hint\">เวลาทำการ: 09:00-12:00, 13:00-18:00</small>\n          </div>\n\n          <div class=\"input-group\">\n            <label for=\"totalDays\" class=\"input-label\">จำนวนวันลา</label>\n            <InputText id=\"totalDays\" :value=\"calculateDays\" readonly class=\"corporate-input readonly-field\" />\n          </div>\n\n          <div class=\"input-group full-width\">\n            <label for=\"reason\" class=\"input-label\">เหตุผลการลา</label>\n            <Textarea id=\"reason\" v-model=\"formData.reason\" rows=\"3\" class=\"corporate-input\" />\n          </div>\n\n          <div class=\"input-group full-width\">\n            <label class=\"input-label\">แนบเอกสารประกอบ (Attachments)</label>\n            <div class=\"file-upload-wrapper\">\n              <input ref=\"fileInput\" @change=\"handleFileUpload\" type=\"file\"\n                accept=\".pdf,.doc,.docx,.jpg,.jpeg,.png,.gif\" multiple class=\"file-input\" id=\"attachments\">\n              <Button type=\"button\"\n                :label=\"formData.attachments?.length > 0 ? `เลือกแล้ว ${formData.attachments.length} ไฟล์` : 'เลือกไฟล์'\"\n                icon=\"pi pi-upload\" severity=\"secondary\" outlined @click=\"$refs.fileInput.click()\" />\n            </div>\n            <div v-if=\"formData.attachments?.length > 0\" class=\"file-list\">\n              <div v-for=\"(file, index) in formData.attachments\" :key=\"index\" class=\"file-item\">\n                <i class=\"pi pi-file\"></i>\n                <span class=\"file-name\">{{ file.name }}</span>\n                <Button icon=\"pi pi-times\" severity=\"danger\" text size=\"small\" @click=\"removeFile(index)\" />\n              </div>\n            </div>\n          </div>\n\n          <div class=\"input-group\">\n            <label for=\"delegationOption\" class=\"input-label\">มอบหมายงานระหว่างลา *</label>\n            <Dropdown v-model=\"formData.delegationOption\" :options=\"delegationOptions\" optionLabel=\"label\"\n              optionValue=\"value\" class=\"corporate-dropdown\" required />\n          </div>\n\n          <template v-if=\"formData.delegationOption === 'yes'\">\n            <div class=\"input-group\">\n              <label for=\"delegateUser\" class=\"input-label\">ชื่อผู้รับผิดชอบงานแทน *</label>\n              <AutoComplete \n                v-model=\"selectedDelegate\" \n                :suggestions=\"filteredUsers\" \n                @complete=\"searchUsers\" \n                @item-select=\"onDelegateSelect\"\n                @dropdown-click=\"showAllUsers\"\n                optionLabel=\"displayName\" \n                placeholder=\"ค้นหาหรือเลือกพนักงาน...\" \n                class=\"corporate-input\"\n                :dropdown=\"true\"\n                :forceSelection=\"true\"\n                :scrollHeight=\"200\"\n                required\n              >\n                <template #option=\"slotProps\">\n                  <div class=\"user-option\">\n                    <div class=\"user-name\">{{ slotProps.option.displayName }}</div>\n                    <div class=\"user-role\">{{ slotProps.option.position }} - {{ slotProps.option.department }}</div>\n                  </div>\n                </template>\n              </AutoComplete>\n            </div>\n\n            <div class=\"input-group\">\n              <label for=\"delegatePosition\" class=\"input-label\">ตำแหน่ง</label>\n              <InputText \n                id=\"delegatePosition\" \n                :value=\"formData.delegatePosition\" \n                readonly \n                class=\"corporate-input readonly-field\" \n              />\n            </div>\n\n            <div class=\"input-group\">\n              <label for=\"delegateDepartment\" class=\"input-label\">แผนก</label>\n              <InputText \n                id=\"delegateDepartment\" \n                :value=\"formData.delegateDepartment\" \n                readonly \n                class=\"corporate-input readonly-field\" \n              />\n            </div>\n            <div class=\"input-group full-width\">\n              <label for=\"delegateContact\" class=\"input-label\">ช่องทางติดต่อผู้รับผิดชอบงานเเทน *</label>\n              <InputText id=\"delegateContact\" v-model=\"formData.delegateContact\"\n                placeholder=\"เบอร์โทร, อีเมล, หรือช่องทางอื่นๆ\" required class=\"corporate-input\" />\n            </div>\n\n            <div class=\"input-group full-width\">\n              <label for=\"workDetails\" class=\"input-label\">รายละเอียดงานที่มอบหมาย *</label>\n              <Textarea id=\"workDetails\" v-model=\"formData.workDetails\" rows=\"4\" \n                placeholder=\"ระบุรายละเอียดงานที่ต้องดำเนินการระหว่างลา...\" \n                required class=\"corporate-input\" />\n            </div>\n\n          </template>\n        </div>\n\n        <Divider />\n\n        <div class=\"form-actions\">\n          <Button type=\"button\" label=\"ล้างข้อมูล\" icon=\"pi pi-refresh\" severity=\"secondary\" outlined\n            @click=\"resetForm\" />\n          <Button type=\"submit\" label=\"ส่งคำขอลางาน\" icon=\"pi pi-check\" severity=\"success\" />\n        </div>\n      </form>\n    </template>\n  </Card>\n  </div>\n</template>\n\n<script>\nimport axios from '@/utils/axiosConfig'\nimport AutoComplete from 'primevue/autocomplete'\nimport Dropdown from 'primevue/dropdown'\n\nexport default {\n  name: 'LeaveForm',\n  components: {\n    AutoComplete,\n    Dropdown\n  },\n  async created() {\n    await this.loadLeaveTypes();\n    await this.loadUsers();\n    await this.loadQuotaData();\n    await this.loadHolidays();\n    // Initialize with limited users\n    this.filteredUsers = this.users.slice(0, this.maxDisplayUsers);\n  },\n  data() {\n    return {\n      formData: {\n        leaveType: '',\n        startDate: null,\n        startTime: null,\n        endDate: null,\n        endTime: null,\n        startDateTime: null,\n        endDateTime: null,\n        reason: '',\n        delegationOption: 'no',\n        delegateName: '',\n        delegatePosition: '',\n        delegateDepartment: '',\n        delegateContact: '',\n        workDetails: '',\n        attachments: []\n      },\n      allowedTimes: [\n        { label: '09:00', value: '09:00' },\n        { label: '09:30', value: '09:30' },\n        { label: '10:00', value: '10:00' },\n        { label: '10:30', value: '10:30' },\n        { label: '11:00', value: '11:00' },\n        { label: '11:30', value: '11:30' },\n        { label: '12:00', value: '12:00' },\n        { label: '13:00', value: '13:00' },\n        { label: '13:30', value: '13:30' },\n        { label: '14:00', value: '14:00' },\n        { label: '14:30', value: '14:30' },\n        { label: '15:00', value: '15:00' },\n        { label: '15:30', value: '15:30' },\n        { label: '16:00', value: '16:00' },\n        { label: '16:30', value: '16:30' },\n        { label: '17:00', value: '17:00' },\n        { label: '17:30', value: '17:30' },\n        { label: '18:00', value: '18:00' }\n      ],\n      leaveTypes: [],\n      delegationOptions: [\n        { label: 'ไม่มีการมอบหมายงาน', value: 'no' },\n        { label: 'มีการมอบหมายงาน', value: 'yes' }\n      ],\n      users: [],\n      filteredUsers: [],\n      selectedDelegate: null,\n      maxDisplayUsers: 50,\n      quotaData: {},\n      selectedQuota: null,\n      holidays: []\n    }\n  },\n  watch: {\n    'formData.startDate'() {\n      this.updateStartDateTime()\n    },\n    'formData.endDate'() {\n      this.updateEndDateTime()\n    }\n  },\n  computed: {\n    currentUserName() {\n      const firstName = localStorage.getItem('soc_firstname') || ''\n      const lastName = localStorage.getItem('soc_lastname') || ''\n      return `${firstName} ${lastName}`.trim()\n    },\n    currentUserRole() {\n      return localStorage.getItem('soc_role') || ''\n    },\n    currentUserPosition() {\n      return localStorage.getItem('soc_position') || 'ไม่ระบุตำแหน่ง'\n    },\n    selectedLeaveTypeAdvanceDays() {\n      if (!this.formData.leaveType) return 0\n      const type = this.leaveTypes.find(t => t.value === this.formData.leaveType)\n      return type?.advance_days || 0\n    },\n    minStartDate() {\n      const today = new Date()\n      today.setHours(0, 0, 0, 0)\n      const advanceDays = this.selectedLeaveTypeAdvanceDays\n      if (advanceDays > 0) {\n        today.setDate(today.getDate() + advanceDays)\n      }\n      return today\n    },\n    holidayDates() {\n      return this.holidays.map(h => {\n        const d = new Date(h.holiday_date)\n        d.setHours(0, 0, 0, 0)\n        return d.getTime()\n      })\n    },\n    disabledDates() {\n      return this.holidays.map(h => new Date(h.holiday_date))\n    },\n    formatMinDate() {\n      return this.minStartDate.toLocaleDateString('th-TH', { day: 'numeric', month: 'short', year: 'numeric' })\n    },\n    calculateDays() {\n      if (this.formData.startDateTime && this.formData.endDateTime) {\n        const start = new Date(this.formData.startDateTime)\n        const end = new Date(this.formData.endDateTime)\n        \n        // คำนวณชั่วโมงทำงานจริง (9-12, 13-18 = 8 ชม./วัน)\n        const hoursPerDay = 8\n        let totalHours = 0\n        \n        const startDate = new Date(start)\n        startDate.setHours(0, 0, 0, 0)\n        const endDate = new Date(end)\n        endDate.setHours(0, 0, 0, 0)\n        \n        if (startDate.getTime() === endDate.getTime()) {\n          // วันเดียวกัน - คำนวณชั่วโมงตรงๆ (ถ้าไม่ใช่วันหยุด)\n          const day = startDate.getDay()\n          if (day !== 0 && day !== 6 && !this.holidayDates.includes(startDate.getTime())) {\n            totalHours = this.calculateWorkHours(start, end)\n          }\n        } else {\n          // หลายวัน\n          const current = new Date(startDate)\n          while (current <= endDate) {\n            const day = current.getDay()\n            const isHoliday = this.holidayDates.includes(current.getTime())\n            if (day !== 0 && day !== 6 && !isHoliday) { // ไม่นับ เสาร์-อาทิตย์ และวันหยุด\n              if (current.getTime() === startDate.getTime()) {\n                // วันแรก - นับจากเวลาเริ่มถึงสิ้นสุดวัน\n                const dayEnd = new Date(current)\n                dayEnd.setHours(18, 0, 0, 0)\n                totalHours += this.calculateWorkHours(start, dayEnd)\n              } else if (current.getTime() === endDate.getTime()) {\n                // วันสุดท้าย - นับจากเริ่มวันถึงเวลาสิ้นสุด\n                const dayStart = new Date(current)\n                dayStart.setHours(9, 0, 0, 0)\n                totalHours += this.calculateWorkHours(dayStart, end)\n              } else {\n                // วันกลาง - นับเต็มวัน\n                totalHours += hoursPerDay\n              }\n            }\n            current.setDate(current.getDate() + 1)\n          }\n        }\n        \n        const days = (totalHours / hoursPerDay).toFixed(1)\n        return `${days} วัน (${totalHours.toFixed(1)} ชม.)`\n      }\n      return '0 วัน (0 ชม.)'\n    },\n    leaveTypesWithQuota() {\n      return this.leaveTypes.map(type => {\n        const quota = this.quotaData[type.value];\n        const disabled = quota && quota.remainingDays <= 0;\n        return {\n          ...type,\n          disabled: disabled\n        };\n      });\n    }\n  },\n  methods: {\n    // Check if date is in advance days period\n    isAdvanceDay(dateObj) {\n      if (!this.selectedLeaveTypeAdvanceDays) return false\n      const today = new Date()\n      today.setHours(0, 0, 0, 0)\n      const checkDate = new Date(dateObj.year, dateObj.month, dateObj.day)\n      checkDate.setHours(0, 0, 0, 0)\n      const diffDays = Math.floor((checkDate - today) / (1000 * 60 * 60 * 24))\n      return diffDays >= 0 && diffDays < this.selectedLeaveTypeAdvanceDays\n    },\n    getDateClass(dateObj) {\n      if (this.isAdvanceDay(dateObj)) {\n        return 'advance-day-blocked'\n      }\n      const checkDate = new Date(dateObj.year, dateObj.month, dateObj.day)\n      checkDate.setHours(0, 0, 0, 0)\n      if (this.holidayDates.includes(checkDate.getTime())) {\n        return 'holiday-date'\n      }\n      return ''\n    },\n    // รวม date + time เป็น DateTime\n    updateStartDateTime() {\n      if (this.formData.startDate && this.formData.startTime) {\n        const [hours, minutes] = this.formData.startTime.split(':').map(Number)\n        const date = new Date(this.formData.startDate)\n        date.setHours(hours, minutes, 0, 0)\n        this.formData.startDateTime = date\n      }\n    },\n    updateEndDateTime() {\n      if (this.formData.endDate && this.formData.endTime) {\n        const [hours, minutes] = this.formData.endTime.split(':').map(Number)\n        const date = new Date(this.formData.endDate)\n        date.setHours(hours, minutes, 0, 0)\n        this.formData.endDateTime = date\n      }\n    },\n    \n    // คำนวณชั่วโมงทำงานระหว่างสองเวลา (9-12, 13-18)\n    calculateWorkHours(start, end) {\n      const startHour = start.getHours() + start.getMinutes() / 60\n      const endHour = end.getHours() + end.getMinutes() / 60\n      \n      let hours = 0\n      // ช่วงเช้า 9-12\n      const morningStart = Math.max(startHour, 9)\n      const morningEnd = Math.min(endHour, 12)\n      if (morningEnd > morningStart) {\n        hours += morningEnd - morningStart\n      }\n      // ช่วงบ่าย 13-18\n      const afternoonStart = Math.max(startHour, 13)\n      const afternoonEnd = Math.min(endHour, 18)\n      if (afternoonEnd > afternoonStart) {\n        hours += afternoonEnd - afternoonStart\n      }\n      return Math.max(0, hours)\n    },\n    \n    async loadLeaveTypes() {\n      try {\n        const response = await axios.get('/api/leave/leave-types');\n        this.leaveTypes = response.data;\n      } catch (error) {\n        \n        // Fallback to default types if API fails\n        this.leaveTypes = [\n          { label: 'ลาป่วย', value: 'sick' },\n          { label: 'ลากิจ', value: 'personal' },\n          { label: 'ลาพักร้อน', value: 'vacation' }\n        ];\n      }\n    },\n    optionDisabled(option) {\n      return option.disabled;\n    },\n\n    async loadQuotaData() {\n      try {\n        const userId = localStorage.getItem('soc_user_id');\n        const response = await axios.get(`/api/leave/quota/${userId}`);\n        this.quotaData = response.data;\n        \n        // Update selected quota if leave type is already selected\n        if (this.formData.leaveType) {\n          this.selectedQuota = this.quotaData[this.formData.leaveType];\n        }\n      } catch (error) {\n        this.$toast.add({\n          severity: 'error',\n          summary: 'โหลดโควต้าไม่สำเร็จ',\n          detail: 'กรุณารีเฟรชหน้าเว็บ',\n          life: 4000\n        });\n      }\n    },\n\n    async loadHolidays() {\n      try {\n        const response = await axios.get('/api/leave/holidays');\n        this.holidays = response.data;\n      } catch { /* ignore */ }\n    },\n\n    onLeaveTypeChange() {\n      if (this.formData.leaveType && this.quotaData[this.formData.leaveType]) {\n        this.selectedQuota = this.quotaData[this.formData.leaveType];\n      } else {\n        this.selectedQuota = null;\n      }\n      \n      // Clear dates if they're before the new minStartDate\n      const minDate = this.minStartDate\n      if (this.formData.startDate && new Date(this.formData.startDate) < minDate) {\n        this.formData.startDate = null\n        this.formData.startTime = null\n        this.formData.startDateTime = null\n      }\n      if (this.formData.endDate && new Date(this.formData.endDate) < minDate) {\n        this.formData.endDate = null\n        this.formData.endTime = null\n        this.formData.endDateTime = null\n      }\n    },\n\n    getQuotaClass(remainingDays) {\n      if (remainingDays <= 0) return 'quota-zero';\n      if (remainingDays <= 2) return 'quota-low';\n      return 'quota-normal';\n    },\n\n    async submitForm() {\n      if (!this.formData.leaveType) {\n        this.$toast.add({\n          severity: 'error',\n          summary: 'กรุณากรอกข้อมูล',\n          detail: 'เลือกประเภทการลาก่อนส่งคำขอ',\n          life: 4000\n        })\n        return\n      }\n\n      // Check quota before submitting\n      if (this.selectedQuota && this.selectedQuota.remainingDays <= 0) {\n        this.$toast.add({\n          severity: 'error',\n          summary: 'โควต้าหมด',\n          detail: 'โควต้าการลาประเภทนี้ใช้หมดแล้ว กรุณาเลือกประเภทอื่น',\n          life: 4000\n        })\n        return\n      }\n\n      // Check if requested days exceed remaining quota\n      const requestedDays = this.calculateTotalDays();\n      if (this.selectedQuota && requestedDays > this.selectedQuota.remainingDays) {\n        this.$toast.add({\n          severity: 'error',\n          summary: 'เกินโควต้า',\n          detail: `ขอลา ${requestedDays} วัน แต่เหลือโควต้า ${this.selectedQuota.remainingDays} วัน`,\n          life: 4000\n        })\n        return\n      }\n\n      // Check advance days requirement\n      const selectedLeaveType = this.leaveTypes.find(t => t.value === this.formData.leaveType)\n      if (selectedLeaveType && selectedLeaveType.advance_days > 0 && this.formData.startDateTime) {\n        const today = new Date()\n        today.setHours(0, 0, 0, 0)\n        const startDate = new Date(this.formData.startDateTime)\n        startDate.setHours(0, 0, 0, 0)\n        \n        const diffTime = startDate - today\n        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24))\n        \n        if (diffDays < selectedLeaveType.advance_days) {\n          this.$toast.add({\n            severity: 'error',\n            summary: 'ลาล่วงหน้าไม่เพียงพอ',\n            detail: `${selectedLeaveType.label} ต้องลาล่วงหน้าอย่างน้อย ${selectedLeaveType.advance_days} วัน (คุณลาล่วงหน้า ${diffDays} วัน)`,\n            life: 5000\n          })\n          return\n        }\n      }\n\n      if (this.formData.startDateTime && this.formData.endDateTime) {\n        if (new Date(this.formData.endDateTime) < new Date(this.formData.startDateTime)) {\n          this.$toast.add({\n            severity: 'error',\n            summary: 'วันที่ไม่ถูกต้อง',\n            detail: 'วันสิ้นสุดต้องไม่ก่อนวันเริ่มลา',\n            life: 4000\n          })\n          return\n        }\n      }\n\n      try {\n        // Upload files first if any\n        let uploadedFiles = []\n        if (this.formData.attachments && this.formData.attachments.length > 0) {\n          const formData = new FormData()\n          this.formData.attachments.forEach(file => {\n            formData.append('files', file)\n          })\n          \n          const uploadResponse = await axios.post('/api/files/upload', formData, {\n            headers: {\n              'Content-Type': 'multipart/form-data'\n            }\n          })\n          uploadedFiles = uploadResponse.data.files\n        }\n\n        // Calculate total days\n        const totalDays = this.calculateTotalDays();\n        \n        // Prepare data for API\n        const leaveData = {\n          user_id: localStorage.getItem('soc_user_id'),\n          leave_type: this.formData.leaveType,\n          start_datetime: this.formatDateTime(this.formData.startDateTime),\n          end_datetime: this.formatDateTime(this.formData.endDateTime),\n          total_days: totalDays,\n          reason: this.formData.reason || 'ไม่ระบุ',\n          has_delegation: this.formData.delegationOption === 'yes',\n          delegate_name: this.formData.delegateName || null,\n          delegate_position: this.formData.delegatePosition || null,\n          delegate_department: this.formData.delegateDepartment || null,\n          delegate_contact: this.formData.delegateContact || null,\n          work_details: this.formData.workDetails || null,\n          attachments: uploadedFiles\n        }\n\n        // Send to backend\n        const response = await axios.post('/api/leave', leaveData, {\n          headers: {\n          }\n        })\n        \n        this.$toast.add({\n          severity: 'success',\n          summary: 'สำเร็จ',\n          detail: 'บันทึกคำขอลางานเรียบร้อยแล้ว',\n          life: 3000\n        })\n\n        this.$emit('submit-leave', response.data)\n        this.resetForm()\n        \n      } catch (error) {\n        \n        let errorMessage = 'กรุณาลองใหม่อีกครั้ง หรือติดต่อผู้ดูแลระบบ'\n        \n        if (error.response?.data?.error) {\n          errorMessage = error.response.data.error\n        }\n        \n        this.$toast.add({\n          severity: 'error',\n          summary: 'บันทึกไม่สำเร็จ',\n          detail: errorMessage,\n          life: 5000\n        })\n      }\n    },\n    calculateTotalDays() {\n      if (this.formData.startDateTime && this.formData.endDateTime) {\n        const start = new Date(this.formData.startDateTime)\n        const end = new Date(this.formData.endDateTime)\n        \n        const hoursPerDay = 8\n        let totalHours = 0\n        \n        const startDate = new Date(start)\n        startDate.setHours(0, 0, 0, 0)\n        const endDate = new Date(end)\n        endDate.setHours(0, 0, 0, 0)\n        \n        if (startDate.getTime() === endDate.getTime()) {\n          // วันเดียวกัน\n          totalHours = this.calculateWorkHours(start, end)\n        } else {\n          // หลายวัน\n          const current = new Date(startDate)\n          while (current <= endDate) {\n            const day = current.getDay()\n            if (day !== 0 && day !== 6) {\n              if (current.getTime() === startDate.getTime()) {\n                const dayEnd = new Date(current)\n                dayEnd.setHours(18, 0, 0, 0)\n                totalHours += this.calculateWorkHours(start, dayEnd)\n              } else if (current.getTime() === endDate.getTime()) {\n                const dayStart = new Date(current)\n                dayStart.setHours(9, 0, 0, 0)\n                totalHours += this.calculateWorkHours(dayStart, end)\n              } else {\n                totalHours += hoursPerDay\n              }\n            }\n            current.setDate(current.getDate() + 1)\n          }\n        }\n        \n        return parseFloat((totalHours / hoursPerDay).toFixed(2))\n      }\n      return 0\n    },\n    formatDateTime(date) {\n      if (!date) return null\n      return new Date(date).toISOString()\n    },\n    resetForm() {\n      this.formData = {\n        leaveType: '',\n        startDate: null,\n        startTime: null,\n        endDate: null,\n        endTime: null,\n        startDateTime: null,\n        endDateTime: null,\n        reason: '',\n        delegationOption: 'no',\n        delegateName: '',\n        delegatePosition: '',\n        delegateDepartment: '',\n        delegateContact: '',\n        workDetails: '',\n        attachments: []\n      }\n      this.selectedDelegate = null\n    },\n    handleFileUpload(event) {\n      const files = Array.from(event.target.files)\n      this.formData.attachments = [...this.formData.attachments, ...files]\n    },\n    removeFile(index) {\n      this.formData.attachments.splice(index, 1)\n    },\n    async loadUsers() {\n      try {\n        const response = await axios.get('/api/users')\n        \n        if (response.data && Array.isArray(response.data)) {\n          // กรองผู้ใช้ปัจจุบันออก\n          const currentUserName = this.currentUserName\n          this.users = response.data\n            .filter(user => {\n              const userName = `${user.firstname} ${user.lastname}`.trim()\n              return userName !== currentUserName\n            })\n            .map(user => ({\n              ...user,\n              displayName: `${user.firstname} ${user.lastname}`.trim()\n            }))\n          this.filteredUsers = this.users.slice(0, this.maxDisplayUsers)\n        } else {\n          this.setFallbackUsers()\n        }\n      } catch (error) {\n        this.setFallbackUsers()\n      }\n    },\n    setFallbackUsers() {\n      this.users = [\n        { id: 1, username: 'admin', firstname: 'Admin', lastname: 'User', role: 'admin', displayName: 'Admin User' },\n        { id: 2, username: 'hr', firstname: 'HR', lastname: 'Manager', role: 'hr', displayName: 'HR Manager' },\n        { id: 3, username: 'john', firstname: 'John', lastname: 'Doe', role: 'user', displayName: 'John Doe' }\n      ]\n      this.filteredUsers = this.users\n    },\n    searchUsers(event) {\n      const query = event.query.toLowerCase().trim()\n      \n      if (query === '') {\n        // แสดงแค่ 50 คนแรกเมื่อไม่มีการค้นหา\n        this.filteredUsers = this.users.slice(0, this.maxDisplayUsers)\n      } else {\n        // ค้นหาและจำกัดผลลัพธ์\n        const filtered = this.users.filter(user => \n          user.displayName.toLowerCase().includes(query) ||\n          user.username.toLowerCase().includes(query) ||\n          (user.position && user.position.toLowerCase().includes(query)) ||\n          (user.department && user.department.toLowerCase().includes(query))\n        )\n        this.filteredUsers = filtered.slice(0, this.maxDisplayUsers)\n      }\n    },\n    showAllUsers() {\n      // แสดงแค่ 50 คนแรกเมื่อคลิก dropdown\n      this.filteredUsers = this.users.slice(0, this.maxDisplayUsers)\n    },\n    onDelegateSelect(event) {\n      const user = event.value\n      if (user) {\n        this.formData.delegateName = user.displayName\n        this.formData.delegatePosition = user.position || ''\n        this.formData.delegateDepartment = user.department || ''\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.quota-display {\n  margin-top: 0.5rem;\n  padding: 0.75rem;\n  background: #f8f9fa;\n  border-radius: 6px;\n  border-left: 4px solid #007bff;\n}\n\n.quota-info {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 0.9rem;\n}\n\n.quota-label {\n  color: #6c757d;\n  font-weight: 500;\n}\n\n.quota-value {\n  font-weight: bold;\n  font-size: 1rem;\n}\n\n.quota-value.quota-normal {\n  color: #28a745;\n}\n\n.quota-value.quota-low {\n  color: #ffc107;\n}\n\n.quota-value.quota-zero {\n  color: #dc3545;\n}\n\n.quota-total {\n  color: #6c757d;\n  font-size: 0.85rem;\n}\n\n.form-card {\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);\n  border: 1px solid #e9ecef;\n}\n\n.leave-form {\n  padding: 1rem;\n}\n\n.form-grid {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 1.5rem;\n  margin-bottom: 1.5rem;\n}\n\n.full-width {\n  grid-column: 1 / -1;\n}\n\n.input-group {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n.date-range-group {\n  display: flex;\n  flex-direction: row;\n  gap: 1rem;\n}\n\n.datetime-picker {\n  display: flex;\n  gap: 0.5rem;\n  width: 100%;\n}\n\n.datetime-picker .date-only {\n  flex: 1;\n}\n\n.datetime-picker .time-dropdown {\n  flex: 0 0 100px;\n}\n\n:deep(.datetime-picker .p-calendar),\n:deep(.datetime-picker .p-dropdown) {\n  width: 100% !important;\n}\n\n@media (max-width: 768px) {\n  .datetime-picker .time-dropdown {\n    flex: 0 0 90px;\n  }\n}\n\n.input-label {\n  font-weight: 500;\n  color: #495057;\n  font-size: 0.9rem;\n}\n\n.corporate-input,\n.corporate-dropdown {\n  border: 2px solid #e9ecef;\n  border-radius: 6px;\n  padding: 0.75rem;\n  font-size: 1rem;\n  transition: all 0.3s ease;\n}\n\n.corporate-input:focus,\n.corporate-dropdown:focus {\n  border-color: #28a745;\n  box-shadow: 0 0 0 3px rgba(40, 167, 69, 0.1);\n}\n\n.readonly-field {\n  background: #f8f9fa;\n  color: #6c757d;\n}\n\n.section-divider {\n  grid-column: 1 / -1;\n  margin: 1rem 0;\n  padding: 1rem 0;\n  border-top: 2px solid #e9ecef;\n}\n\n.section-title {\n  margin: 0;\n  color: #495057;\n  font-size: 1.1rem;\n  font-weight: 600;\n}\n\n.checkbox-group {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  padding: 1rem 0;\n}\n\n.checkbox-label {\n  font-weight: 600;\n  color: #495057;\n  font-size: 1rem;\n  cursor: pointer;\n}\n\n.file-upload-wrapper {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n.file-input {\n  display: none;\n}\n\n.file-list {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  margin-top: 0.75rem;\n  padding: 0.75rem;\n  background: #f8f9fa;\n  border-radius: 6px;\n  border: 1px solid #e9ecef;\n}\n\n.file-item {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  padding: 0.5rem;\n  background: white;\n  border-radius: 4px;\n  border: 1px solid #e9ecef;\n}\n\n.file-item i {\n  color: #6c757d;\n  font-size: 1rem;\n}\n\n.file-name {\n  flex: 1;\n  font-size: 0.9rem;\n  color: #495057;\n  word-break: break-all;\n}\n\n.form-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 1rem;\n  margin-top: 1.5rem;\n}\n\n.form-actions .p-button {\n  min-width: 140px;\n  padding: 0.75rem 1.5rem;\n  font-weight: 500;\n}\n\n@media (max-width: 768px) {\n  .form-grid {\n    grid-template-columns: 1fr;\n  }\n\n  .form-actions {\n    flex-direction: column;\n  }\n\n  .leave-form {\n    padding: 0.5rem;\n  }\n\n  .corporate-input,\n  .corporate-dropdown {\n    padding: 0.6rem;\n    font-size: 0.9rem;\n  }\n\n  .input-label {\n    font-size: 0.85rem;\n  }\n\n  .checkbox-label {\n    font-size: 0.9rem;\n  }\n\n  .file-list {\n    padding: 0.5rem;\n  }\n\n  .file-item {\n    padding: 0.4rem;\n  }\n\n  .file-name {\n    font-size: 0.85rem;\n  }\n}\n\n/* DateTime input styling */\n.datetime-inputs {\n  display: flex;\n  gap: 0.5rem;\n}\n\n.date-input {\n  flex: 2;\n}\n\n.time-input {\n  flex: 1;\n}\n\n@media (max-width: 768px) {\n  .datetime-inputs {\n    flex-direction: column;\n    gap: 0.5rem;\n  }\n  \n  .date-input, .time-input {\n    flex: 1;\n  }\n}\n\n@media (max-width: 480px) {\n  .leave-form {\n    padding: 0.25rem;\n  }\n\n  .form-grid {\n    gap: 1rem;\n  }\n\n  .corporate-input,\n  .corporate-dropdown {\n    padding: 0.5rem;\n    font-size: 0.85rem;\n  }\n\n  .input-label {\n    font-size: 0.8rem;\n  }\n\n  .form-actions .p-button {\n    min-width: 100%;\n    padding: 0.6rem 1rem;\n    font-size: 0.9rem;\n  }\n\n  .checkbox-group {\n    padding: 0.75rem 0;\n  }\n\n  .checkbox-label {\n    font-size: 0.85rem;\n  }\n}\n\n.user-option {\n  display: flex;\n  flex-direction: column;\n  padding: 0.5rem 0;\n}\n\n.user-name {\n  font-weight: 500;\n  color: #495057;\n}\n\n.user-role {\n  font-size: 0.875rem;\n  color: #6c757d;\n  margin-top: 0.25rem;\n}\n\n.corporate-input :deep(.p-autocomplete-panel) {\n  max-height: 250px;\n  overflow-y: auto;\n}\n\n.quota-display {\n  margin-top: 0.5rem;\n  padding: 0.75rem;\n  background: #f8f9fa;\n  border-radius: 6px;\n  border-left: 4px solid #007bff;\n  min-height: 3rem;\n  display: flex;\n  align-items: center;\n}\n\n.quota-info {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 0.9rem;\n}\n\n.quota-label {\n  font-weight: 500;\n  color: #495057;\n}\n\n.quota-value {\n  font-weight: bold;\n  padding: 0.25rem 0.5rem;\n  border-radius: 4px;\n}\n\n.quota-normal {\n  background: #d4edda;\n  color: #155724;\n}\n\n.quota-low {\n  background: #fff3cd;\n  color: #856404;\n}\n\n.quota-zero {\n  background: #f8d7da;\n  color: #721c24;\n}\n\n.quota-total {\n  color: #6c757d;\n  font-size: 0.85rem;\n}\n\n.leave-type-option {\n  display: flex;\n  flex-direction: column;\n  padding: 0.5rem 0;\n  gap: 0.25rem;\n}\n\n.disabled-option {\n  background-color: #f8f9fa !important;\n  color: #6c757d !important;\n  cursor: not-allowed !important;\n}\n\n.quota-status {\n  font-size: 0.75rem;\n  color: #dc3545;\n  font-weight: 500;\n  background: #f8d7da;\n  padding: 0.2rem 0.4rem;\n  border-radius: 3px;\n}\n\n.quota-placeholder {\n  background: #f8f9fa;\n  border-left: 4px solid #dee2e6;\n}\n\n.quota-placeholder-text {\n  color: #6c757d;\n  font-style: italic;\n  font-size: 0.9rem;\n}\n\n.time-hint {\n  color: #6c757d;\n  font-size: 0.75rem;\n  margin-top: 0.25rem;\n  display: block;\n}\n\n.leave-type-main {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n}\n\n.advance-hint {\n  display: block;\n  font-size: 0.75rem;\n  color: #f59e0b;\n  margin-top: 0.25rem;\n}\n\n.advance-days-warning {\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n  color: #f59e0b;\n  font-size: 0.8rem;\n  margin-top: 0.5rem;\n}\n\n.advance-days-warning i {\n  font-size: 0.9rem;\n}\n\n.date-cell {\n  width: 2.5rem;\n  height: 2.5rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n}\n\n.advance-day-blocked {\n  background-color: #f59e0b !important;\n  color: #fff !important;\n  font-weight: 600;\n  cursor: not-allowed;\n}\n\n.holiday-date {\n  background-color: #ef4444 !important;\n  color: #fff !important;\n  font-weight: 600;\n}\n\n.advance-calendar :deep(.p-datepicker-calendar td) {\n  padding: 0.25rem;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}