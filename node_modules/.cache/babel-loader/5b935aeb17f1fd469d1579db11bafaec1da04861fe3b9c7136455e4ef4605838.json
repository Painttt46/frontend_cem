{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, withCtx as _withCtx, renderList as _renderList, Fragment as _Fragment, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"form-grid\"\n};\nconst _hoisted_2 = {\n  class: \"input-group\"\n};\nconst _hoisted_3 = {\n  class: \"input-group\"\n};\nconst _hoisted_4 = {\n  class: \"input-group\"\n};\nconst _hoisted_5 = {\n  key: 0,\n  class: \"quota-status\"\n};\nconst _hoisted_6 = {\n  key: 0,\n  class: \"quota-info\"\n};\nconst _hoisted_7 = {\n  class: \"quota-total\"\n};\nconst _hoisted_8 = {\n  key: 1,\n  class: \"quota-placeholder-text\"\n};\nconst _hoisted_9 = {\n  class: \"input-group date-range-group\"\n};\nconst _hoisted_10 = {\n  class: \"date-field\"\n};\nconst _hoisted_11 = {\n  class: \"date-field\"\n};\nconst _hoisted_12 = {\n  class: \"input-group\"\n};\nconst _hoisted_13 = {\n  class: \"input-group full-width\"\n};\nconst _hoisted_14 = {\n  class: \"input-group full-width\"\n};\nconst _hoisted_15 = {\n  class: \"file-upload-wrapper\"\n};\nconst _hoisted_16 = {\n  key: 0,\n  class: \"file-list\"\n};\nconst _hoisted_17 = {\n  class: \"file-name\"\n};\nconst _hoisted_18 = {\n  class: \"input-group\"\n};\nconst _hoisted_19 = {\n  class: \"input-group\"\n};\nconst _hoisted_20 = {\n  class: \"user-option\"\n};\nconst _hoisted_21 = {\n  class: \"user-name\"\n};\nconst _hoisted_22 = {\n  class: \"user-role\"\n};\nconst _hoisted_23 = {\n  class: \"input-group\"\n};\nconst _hoisted_24 = {\n  class: \"input-group\"\n};\nconst _hoisted_25 = {\n  class: \"input-group full-width\"\n};\nconst _hoisted_26 = {\n  class: \"input-group full-width\"\n};\nconst _hoisted_27 = {\n  class: \"form-actions\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Toast = _resolveComponent(\"Toast\");\n  const _component_InputText = _resolveComponent(\"InputText\");\n  const _component_Dropdown = _resolveComponent(\"Dropdown\");\n  const _component_Calendar = _resolveComponent(\"Calendar\");\n  const _component_Textarea = _resolveComponent(\"Textarea\");\n  const _component_Button = _resolveComponent(\"Button\");\n  const _component_AutoComplete = _resolveComponent(\"AutoComplete\");\n  const _component_Divider = _resolveComponent(\"Divider\");\n  const _component_Card = _resolveComponent(\"Card\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(_component_Toast), _createVNode(_component_Card, {\n    class: \"form-card\"\n  }, {\n    content: _withCtx(() => [_createElementVNode(\"form\", {\n      onSubmit: _cache[10] || (_cache[10] = _withModifiers((...args) => $options.submitForm && $options.submitForm(...args), [\"prevent\"])),\n      class: \"leave-form\"\n    }, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[11] || (_cache[11] = _createElementVNode(\"label\", {\n      for: \"name\",\n      class: \"input-label\"\n    }, \"ชื่อ-นามสกุล\", -1)), _createVNode(_component_InputText, {\n      id: \"name\",\n      value: $options.currentUserName,\n      readonly: \"\",\n      class: \"corporate-input readonly-field\"\n    }, null, 8, [\"value\"])]), _createElementVNode(\"div\", _hoisted_3, [_cache[12] || (_cache[12] = _createElementVNode(\"label\", {\n      for: \"position\",\n      class: \"input-label\"\n    }, \"ตำแหน่ง\", -1)), _createVNode(_component_InputText, {\n      id: \"position\",\n      value: $options.currentUserPosition,\n      readonly: \"\",\n      class: \"corporate-input readonly-field\"\n    }, null, 8, [\"value\"])]), _createElementVNode(\"div\", _hoisted_4, [_cache[13] || (_cache[13] = _createElementVNode(\"label\", {\n      for: \"leaveType\",\n      class: \"input-label\"\n    }, \"ประเภทการลา *\", -1)), _createVNode(_component_Dropdown, {\n      modelValue: $data.formData.leaveType,\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.formData.leaveType = $event),\n      options: $options.leaveTypesWithQuota,\n      optionLabel: \"label\",\n      optionValue: \"value\",\n      optionDisabled: $options.optionDisabled,\n      class: \"corporate-dropdown\",\n      required: \"\",\n      onChange: $options.onLeaveTypeChange\n    }, {\n      option: _withCtx(slotProps => [_createElementVNode(\"div\", {\n        class: _normalizeClass([\"leave-type-option\", {\n          'disabled-option': slotProps.option.disabled\n        }])\n      }, [_createElementVNode(\"span\", null, _toDisplayString(slotProps.option.label), 1), slotProps.option.disabled ? (_openBlock(), _createElementBlock(\"span\", _hoisted_5, \"หมดโควต้า\")) : _createCommentVNode(\"\", true)], 2)]),\n      _: 1\n    }, 8, [\"modelValue\", \"options\", \"optionDisabled\", \"onChange\"])]), _createElementVNode(\"div\", {\n      class: _normalizeClass([\"quota-display\", {\n        'quota-placeholder': !$data.selectedQuota\n      }])\n    }, [$data.selectedQuota ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [_cache[14] || (_cache[14] = _createElementVNode(\"span\", {\n      class: \"quota-label\"\n    }, \"โควต้าคงเหลือ:\", -1)), _createElementVNode(\"span\", {\n      class: _normalizeClass([\"quota-value\", $options.getQuotaClass($data.selectedQuota.remainingDays)])\n    }, _toDisplayString($data.selectedQuota.remainingDays) + \" วัน \", 3), _createElementVNode(\"span\", _hoisted_7, \"(จาก \" + _toDisplayString($data.selectedQuota.quota) + \" วัน)\", 1)])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_8, \" เลือกประเภทการลาเพื่อดูโควต้า \"))], 2), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [_cache[15] || (_cache[15] = _createElementVNode(\"label\", {\n      for: \"startDateTime\",\n      class: \"input-label\"\n    }, \"วันเวลาเริ่มลา *\", -1)), _createVNode(_component_Calendar, {\n      modelValue: $data.formData.startDateTime,\n      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.formData.startDateTime = $event),\n      showTime: \"\",\n      hourFormat: \"24\",\n      dateFormat: \"dd/mm/yy\",\n      class: \"corporate-input\",\n      manualInput: true,\n      stepHour: 1,\n      stepMinute: 1,\n      required: \"\"\n    }, null, 8, [\"modelValue\"])]), _createElementVNode(\"div\", _hoisted_11, [_cache[16] || (_cache[16] = _createElementVNode(\"label\", {\n      for: \"endDateTime\",\n      class: \"input-label\"\n    }, \"วันเวลาสิ้นสุดการลา *\", -1)), _createVNode(_component_Calendar, {\n      modelValue: $data.formData.endDateTime,\n      \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.formData.endDateTime = $event),\n      showTime: \"\",\n      hourFormat: \"24\",\n      dateFormat: \"dd/mm/yy\",\n      minDate: $data.formData.startDateTime,\n      class: \"corporate-input\",\n      manualInput: true,\n      stepHour: 1,\n      stepMinute: 1,\n      required: \"\"\n    }, null, 8, [\"modelValue\", \"minDate\"])])]), _createElementVNode(\"div\", _hoisted_12, [_cache[17] || (_cache[17] = _createElementVNode(\"label\", {\n      for: \"totalDays\",\n      class: \"input-label\"\n    }, \"จำนวนวันลา\", -1)), _createVNode(_component_InputText, {\n      id: \"totalDays\",\n      value: $options.calculateDays,\n      readonly: \"\",\n      class: \"corporate-input readonly-field\"\n    }, null, 8, [\"value\"])]), _createElementVNode(\"div\", _hoisted_13, [_cache[18] || (_cache[18] = _createElementVNode(\"label\", {\n      for: \"reason\",\n      class: \"input-label\"\n    }, \"เหตุผลการลา\", -1)), _createVNode(_component_Textarea, {\n      id: \"reason\",\n      modelValue: $data.formData.reason,\n      \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.formData.reason = $event),\n      rows: \"3\",\n      class: \"corporate-input\"\n    }, null, 8, [\"modelValue\"])]), _createElementVNode(\"div\", _hoisted_14, [_cache[20] || (_cache[20] = _createElementVNode(\"label\", {\n      class: \"input-label\"\n    }, \"แนบเอกสารประกอบ (Attachments)\", -1)), _createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"input\", {\n      ref: \"fileInput\",\n      onChange: _cache[4] || (_cache[4] = (...args) => $options.handleFileUpload && $options.handleFileUpload(...args)),\n      type: \"file\",\n      accept: \".pdf,.doc,.docx,.jpg,.jpeg,.png,.gif\",\n      multiple: \"\",\n      class: \"file-input\",\n      id: \"attachments\"\n    }, null, 544), _createVNode(_component_Button, {\n      type: \"button\",\n      label: $data.formData.attachments?.length > 0 ? `เลือกแล้ว ${$data.formData.attachments.length} ไฟล์` : 'เลือกไฟล์',\n      icon: \"pi pi-upload\",\n      severity: \"secondary\",\n      outlined: \"\",\n      onClick: _cache[5] || (_cache[5] = $event => _ctx.$refs.fileInput.click())\n    }, null, 8, [\"label\"])]), $data.formData.attachments?.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_16, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.formData.attachments, (file, index) => {\n      return _openBlock(), _createElementBlock(\"div\", {\n        key: index,\n        class: \"file-item\"\n      }, [_cache[19] || (_cache[19] = _createElementVNode(\"i\", {\n        class: \"pi pi-file\"\n      }, null, -1)), _createElementVNode(\"span\", _hoisted_17, _toDisplayString(file.name), 1), _createVNode(_component_Button, {\n        icon: \"pi pi-times\",\n        severity: \"danger\",\n        text: \"\",\n        size: \"small\",\n        onClick: $event => $options.removeFile(index)\n      }, null, 8, [\"onClick\"])]);\n    }), 128))])) : _createCommentVNode(\"\", true)]), _createElementVNode(\"div\", _hoisted_18, [_cache[21] || (_cache[21] = _createElementVNode(\"label\", {\n      for: \"delegationOption\",\n      class: \"input-label\"\n    }, \"มอบหมายงานระหว่างลา *\", -1)), _createVNode(_component_Dropdown, {\n      modelValue: $data.formData.delegationOption,\n      \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.formData.delegationOption = $event),\n      options: $data.delegationOptions,\n      optionLabel: \"label\",\n      optionValue: \"value\",\n      class: \"corporate-dropdown\",\n      required: \"\"\n    }, null, 8, [\"modelValue\", \"options\"])]), $data.formData.delegationOption === 'yes' ? (_openBlock(), _createElementBlock(_Fragment, {\n      key: 0\n    }, [_createElementVNode(\"div\", _hoisted_19, [_cache[22] || (_cache[22] = _createElementVNode(\"label\", {\n      for: \"delegateUser\",\n      class: \"input-label\"\n    }, \"ชื่อผู้รับผิดชอบงานแทน *\", -1)), _createVNode(_component_AutoComplete, {\n      modelValue: $data.selectedDelegate,\n      \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $data.selectedDelegate = $event),\n      suggestions: $data.filteredUsers,\n      onComplete: $options.searchUsers,\n      onItemSelect: $options.onDelegateSelect,\n      onDropdownClick: $options.showAllUsers,\n      optionLabel: \"displayName\",\n      placeholder: \"ค้นหาหรือเลือกพนักงาน...\",\n      class: \"corporate-input\",\n      dropdown: true,\n      forceSelection: true,\n      scrollHeight: 200,\n      required: \"\"\n    }, {\n      option: _withCtx(slotProps => [_createElementVNode(\"div\", _hoisted_20, [_createElementVNode(\"div\", _hoisted_21, _toDisplayString(slotProps.option.displayName), 1), _createElementVNode(\"div\", _hoisted_22, _toDisplayString(slotProps.option.position) + \" - \" + _toDisplayString(slotProps.option.department), 1)])]),\n      _: 1\n    }, 8, [\"modelValue\", \"suggestions\", \"onComplete\", \"onItemSelect\", \"onDropdownClick\"])]), _createElementVNode(\"div\", _hoisted_23, [_cache[23] || (_cache[23] = _createElementVNode(\"label\", {\n      for: \"delegatePosition\",\n      class: \"input-label\"\n    }, \"ตำแหน่ง\", -1)), _createVNode(_component_InputText, {\n      id: \"delegatePosition\",\n      value: $data.formData.delegatePosition,\n      readonly: \"\",\n      class: \"corporate-input readonly-field\"\n    }, null, 8, [\"value\"])]), _createElementVNode(\"div\", _hoisted_24, [_cache[24] || (_cache[24] = _createElementVNode(\"label\", {\n      for: \"delegateDepartment\",\n      class: \"input-label\"\n    }, \"แผนก\", -1)), _createVNode(_component_InputText, {\n      id: \"delegateDepartment\",\n      value: $data.formData.delegateDepartment,\n      readonly: \"\",\n      class: \"corporate-input readonly-field\"\n    }, null, 8, [\"value\"])]), _createElementVNode(\"div\", _hoisted_25, [_cache[25] || (_cache[25] = _createElementVNode(\"label\", {\n      for: \"delegateContact\",\n      class: \"input-label\"\n    }, \"ช่องทางติดต่อ *\", -1)), _createVNode(_component_InputText, {\n      id: \"delegateContact\",\n      modelValue: $data.formData.delegateContact,\n      \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $data.formData.delegateContact = $event),\n      placeholder: \"เบอร์โทร, อีเมล, หรือช่องทางอื่นๆ\",\n      required: \"\",\n      class: \"corporate-input\"\n    }, null, 8, [\"modelValue\"])]), _createElementVNode(\"div\", _hoisted_26, [_cache[26] || (_cache[26] = _createElementVNode(\"label\", {\n      for: \"workDetails\",\n      class: \"input-label\"\n    }, \"รายละเอียดงานที่มอบหมาย *\", -1)), _createVNode(_component_Textarea, {\n      id: \"workDetails\",\n      modelValue: $data.formData.workDetails,\n      \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => $data.formData.workDetails = $event),\n      rows: \"4\",\n      placeholder: \"ระบุรายละเอียดงานที่ต้องดำเนินการระหว่างลา...\",\n      required: \"\",\n      class: \"corporate-input\"\n    }, null, 8, [\"modelValue\"])])], 64)) : _createCommentVNode(\"\", true)]), _createVNode(_component_Divider), _createElementVNode(\"div\", _hoisted_27, [_createVNode(_component_Button, {\n      type: \"button\",\n      label: \"ล้างข้อมูล\",\n      icon: \"pi pi-refresh\",\n      severity: \"secondary\",\n      outlined: \"\",\n      onClick: $options.resetForm\n    }, null, 8, [\"onClick\"]), _createVNode(_component_Button, {\n      type: \"submit\",\n      label: \"ส่งคำขอลางาน\",\n      icon: \"pi pi-check\",\n      severity: \"success\"\n    })])], 32)]),\n    _: 1\n  })]);\n}","map":{"version":3,"names":["class","_createElementBlock","_createVNode","_component_Toast","_component_Card","content","_withCtx","_createElementVNode","onSubmit","_cache","_withModifiers","args","$options","submitForm","_hoisted_1","_hoisted_2","for","_component_InputText","id","value","currentUserName","readonly","_hoisted_3","currentUserPosition","_hoisted_4","_component_Dropdown","$data","formData","leaveType","$event","options","leaveTypesWithQuota","optionLabel","optionValue","optionDisabled","required","onChange","onLeaveTypeChange","option","slotProps","_normalizeClass","disabled","_toDisplayString","label","_hoisted_5","selectedQuota","_hoisted_6","getQuotaClass","remainingDays","_hoisted_7","quota","_hoisted_8","_hoisted_9","_hoisted_10","_component_Calendar","startDateTime","showTime","hourFormat","dateFormat","manualInput","stepHour","stepMinute","_hoisted_11","endDateTime","minDate","_hoisted_12","calculateDays","_hoisted_13","_component_Textarea","reason","rows","_hoisted_14","_hoisted_15","ref","handleFileUpload","type","accept","multiple","_component_Button","attachments","length","icon","severity","outlined","onClick","_ctx","$refs","fileInput","click","_hoisted_16","_Fragment","_renderList","file","index","key","_hoisted_17","name","text","size","removeFile","_hoisted_18","delegationOption","delegationOptions","_hoisted_19","_component_AutoComplete","selectedDelegate","suggestions","filteredUsers","onComplete","searchUsers","onItemSelect","onDelegateSelect","onDropdownClick","showAllUsers","placeholder","dropdown","forceSelection","scrollHeight","_hoisted_20","_hoisted_21","displayName","_hoisted_22","position","department","_hoisted_23","delegatePosition","_hoisted_24","delegateDepartment","_hoisted_25","delegateContact","_hoisted_26","workDetails","_component_Divider","_hoisted_27","resetForm"],"sources":["D:\\GEN-T\\WEB\\GenT-CEM\\frontend_cem\\src\\views\\leave_work\\LeaveForm.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <Toast />\r\n    <Card class=\"form-card\">\r\n    <template #content>\r\n      <form @submit.prevent=\"submitForm\" class=\"leave-form\">\r\n        <div class=\"form-grid\">\r\n          <div class=\"input-group\">\r\n            <label for=\"name\" class=\"input-label\">ชื่อ-นามสกุล</label>\r\n            <InputText id=\"name\" :value=\"currentUserName\" readonly class=\"corporate-input readonly-field\" />\r\n          </div>\r\n\r\n          <div class=\"input-group\">\r\n            <label for=\"position\" class=\"input-label\">ตำแหน่ง</label>\r\n            <InputText id=\"position\" :value=\"currentUserPosition\" readonly class=\"corporate-input readonly-field\" />\r\n          </div>\r\n\r\n          <div class=\"input-group\">\r\n            <label for=\"leaveType\" class=\"input-label\">ประเภทการลา *</label>\r\n            <Dropdown v-model=\"formData.leaveType\" :options=\"leaveTypesWithQuota\" optionLabel=\"label\" optionValue=\"value\"\r\n              :optionDisabled=\"optionDisabled\" class=\"corporate-dropdown\" required @change=\"onLeaveTypeChange\">\r\n              <template #option=\"slotProps\">\r\n                <div class=\"leave-type-option\" :class=\"{ 'disabled-option': slotProps.option.disabled }\">\r\n                  <span>{{ slotProps.option.label }}</span>\r\n                  <span v-if=\"slotProps.option.disabled\" class=\"quota-status\">หมดโควต้า</span>\r\n                </div>\r\n              </template>\r\n            </Dropdown>\r\n          </div>\r\n\r\n          <!-- Quota Display -->\r\n          <div class=\"quota-display\" :class=\"{ 'quota-placeholder': !selectedQuota }\">\r\n            <div v-if=\"selectedQuota\" class=\"quota-info\">\r\n              <span class=\"quota-label\">โควต้าคงเหลือ:</span>\r\n              <span class=\"quota-value\" :class=\"getQuotaClass(selectedQuota.remainingDays)\">\r\n                {{ selectedQuota.remainingDays }} วัน\r\n              </span>\r\n              <span class=\"quota-total\">(จาก {{ selectedQuota.quota }} วัน)</span>\r\n            </div>\r\n            <div v-else class=\"quota-placeholder-text\">\r\n              เลือกประเภทการลาเพื่อดูโควต้า\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"input-group date-range-group\">\r\n            <div class=\"date-field\">\r\n              <label for=\"startDateTime\" class=\"input-label\">วันเวลาเริ่มลา *</label>\r\n              <Calendar v-model=\"formData.startDateTime\" showTime hourFormat=\"24\" dateFormat=\"dd/mm/yy\"\r\n                class=\"corporate-input\" :manualInput=\"true\" :stepHour=\"1\" :stepMinute=\"1\" required />\r\n            </div>\r\n            <div class=\"date-field\">\r\n              <label for=\"endDateTime\" class=\"input-label\">วันเวลาสิ้นสุดการลา *</label>\r\n              <Calendar v-model=\"formData.endDateTime\" showTime hourFormat=\"24\" dateFormat=\"dd/mm/yy\"\r\n                :minDate=\"formData.startDateTime\" class=\"corporate-input\" :manualInput=\"true\" :stepHour=\"1\" :stepMinute=\"1\" required />\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"input-group\">\r\n            <label for=\"totalDays\" class=\"input-label\">จำนวนวันลา</label>\r\n            <InputText id=\"totalDays\" :value=\"calculateDays\" readonly class=\"corporate-input readonly-field\" />\r\n          </div>\r\n\r\n          <div class=\"input-group full-width\">\r\n            <label for=\"reason\" class=\"input-label\">เหตุผลการลา</label>\r\n            <Textarea id=\"reason\" v-model=\"formData.reason\" rows=\"3\" class=\"corporate-input\" />\r\n          </div>\r\n\r\n          <div class=\"input-group full-width\">\r\n            <label class=\"input-label\">แนบเอกสารประกอบ (Attachments)</label>\r\n            <div class=\"file-upload-wrapper\">\r\n              <input ref=\"fileInput\" @change=\"handleFileUpload\" type=\"file\"\r\n                accept=\".pdf,.doc,.docx,.jpg,.jpeg,.png,.gif\" multiple class=\"file-input\" id=\"attachments\">\r\n              <Button type=\"button\"\r\n                :label=\"formData.attachments?.length > 0 ? `เลือกแล้ว ${formData.attachments.length} ไฟล์` : 'เลือกไฟล์'\"\r\n                icon=\"pi pi-upload\" severity=\"secondary\" outlined @click=\"$refs.fileInput.click()\" />\r\n            </div>\r\n            <div v-if=\"formData.attachments?.length > 0\" class=\"file-list\">\r\n              <div v-for=\"(file, index) in formData.attachments\" :key=\"index\" class=\"file-item\">\r\n                <i class=\"pi pi-file\"></i>\r\n                <span class=\"file-name\">{{ file.name }}</span>\r\n                <Button icon=\"pi pi-times\" severity=\"danger\" text size=\"small\" @click=\"removeFile(index)\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"input-group\">\r\n            <label for=\"delegationOption\" class=\"input-label\">มอบหมายงานระหว่างลา *</label>\r\n            <Dropdown v-model=\"formData.delegationOption\" :options=\"delegationOptions\" optionLabel=\"label\"\r\n              optionValue=\"value\" class=\"corporate-dropdown\" required />\r\n          </div>\r\n\r\n          <template v-if=\"formData.delegationOption === 'yes'\">\r\n            <div class=\"input-group\">\r\n              <label for=\"delegateUser\" class=\"input-label\">ชื่อผู้รับผิดชอบงานแทน *</label>\r\n              <AutoComplete \r\n                v-model=\"selectedDelegate\" \r\n                :suggestions=\"filteredUsers\" \r\n                @complete=\"searchUsers\" \r\n                @item-select=\"onDelegateSelect\"\r\n                @dropdown-click=\"showAllUsers\"\r\n                optionLabel=\"displayName\" \r\n                placeholder=\"ค้นหาหรือเลือกพนักงาน...\" \r\n                class=\"corporate-input\"\r\n                :dropdown=\"true\"\r\n                :forceSelection=\"true\"\r\n                :scrollHeight=\"200\"\r\n                required\r\n              >\r\n                <template #option=\"slotProps\">\r\n                  <div class=\"user-option\">\r\n                    <div class=\"user-name\">{{ slotProps.option.displayName }}</div>\r\n                    <div class=\"user-role\">{{ slotProps.option.position }} - {{ slotProps.option.department }}</div>\r\n                  </div>\r\n                </template>\r\n              </AutoComplete>\r\n            </div>\r\n\r\n            <div class=\"input-group\">\r\n              <label for=\"delegatePosition\" class=\"input-label\">ตำแหน่ง</label>\r\n              <InputText \r\n                id=\"delegatePosition\" \r\n                :value=\"formData.delegatePosition\" \r\n                readonly \r\n                class=\"corporate-input readonly-field\" \r\n              />\r\n            </div>\r\n\r\n            <div class=\"input-group\">\r\n              <label for=\"delegateDepartment\" class=\"input-label\">แผนก</label>\r\n              <InputText \r\n                id=\"delegateDepartment\" \r\n                :value=\"formData.delegateDepartment\" \r\n                readonly \r\n                class=\"corporate-input readonly-field\" \r\n              />\r\n            </div>\r\n            <div class=\"input-group full-width\">\r\n              <label for=\"delegateContact\" class=\"input-label\">ช่องทางติดต่อ *</label>\r\n              <InputText id=\"delegateContact\" v-model=\"formData.delegateContact\"\r\n                placeholder=\"เบอร์โทร, อีเมล, หรือช่องทางอื่นๆ\" required class=\"corporate-input\" />\r\n            </div>\r\n\r\n            <div class=\"input-group full-width\">\r\n              <label for=\"workDetails\" class=\"input-label\">รายละเอียดงานที่มอบหมาย *</label>\r\n              <Textarea id=\"workDetails\" v-model=\"formData.workDetails\" rows=\"4\" \r\n                placeholder=\"ระบุรายละเอียดงานที่ต้องดำเนินการระหว่างลา...\" \r\n                required class=\"corporate-input\" />\r\n            </div>\r\n\r\n          </template>\r\n        </div>\r\n\r\n        <Divider />\r\n\r\n        <div class=\"form-actions\">\r\n          <Button type=\"button\" label=\"ล้างข้อมูล\" icon=\"pi pi-refresh\" severity=\"secondary\" outlined\r\n            @click=\"resetForm\" />\r\n          <Button type=\"submit\" label=\"ส่งคำขอลางาน\" icon=\"pi pi-check\" severity=\"success\" />\r\n        </div>\r\n      </form>\r\n    </template>\r\n  </Card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport AutoComplete from 'primevue/autocomplete'\r\n\r\nexport default {\r\n  name: 'LeaveForm',\r\n  components: {\r\n    AutoComplete\r\n  },\r\n  async created() {\r\n    await this.loadLeaveTypes();\r\n    await this.loadUsers();\r\n    await this.loadQuotaData();\r\n    // Initialize with limited users\r\n    this.filteredUsers = this.users.slice(0, this.maxDisplayUsers);\r\n  },\r\n  data() {\r\n    return {\r\n      formData: {\r\n        leaveType: '',\r\n        startDateTime: null,\r\n        endDateTime: null,\r\n        reason: '',\r\n        delegationOption: 'no',\r\n        delegateName: '',\r\n        delegatePosition: '',\r\n        delegateDepartment: '',\r\n        delegateContact: '',\r\n        workDetails: '',\r\n        attachments: []\r\n      },\r\n      leaveTypes: [],\r\n      delegationOptions: [\r\n        { label: 'ไม่มีการมอบหมายงาน', value: 'no' },\r\n        { label: 'มีการมอบหมายงาน', value: 'yes' }\r\n      ],\r\n      users: [],\r\n      filteredUsers: [],\r\n      selectedDelegate: null,\r\n      maxDisplayUsers: 50,\r\n      quotaData: {},\r\n      selectedQuota: null\r\n    }\r\n  },\r\n  computed: {\r\n    currentUserName() {\r\n      const firstName = localStorage.getItem('soc_firstname') || ''\r\n      const lastName = localStorage.getItem('soc_lastname') || ''\r\n      return `${firstName} ${lastName}`.trim()\r\n    },\r\n    currentUserRole() {\r\n      return localStorage.getItem('soc_role') || ''\r\n    },\r\n    currentUserPosition() {\r\n      return localStorage.getItem('soc_position') || 'ไม่ระบุตำแหน่ง'\r\n    },\r\n    calculateDays() {\r\n      if (this.formData.startDateTime && this.formData.endDateTime) {\r\n        const start = new Date(this.formData.startDateTime)\r\n        const end = new Date(this.formData.endDateTime)\r\n        \r\n        // Set time to start of day for accurate day calculation\r\n        start.setHours(0, 0, 0, 0)\r\n        end.setHours(0, 0, 0, 0)\r\n        \r\n        const diffTime = end - start\r\n        const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24)) + 1\r\n        return diffDays + ' วัน'\r\n      }\r\n      return '0 วัน'\r\n    },\r\n    leaveTypesWithQuota() {\r\n      return this.leaveTypes.map(type => {\r\n        const quota = this.quotaData[type.value];\r\n        const disabled = quota && quota.remainingDays <= 0;\r\n        return {\r\n          ...type,\r\n          disabled: disabled\r\n        };\r\n      });\r\n    }\r\n  },\r\n  methods: {\r\n    async loadLeaveTypes() {\r\n      try {\r\n        const response = await axios.get('/api/leave/leave-types');\r\n        this.leaveTypes = response.data;\r\n      } catch (error) {\r\n        console.error('Error loading leave types:', error);\r\n        // Fallback to default types if API fails\r\n        this.leaveTypes = [\r\n          { label: 'ลาป่วย', value: 'sick' },\r\n          { label: 'ลากิจ', value: 'personal' },\r\n          { label: 'ลาพักร้อน', value: 'vacation' }\r\n        ];\r\n      }\r\n    },\r\n    optionDisabled(option) {\r\n      return option.disabled;\r\n    },\r\n\r\n    async loadQuotaData() {\r\n      try {\r\n        const userId = localStorage.getItem('soc_user_id');\r\n        const response = await axios.get(`/api/leave/quota/${userId}`);\r\n        this.quotaData = response.data;\r\n        \r\n        // Update selected quota if leave type is already selected\r\n        if (this.formData.leaveType) {\r\n          this.selectedQuota = this.quotaData[this.formData.leaveType];\r\n        }\r\n      } catch (error) {\r\n        this.$toast.add({\r\n          severity: 'error',\r\n          summary: 'ข้อผิดพลาด',\r\n          detail: 'ไม่สามารถโหลดข้อมูลโควต้าได้',\r\n          life: 3000\r\n        });\r\n      }\r\n    },\r\n\r\n    onLeaveTypeChange() {\r\n      if (this.formData.leaveType && this.quotaData[this.formData.leaveType]) {\r\n        this.selectedQuota = this.quotaData[this.formData.leaveType];\r\n      } else {\r\n        this.selectedQuota = null;\r\n      }\r\n    },\r\n\r\n    getQuotaClass(remainingDays) {\r\n      if (remainingDays <= 0) return 'quota-zero';\r\n      if (remainingDays <= 2) return 'quota-low';\r\n      return 'quota-normal';\r\n    },\r\n\r\n    async submitForm() {\r\n      if (!this.formData.leaveType) {\r\n        this.$toast.add({\r\n          severity: 'error',\r\n          summary: 'ข้อผิดพลาด',\r\n          detail: 'กรุณาเลือกประเภทการลา',\r\n          life: 3000\r\n        })\r\n        return\r\n      }\r\n\r\n      // Check quota before submitting\r\n      if (this.selectedQuota && this.selectedQuota.remainingDays <= 0) {\r\n        this.$toast.add({\r\n          severity: 'error',\r\n          summary: 'ข้อผิดพลาด',\r\n          detail: 'โควต้าการลาประเภทนี้หมดแล้ว',\r\n          life: 3000\r\n        })\r\n        return\r\n      }\r\n\r\n      // Check if requested days exceed remaining quota\r\n      const requestedDays = this.calculateTotalDays();\r\n      if (this.selectedQuota && requestedDays > this.selectedQuota.remainingDays) {\r\n        this.$toast.add({\r\n          severity: 'error',\r\n          summary: 'ข้อผิดพลาด',\r\n          detail: `จำนวนวันที่ขอลา (${requestedDays} วัน) เกินโควต้าคงเหลือ (${this.selectedQuota.remainingDays} วัน)`,\r\n          life: 3000\r\n        })\r\n        return\r\n      }\r\n\r\n      if (this.formData.startDateTime && this.formData.endDateTime) {\r\n        if (new Date(this.formData.endDateTime) < new Date(this.formData.startDateTime)) {\r\n          this.$toast.add({\r\n            severity: 'error',\r\n            summary: 'ข้อผิดพลาด',\r\n            detail: 'วันสิ้นสุดการลาต้องไม่เป็นวันก่อนวันเริ่มลา',\r\n            life: 3000\r\n          })\r\n          return\r\n        }\r\n      }\r\n\r\n      try {\r\n        // Upload files first if any\r\n        let uploadedFiles = []\r\n        if (this.formData.attachments && this.formData.attachments.length > 0) {\r\n          const formData = new FormData()\r\n          this.formData.attachments.forEach(file => {\r\n            formData.append('files', file)\r\n          })\r\n          \r\n          const uploadResponse = await axios.post('/api/files/upload', formData, {\r\n            headers: {\r\n              'Content-Type': 'multipart/form-data'\r\n            }\r\n          })\r\n          uploadedFiles = uploadResponse.data.files\r\n        }\r\n\r\n        // Calculate total days\r\n        const totalDays = this.calculateTotalDays();\r\n        \r\n        // Prepare data for API\r\n        const leaveData = {\r\n          user_id: localStorage.getItem('soc_user_id'),\r\n          leave_type: this.formData.leaveType,\r\n          start_datetime: this.formatDateTime(this.formData.startDateTime),\r\n          end_datetime: this.formatDateTime(this.formData.endDateTime),\r\n          total_days: totalDays,\r\n          reason: this.formData.reason || 'ไม่ระบุ',\r\n          has_delegation: this.formData.delegationOption === 'yes',\r\n          delegate_name: this.formData.delegateName || null,\r\n          delegate_position: this.formData.delegatePosition || null,\r\n          delegate_department: this.formData.delegateDepartment || null,\r\n          delegate_contact: this.formData.delegateContact || null,\r\n          work_details: this.formData.workDetails || null,\r\n          attachments: uploadedFiles\r\n        }\r\n\r\n        // Send to backend\r\n        const response = await axios.post('/api/leave', leaveData, {\r\n          headers: {\r\n          }\r\n        })\r\n        \r\n        this.$toast.add({\r\n          severity: 'success',\r\n          summary: 'สำเร็จ',\r\n          detail: 'บันทึกคำขอลางานเรียบร้อยแล้ว',\r\n          life: 3000\r\n        })\r\n\r\n        this.$emit('submit-leave', response.data)\r\n        this.resetForm()\r\n        \r\n      } catch (error) {\r\n        \r\n        let errorMessage = 'ไม่สามารถบันทึกข้อมูลได้ กรุณาลองใหม่อีกครั้ง'\r\n        \r\n        if (error.response?.data?.error) {\r\n          errorMessage = error.response.data.error\r\n        } else if (error.message) {\r\n          errorMessage = error.message\r\n        }\r\n        \r\n        this.$toast.add({\r\n          severity: 'error',\r\n          summary: 'เกิดข้อผิดพลาด',\r\n          detail: errorMessage,\r\n          life: 5000\r\n        })\r\n      }\r\n    },\r\n    calculateTotalDays() {\r\n      if (this.formData.startDateTime && this.formData.endDateTime) {\r\n        const start = new Date(this.formData.startDateTime)\r\n        const end = new Date(this.formData.endDateTime)\r\n        start.setHours(0, 0, 0, 0)\r\n        end.setHours(0, 0, 0, 0)\r\n        const diffTime = end - start\r\n        return Math.floor(diffTime / (1000 * 60 * 60 * 24)) + 1\r\n      }\r\n      return 0\r\n    },\r\n    formatDateTime(date) {\r\n      if (!date) return null\r\n      return new Date(date).toISOString()\r\n    },\r\n    resetForm() {\r\n      this.formData = {\r\n        leaveType: '',\r\n        startDateTime: null,\r\n        endDateTime: null,\r\n        reason: '',\r\n        delegationOption: 'no',\r\n        delegateName: '',\r\n        delegatePosition: '',\r\n        delegateDepartment: '',\r\n        delegateContact: '',\r\n        workDetails: '',\r\n        attachments: []\r\n      }\r\n      this.selectedDelegate = null\r\n    },\r\n    handleFileUpload(event) {\r\n      const files = Array.from(event.target.files)\r\n      this.formData.attachments = [...this.formData.attachments, ...files]\r\n    },\r\n    removeFile(index) {\r\n      this.formData.attachments.splice(index, 1)\r\n    },\r\n    async loadUsers() {\r\n      try {\r\n        const response = await axios.get('/api/users')\r\n        \r\n        if (response.data && Array.isArray(response.data)) {\r\n          // กรองผู้ใช้ปัจจุบันออก\r\n          const currentUserName = this.currentUserName\r\n          this.users = response.data\r\n            .filter(user => {\r\n              const userName = `${user.firstname} ${user.lastname}`.trim()\r\n              return userName !== currentUserName\r\n            })\r\n            .map(user => ({\r\n              ...user,\r\n              displayName: `${user.firstname} ${user.lastname}`.trim()\r\n            }))\r\n          this.filteredUsers = this.users.slice(0, this.maxDisplayUsers)\r\n        } else {\r\n          this.setFallbackUsers()\r\n        }\r\n      } catch (error) {\r\n        this.setFallbackUsers()\r\n      }\r\n    },\r\n    setFallbackUsers() {\r\n      this.users = [\r\n        { id: 1, username: 'admin', firstname: 'Admin', lastname: 'User', role: 'admin', displayName: 'Admin User' },\r\n        { id: 2, username: 'hr', firstname: 'HR', lastname: 'Manager', role: 'hr', displayName: 'HR Manager' },\r\n        { id: 3, username: 'john', firstname: 'John', lastname: 'Doe', role: 'user', displayName: 'John Doe' }\r\n      ]\r\n      this.filteredUsers = this.users\r\n    },\r\n    searchUsers(event) {\r\n      const query = event.query.toLowerCase().trim()\r\n      \r\n      if (query === '') {\r\n        // แสดงแค่ 50 คนแรกเมื่อไม่มีการค้นหา\r\n        this.filteredUsers = this.users.slice(0, this.maxDisplayUsers)\r\n      } else {\r\n        // ค้นหาและจำกัดผลลัพธ์\r\n        const filtered = this.users.filter(user => \r\n          user.displayName.toLowerCase().includes(query) ||\r\n          user.username.toLowerCase().includes(query) ||\r\n          (user.position && user.position.toLowerCase().includes(query)) ||\r\n          (user.department && user.department.toLowerCase().includes(query))\r\n        )\r\n        this.filteredUsers = filtered.slice(0, this.maxDisplayUsers)\r\n      }\r\n    },\r\n    showAllUsers() {\r\n      // แสดงแค่ 50 คนแรกเมื่อคลิก dropdown\r\n      this.filteredUsers = this.users.slice(0, this.maxDisplayUsers)\r\n    },\r\n    onDelegateSelect(event) {\r\n      const user = event.value\r\n      if (user) {\r\n        this.formData.delegateName = user.displayName\r\n        this.formData.delegatePosition = user.position || ''\r\n        this.formData.delegateDepartment = user.department || ''\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.quota-display {\r\n  margin-top: 0.5rem;\r\n  padding: 0.75rem;\r\n  background: #f8f9fa;\r\n  border-radius: 6px;\r\n  border-left: 4px solid #007bff;\r\n}\r\n\r\n.quota-info {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.quota-label {\r\n  color: #6c757d;\r\n  font-weight: 500;\r\n}\r\n\r\n.quota-value {\r\n  font-weight: bold;\r\n  font-size: 1rem;\r\n}\r\n\r\n.quota-value.quota-normal {\r\n  color: #28a745;\r\n}\r\n\r\n.quota-value.quota-low {\r\n  color: #ffc107;\r\n}\r\n\r\n.quota-value.quota-zero {\r\n  color: #dc3545;\r\n}\r\n\r\n.quota-total {\r\n  color: #6c757d;\r\n  font-size: 0.85rem;\r\n}\r\n\r\n.form-card {\r\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);\r\n  border: 1px solid #e9ecef;\r\n}\r\n\r\n.leave-form {\r\n  padding: 1rem;\r\n}\r\n\r\n.form-grid {\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  gap: 1.5rem;\r\n  margin-bottom: 1.5rem;\r\n}\r\n\r\n.full-width {\r\n  grid-column: 1 / -1;\r\n}\r\n\r\n.input-group {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.date-range-group {\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 1rem;\r\n}\r\n\r\n.date-field {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5rem;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .date-range-group {\r\n    flex-direction: column;\r\n    gap: 0.5rem;\r\n  }\r\n}\r\n\r\n.input-label {\r\n  font-weight: 500;\r\n  color: #495057;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.corporate-input,\r\n.corporate-dropdown {\r\n  border: 2px solid #e9ecef;\r\n  border-radius: 6px;\r\n  padding: 0.75rem;\r\n  font-size: 1rem;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.corporate-input:focus,\r\n.corporate-dropdown:focus {\r\n  border-color: #28a745;\r\n  box-shadow: 0 0 0 3px rgba(40, 167, 69, 0.1);\r\n}\r\n\r\n.readonly-field {\r\n  background: #f8f9fa;\r\n  color: #6c757d;\r\n}\r\n\r\n.section-divider {\r\n  grid-column: 1 / -1;\r\n  margin: 1rem 0;\r\n  padding: 1rem 0;\r\n  border-top: 2px solid #e9ecef;\r\n}\r\n\r\n.section-title {\r\n  margin: 0;\r\n  color: #495057;\r\n  font-size: 1.1rem;\r\n  font-weight: 600;\r\n}\r\n\r\n.checkbox-group {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.75rem;\r\n  padding: 1rem 0;\r\n}\r\n\r\n.checkbox-label {\r\n  font-weight: 600;\r\n  color: #495057;\r\n  font-size: 1rem;\r\n  cursor: pointer;\r\n}\r\n\r\n.file-upload-wrapper {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.file-input {\r\n  display: none;\r\n}\r\n\r\n.file-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5rem;\r\n  margin-top: 0.75rem;\r\n  padding: 0.75rem;\r\n  background: #f8f9fa;\r\n  border-radius: 6px;\r\n  border: 1px solid #e9ecef;\r\n}\r\n\r\n.file-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.75rem;\r\n  padding: 0.5rem;\r\n  background: white;\r\n  border-radius: 4px;\r\n  border: 1px solid #e9ecef;\r\n}\r\n\r\n.file-item i {\r\n  color: #6c757d;\r\n  font-size: 1rem;\r\n}\r\n\r\n.file-name {\r\n  flex: 1;\r\n  font-size: 0.9rem;\r\n  color: #495057;\r\n  word-break: break-all;\r\n}\r\n\r\n.form-actions {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 1rem;\r\n  margin-top: 1.5rem;\r\n}\r\n\r\n.form-actions .p-button {\r\n  min-width: 140px;\r\n  padding: 0.75rem 1.5rem;\r\n  font-weight: 500;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .form-grid {\r\n    grid-template-columns: 1fr;\r\n  }\r\n\r\n  .form-actions {\r\n    flex-direction: column;\r\n  }\r\n\r\n  .leave-form {\r\n    padding: 0.5rem;\r\n  }\r\n\r\n  .corporate-input,\r\n  .corporate-dropdown {\r\n    padding: 0.6rem;\r\n    font-size: 0.9rem;\r\n  }\r\n\r\n  .input-label {\r\n    font-size: 0.85rem;\r\n  }\r\n\r\n  .checkbox-label {\r\n    font-size: 0.9rem;\r\n  }\r\n\r\n  .file-list {\r\n    padding: 0.5rem;\r\n  }\r\n\r\n  .file-item {\r\n    padding: 0.4rem;\r\n  }\r\n\r\n  .file-name {\r\n    font-size: 0.85rem;\r\n  }\r\n}\r\n\r\n/* DateTime input styling */\r\n.datetime-inputs {\r\n  display: flex;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.date-input {\r\n  flex: 2;\r\n}\r\n\r\n.time-input {\r\n  flex: 1;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .datetime-inputs {\r\n    flex-direction: column;\r\n    gap: 0.5rem;\r\n  }\r\n  \r\n  .date-input, .time-input {\r\n    flex: 1;\r\n  }\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .leave-form {\r\n    padding: 0.25rem;\r\n  }\r\n\r\n  .form-grid {\r\n    gap: 1rem;\r\n  }\r\n\r\n  .corporate-input,\r\n  .corporate-dropdown {\r\n    padding: 0.5rem;\r\n    font-size: 0.85rem;\r\n  }\r\n\r\n  .input-label {\r\n    font-size: 0.8rem;\r\n  }\r\n\r\n  .form-actions .p-button {\r\n    min-width: 100%;\r\n    padding: 0.6rem 1rem;\r\n    font-size: 0.9rem;\r\n  }\r\n\r\n  .checkbox-group {\r\n    padding: 0.75rem 0;\r\n  }\r\n\r\n  .checkbox-label {\r\n    font-size: 0.85rem;\r\n  }\r\n}\r\n\r\n.user-option {\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 0.5rem 0;\r\n}\r\n\r\n.user-name {\r\n  font-weight: 500;\r\n  color: #495057;\r\n}\r\n\r\n.user-role {\r\n  font-size: 0.875rem;\r\n  color: #6c757d;\r\n  margin-top: 0.25rem;\r\n}\r\n\r\n.corporate-input :deep(.p-autocomplete-panel) {\r\n  max-height: 250px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.quota-display {\r\n  margin-top: 0.5rem;\r\n  padding: 0.75rem;\r\n  background: #f8f9fa;\r\n  border-radius: 6px;\r\n  border-left: 4px solid #007bff;\r\n  min-height: 3rem;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.quota-info {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.quota-label {\r\n  font-weight: 500;\r\n  color: #495057;\r\n}\r\n\r\n.quota-value {\r\n  font-weight: bold;\r\n  padding: 0.25rem 0.5rem;\r\n  border-radius: 4px;\r\n}\r\n\r\n.quota-normal {\r\n  background: #d4edda;\r\n  color: #155724;\r\n}\r\n\r\n.quota-low {\r\n  background: #fff3cd;\r\n  color: #856404;\r\n}\r\n\r\n.quota-zero {\r\n  background: #f8d7da;\r\n  color: #721c24;\r\n}\r\n\r\n.quota-total {\r\n  color: #6c757d;\r\n  font-size: 0.85rem;\r\n}\r\n\r\n.leave-type-option {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 0.5rem 0;\r\n  gap: 1rem;\r\n}\r\n\r\n.disabled-option {\r\n  background-color: #f8f9fa !important;\r\n  color: #6c757d !important;\r\n  cursor: not-allowed !important;\r\n}\r\n\r\n.quota-status {\r\n  font-size: 0.75rem;\r\n  color: #dc3545;\r\n  font-weight: 500;\r\n  background: #f8d7da;\r\n  padding: 0.2rem 0.4rem;\r\n  border-radius: 3px;\r\n}\r\n\r\n.quota-placeholder {\r\n  background: #f8f9fa;\r\n  border-left: 4px solid #dee2e6;\r\n}\r\n\r\n.quota-placeholder-text {\r\n  color: #6c757d;\r\n  font-style: italic;\r\n  font-size: 0.9rem;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}