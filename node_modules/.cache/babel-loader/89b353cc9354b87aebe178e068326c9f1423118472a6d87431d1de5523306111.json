{"ast":null,"code":"import axios from '@/utils/axiosConfig';\nimport UserInfoDialog from '@/components/UserInfoDialog.vue';\nexport default {\n  name: 'LeaveApproval',\n  components: {\n    UserInfoDialog\n  },\n  props: {\n    records: Array,\n    approverLevel: {\n      type: Number,\n      default: 0\n    }\n  },\n  created() {\n    this.$http = axios;\n  },\n  data() {\n    return {\n      showWorkDetailsDialog: false,\n      selectedWorkDetails: '',\n      showAttachmentsDialog: false,\n      selectedAttachments: [],\n      leaveTypes: [],\n      showUserDialog: false,\n      selectedUserId: null\n    };\n  },\n  async mounted() {\n    await this.loadLeaveTypes();\n  },\n  methods: {\n    showUserInfo(userId) {\n      if (userId) {\n        this.selectedUserId = userId;\n        this.showUserDialog = true;\n      }\n    },\n    async loadLeaveTypes() {\n      try {\n        const response = await this.$http.get('/api/leave/leave-types');\n        this.leaveTypes = response.data;\n      } catch {// ignore\n      }\n    },\n    getLeaveTypeColor(type) {\n      const leaveType = this.leaveTypes.find(lt => lt.value === type);\n      return leaveType?.color || '#6c757d';\n    },\n    showWorkDetails(workDetails) {\n      this.selectedWorkDetails = workDetails;\n      this.showWorkDetailsDialog = true;\n    },\n    showAttachments(attachments) {\n      this.selectedAttachments = attachments || [];\n      this.showAttachmentsDialog = true;\n    },\n    downloadFile(fileName) {\n      this.$toast.add({\n        severity: 'success',\n        summary: 'ดาวน์โหลด',\n        detail: `กำลังดาวน์โหลด: ${fileName}`,\n        life: 3000\n      });\n    },\n    getFileIcon(fileName) {\n      const extension = fileName.split('.').pop()?.toLowerCase();\n      const icons = {\n        pdf: 'pi pi-file-pdf',\n        doc: 'pi pi-file-word',\n        docx: 'pi pi-file-word',\n        xls: 'pi pi-file-excel',\n        xlsx: 'pi pi-file-excel',\n        jpg: 'pi pi-image',\n        jpeg: 'pi pi-image',\n        png: 'pi pi-image',\n        gif: 'pi pi-image'\n      };\n      return icons[extension] || 'pi pi-file';\n    },\n    getFileType(fileName) {\n      const extension = fileName.split('.').pop()?.toLowerCase();\n      const types = {\n        pdf: 'PDF Document',\n        doc: 'Word Document',\n        docx: 'Word Document',\n        xls: 'Excel Spreadsheet',\n        xlsx: 'Excel Spreadsheet',\n        jpg: 'JPEG Image',\n        jpeg: 'JPEG Image',\n        png: 'PNG Image',\n        gif: 'GIF Image'\n      };\n      return types[extension] || 'Unknown File';\n    },\n    formatDateTime(datetime) {\n      if (!datetime) return '-';\n      const date = new Date(datetime);\n      date.setHours(date.getHours() + 7);\n      return date.toLocaleString('th-TH', {\n        year: 'numeric',\n        month: 'short',\n        day: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    },\n    formatDate(datetime) {\n      if (!datetime) return '-';\n      const date = new Date(datetime);\n      date.setHours(date.getHours() + 7);\n      return date.toLocaleDateString('th-TH', {\n        day: '2-digit',\n        month: '2-digit'\n      });\n    },\n    calculateDays(startDateTime, endDateTime) {\n      if (!startDateTime || !endDateTime) return 0;\n      const start = new Date(startDateTime);\n      const end = new Date(endDateTime);\n      const diffTime = Math.abs(end - start);\n      return Math.ceil(diffTime / (1000 * 60 * 60 * 24)) + 1;\n    },\n    getLeaveTypeLabel(type) {\n      const types = {\n        sick: 'ลาป่วย',\n        personal: 'ลากิจ',\n        vacation: 'ลาพักร้อน',\n        maternity: 'ลาคลอด',\n        other: 'ลาอื่นๆ'\n      };\n      return types[type] || type;\n    },\n    canApproveRecord(record) {\n      // approverLevel: 0 = ไม่มีสิทธิ์, 1 = level 1 only, 2 = level 2 only, 3 = ทั้งสอง\n      if (this.approverLevel === 0) return false;\n      if (this.approverLevel === 3) return true; // admin หรือมีสิทธิ์ทั้งสอง\n\n      // Level 1 approver สามารถ approve ได้เฉพาะ status = 'pending'\n      if (this.approverLevel === 1 && record.status === 'pending') return true;\n\n      // Level 2 approver สามารถ approve ได้เฉพาะ status = 'pending_level2'\n      if (this.approverLevel === 2 && record.status === 'pending_level2') return true;\n      return false;\n    },\n    getApproveTooltip(record) {\n      if (record.status === 'pending') return 'อนุมัติขั้นที่ 1 (HR)';\n      if (record.status === 'pending_level2') return 'อนุมัติขั้นที่ 2 (ผู้บริหาร)';\n      return 'อนุมัติ';\n    }\n  }\n};","map":{"version":3,"names":["axios","UserInfoDialog","name","components","props","records","Array","approverLevel","type","Number","default","created","$http","data","showWorkDetailsDialog","selectedWorkDetails","showAttachmentsDialog","selectedAttachments","leaveTypes","showUserDialog","selectedUserId","mounted","loadLeaveTypes","methods","showUserInfo","userId","response","get","getLeaveTypeColor","leaveType","find","lt","value","color","showWorkDetails","workDetails","showAttachments","attachments","downloadFile","fileName","$toast","add","severity","summary","detail","life","getFileIcon","extension","split","pop","toLowerCase","icons","pdf","doc","docx","xls","xlsx","jpg","jpeg","png","gif","getFileType","types","formatDateTime","datetime","date","Date","setHours","getHours","toLocaleString","year","month","day","hour","minute","formatDate","toLocaleDateString","calculateDays","startDateTime","endDateTime","start","end","diffTime","Math","abs","ceil","getLeaveTypeLabel","sick","personal","vacation","maternity","other","canApproveRecord","record","status","getApproveTooltip"],"sources":["D:\\frontend_cem\\src\\views\\leave_work\\LeaveApproval.vue"],"sourcesContent":["<template>\n  <Card class=\"approval-card\">\n    <template #content>\n      <div v-if=\"records.length === 0\" class=\"empty-state\">\n        <i class=\"pi pi-check-circle\" style=\"font-size: 4rem; color: #ccc;\"></i>\n        <p>ไม่มีคำขอลางานที่รอการอนุมัติ</p>\n      </div>\n\n      <DataTable v-else :value=\"records\" :paginator=\"true\" :rows=\"10\"\n        :rowsPerPageOptions=\"[5, 10, 20]\" responsiveLayout=\"scroll\" class=\"approval-table\" stripedRows>\n        \n        <Column field=\"id\" header=\"Ticket ID\" :sortable=\"true\" style=\"min-width: 120px;\">\n          <template #body=\"slotProps\">\n            <div class=\"ticket-id-container\">\n              <Badge :value=\"`#${String(slotProps.data.id).padStart(4, '0')}`\" class=\"ticket-badge\" />\n            </div>\n          </template>\n        </Column>\n\n        <Column field=\"employee_name\" header=\"ชื่อ-นามสกุล\" :sortable=\"true\">\n          <template #body=\"slotProps\">\n            <span class=\"clickable-name\" @click=\"showUserInfo(slotProps.data.user_id)\">\n              {{ slotProps.data.employee_name }}\n            </span>\n          </template>\n        </Column>\n        <Column field=\"employee_position\" header=\"ตำแหน่ง\" :sortable=\"true\" />\n        \n        <Column field=\"leave_type\" header=\"ประเภทการลา\" :sortable=\"true\">\n          <template #body=\"slotProps\">\n            <Badge :value=\"getLeaveTypeLabel(slotProps.data.leave_type)\" :style=\"{ backgroundColor: getLeaveTypeColor(slotProps.data.leave_type), color: '#fff', fontWeight: 'bold' }\" />\n          </template>\n        </Column>\n\n        <Column header=\"วันเวลาเริ่มลา\" :sortable=\"true\">\n          <template #body=\"slotProps\">\n            {{ formatDateTime(slotProps.data.start_datetime) }}\n          </template>\n        </Column>\n\n        <Column header=\"วันเวลาสิ้นสุด\" :sortable=\"true\">\n          <template #body=\"slotProps\">\n            {{ formatDateTime(slotProps.data.end_datetime) }}\n          </template>\n        </Column>\n\n        <Column header=\"จำนวนวัน\">\n          <template #body=\"slotProps\">\n            {{ slotProps.data.total_days }} วัน\n          </template>\n        </Column>\n\n        <Column field=\"reason\" header=\"เหตุผล\" style=\"min-width: 160px; width: 160px;\">\n          <template #body=\"slotProps\">\n            <span class=\"reason-text-wrap\">{{ slotProps.data.reason || '-' }}</span>\n          </template>\n        </Column>\n\n        <Column header=\"ผู้รับผิดชอบแทน\" style=\"min-width: 200px;\">\n          <template #body=\"slotProps\">\n            <div v-if=\"slotProps.data.has_delegation\" class=\"delegate-info\">\n              <div class=\"delegate-name\">\n                <i class=\"pi pi-user\"></i>\n                <strong>{{ slotProps.data.delegate_name || 'ไม่ระบุ' }}</strong>\n              </div>\n              <div class=\"delegate-position\">\n                <i class=\"pi pi-briefcase\"></i>\n                <small>{{ slotProps.data.delegate_position || 'ไม่ระบุตำแหน่ง' }}</small>\n              </div>\n              <div class=\"delegate-department\">\n                <i class=\"pi pi-building\"></i>\n                <small>{{ slotProps.data.delegate_department || 'ไม่ระบุแผนก' }}</small>\n              </div>\n              <div class=\"delegate-contact\">\n                <i class=\"pi pi-phone\"></i>\n                <small class=\"contact-info\">{{ slotProps.data.delegate_contact || 'ไม่ระบุ' }}</small>\n              </div>\n              <div v-if=\"slotProps.data.work_details\" class=\"work-details-btn\">\n                <Button \n                  icon=\"pi pi-list\" \n                  label=\"ดูรายละเอียดงาน\" \n                  size=\"small\" \n                  severity=\"info\" \n                  outlined\n                  @click=\"showWorkDetails(slotProps.data.work_details)\"\n                />\n              </div>\n            </div>\n            <span v-else class=\"no-delegation\">\n              <i class=\"pi pi-times-circle\"></i>\n              ไม่มีการมอบหมายงาน\n            </span>\n          </template>\n        </Column>\n\n        <Column header=\"เอกสารแนบ\" style=\"width: 80px;\">\n          <template #body=\"slotProps\">\n            <div v-if=\"slotProps.data.attachments && slotProps.data.attachments.length > 0\" class=\"attachments-info\">\n              <Button \n                icon=\"pi pi-paperclip\" \n                size=\"small\" \n                severity=\"info\" \n                outlined\n                @click=\"showAttachments(slotProps.data.attachments)\"\n                v-tooltip=\"`${slotProps.data.attachments.length} ไฟล์`\"\n              />\n            </div>\n            <span v-else>-</span>\n          </template>\n        </Column>\n\n        <Column header=\"สถานะการอนุมัติ\" style=\"min-width: 180px;\">\n          <template #body=\"slotProps\">\n            <div class=\"approval-status-box\">\n              <div class=\"approval-step\" :class=\"{ 'completed': slotProps.data.approved_by_level1 }\">\n                <i :class=\"slotProps.data.approved_by_level1 ? 'pi pi-check-circle' : 'pi pi-clock'\"></i>\n                <div class=\"step-info\">\n                  <span class=\"step-label\">ขั้นที่ 1 (HR)</span>\n                  <span v-if=\"slotProps.data.approved_by_level1\" class=\"step-approver\">{{ slotProps.data.approved_by_level1 }}</span>\n                  <span v-else class=\"step-pending\">รอดำเนินการ</span>\n                </div>\n              </div>\n              <div class=\"approval-step\" :class=\"{ 'completed': slotProps.data.approved_by_level2, 'disabled': !slotProps.data.approved_by_level1 }\">\n                <i :class=\"slotProps.data.approved_by_level2 ? 'pi pi-check-circle' : 'pi pi-clock'\"></i>\n                <div class=\"step-info\">\n                  <span class=\"step-label\">ขั้นที่ 2 (ผู้บริหาร)</span>\n                  <span v-if=\"slotProps.data.approved_by_level2\" class=\"step-approver\">{{ slotProps.data.approved_by_level2 }}</span>\n                  <span v-else class=\"step-pending\">รอดำเนินการ</span>\n                </div>\n              </div>\n            </div>\n          </template>\n        </Column>\n\n        <Column header=\"วันที่ส่งคำขอ\" :sortable=\"true\">\n          <template #body=\"slotProps\">\n            {{ formatDateTime(slotProps.data.created_at) }}\n          </template>\n        </Column>\n\n        <Column header=\"การดำเนินการ\" :frozen=\"true\" alignFrozen=\"right\">\n          <template #body=\"slotProps\">\n            <div class=\"action-buttons\" v-if=\"canApproveRecord(slotProps.data)\">\n              <Button \n                icon=\"pi pi-check\" \n                severity=\"success\" \n                size=\"small\"\n                @click=\"$emit('approve-leave', slotProps.data.id)\"\n                v-tooltip=\"getApproveTooltip(slotProps.data)\"\n              />\n              <Button \n                icon=\"pi pi-times\" \n                severity=\"danger\" \n                size=\"small\"\n                @click=\"$emit('reject-leave', slotProps.data.id)\"\n                v-tooltip=\"'ไม่อนุมัติ'\"\n              />\n            </div>\n            <div v-else class=\"status-badge\">\n              <Badge v-if=\"slotProps.data.status === 'pending'\" value=\"รอ HR อนุมัติ\" severity=\"warning\" />\n              <Badge v-else-if=\"slotProps.data.status === 'pending_level2'\" value=\"รอผู้บริหารอนุมัติ\" severity=\"info\" />\n            </div>\n          </template>\n        </Column>\n      </DataTable>\n    </template>\n  </Card>\n\n  <!-- Work Details Dialog -->\n  <Dialog v-model:visible=\"showWorkDetailsDialog\" modal header=\"รายละเอียดงานที่มอบหมาย\" :style=\"{ width: '90vw', maxWidth: '800px' }\" :draggable=\"false\">\n    <div class=\"work-details-content\">\n      <p>{{ selectedWorkDetails }}</p>\n    </div>\n    <template #footer>\n      <Button label=\"ปิด\" icon=\"pi pi-times\" @click=\"showWorkDetailsDialog = false\" />\n    </template>\n  </Dialog>\n\n  <!-- Attachments Dialog -->\n  <Dialog v-model:visible=\"showAttachmentsDialog\" modal header=\"เอกสารแนบ\" :style=\"{ width: '90vw', maxWidth: '900px' }\" :draggable=\"false\">\n    <div class=\"attachments-content\">\n      <div v-if=\"selectedAttachments.length === 0\" class=\"no-attachments\">\n        <i class=\"pi pi-file\" style=\"font-size: 3rem; color: #ccc;\"></i>\n        <p>ไม่มีเอกสารแนบ</p>\n      </div>\n      <div v-else class=\"attachments-list\">\n        <div v-for=\"(file, index) in selectedAttachments\" :key=\"index\" class=\"attachment-item\">\n          <div class=\"file-info\">\n            <i :class=\"getFileIcon(file)\" class=\"file-icon\"></i>\n            <div class=\"file-details\">\n              <span class=\"file-name\">{{ file }}</span>\n              <small class=\"file-type\">{{ getFileType(file) }}</small>\n            </div>\n          </div>\n          <div class=\"file-actions\">\n            <Button \n              icon=\"pi pi-download\" \n              size=\"small\" \n              severity=\"success\" \n              outlined\n              @click=\"downloadFile(file)\"\n              v-tooltip=\"'ดาวน์โหลด'\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n    <template #footer>\n      <Button label=\"ปิด\" icon=\"pi pi-times\" @click=\"showAttachmentsDialog = false\" />\n    </template>\n  </Dialog>\n\n  <UserInfoDialog v-model:visible=\"showUserDialog\" :userId=\"selectedUserId\" />\n</template>\n\n<script>\nimport axios from '@/utils/axiosConfig'\nimport UserInfoDialog from '@/components/UserInfoDialog.vue'\n\nexport default {\n  name: 'LeaveApproval',\n  components: {\n    UserInfoDialog\n  },\n  props: {\n    records: Array,\n    approverLevel: {\n      type: Number,\n      default: 0\n    }\n  },\n  created() {\n    this.$http = axios\n  },\n  data() {\n    return {\n      showWorkDetailsDialog: false,\n      selectedWorkDetails: '',\n      showAttachmentsDialog: false,\n      selectedAttachments: [],\n      leaveTypes: [],\n      showUserDialog: false,\n      selectedUserId: null\n    }\n  },\n  async mounted() {\n    await this.loadLeaveTypes()\n  },\n  methods: {\n    showUserInfo(userId) {\n      if (userId) {\n        this.selectedUserId = userId\n        this.showUserDialog = true\n      }\n    },\n    async loadLeaveTypes() {\n      try {\n        const response = await this.$http.get('/api/leave/leave-types')\n        this.leaveTypes = response.data\n      } catch { // ignore\n        \n      }\n    },\n    getLeaveTypeColor(type) {\n      const leaveType = this.leaveTypes.find(lt => lt.value === type)\n      return leaveType?.color || '#6c757d'\n    },\n    showWorkDetails(workDetails) {\n      this.selectedWorkDetails = workDetails\n      this.showWorkDetailsDialog = true\n    },\n\n    showAttachments(attachments) {\n      this.selectedAttachments = attachments || []\n      this.showAttachmentsDialog = true\n    },\n\n    downloadFile(fileName) {\n      this.$toast.add({\n        severity: 'success',\n        summary: 'ดาวน์โหลด',\n        detail: `กำลังดาวน์โหลด: ${fileName}`,\n        life: 3000\n      })\n    },\n\n    getFileIcon(fileName) {\n      const extension = fileName.split('.').pop()?.toLowerCase()\n      const icons = {\n        pdf: 'pi pi-file-pdf',\n        doc: 'pi pi-file-word',\n        docx: 'pi pi-file-word',\n        xls: 'pi pi-file-excel',\n        xlsx: 'pi pi-file-excel',\n        jpg: 'pi pi-image',\n        jpeg: 'pi pi-image',\n        png: 'pi pi-image',\n        gif: 'pi pi-image'\n      }\n      return icons[extension] || 'pi pi-file'\n    },\n\n    getFileType(fileName) {\n      const extension = fileName.split('.').pop()?.toLowerCase()\n      const types = {\n        pdf: 'PDF Document',\n        doc: 'Word Document',\n        docx: 'Word Document',\n        xls: 'Excel Spreadsheet',\n        xlsx: 'Excel Spreadsheet',\n        jpg: 'JPEG Image',\n        jpeg: 'JPEG Image',\n        png: 'PNG Image',\n        gif: 'GIF Image'\n      }\n      return types[extension] || 'Unknown File'\n    },\n    formatDateTime(datetime) {\n      if (!datetime) return '-'\n      const date = new Date(datetime)\n      date.setHours(date.getHours() + 7)\n      return date.toLocaleString('th-TH', {\n        year: 'numeric',\n        month: 'short',\n        day: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit'\n      })\n    },\n\n    formatDate(datetime) {\n      if (!datetime) return '-'\n      const date = new Date(datetime)\n      date.setHours(date.getHours() + 7)\n      return date.toLocaleDateString('th-TH', {\n        day: '2-digit',\n        month: '2-digit'\n      })\n    },\n    calculateDays(startDateTime, endDateTime) {\n      if (!startDateTime || !endDateTime) return 0\n      const start = new Date(startDateTime)\n      const end = new Date(endDateTime)\n      const diffTime = Math.abs(end - start)\n      return Math.ceil(diffTime / (1000 * 60 * 60 * 24)) + 1\n    },\n    getLeaveTypeLabel(type) {\n      const types = {\n        sick: 'ลาป่วย',\n        personal: 'ลากิจ',\n        vacation: 'ลาพักร้อน',\n        maternity: 'ลาคลอด',\n        other: 'ลาอื่นๆ'\n      }\n      return types[type] || type\n    },\n    canApproveRecord(record) {\n      // approverLevel: 0 = ไม่มีสิทธิ์, 1 = level 1 only, 2 = level 2 only, 3 = ทั้งสอง\n      if (this.approverLevel === 0) return false\n      if (this.approverLevel === 3) return true // admin หรือมีสิทธิ์ทั้งสอง\n      \n      // Level 1 approver สามารถ approve ได้เฉพาะ status = 'pending'\n      if (this.approverLevel === 1 && record.status === 'pending') return true\n      \n      // Level 2 approver สามารถ approve ได้เฉพาะ status = 'pending_level2'\n      if (this.approverLevel === 2 && record.status === 'pending_level2') return true\n      \n      return false\n    },\n    getApproveTooltip(record) {\n      if (record.status === 'pending') return 'อนุมัติขั้นที่ 1 (HR)'\n      if (record.status === 'pending_level2') return 'อนุมัติขั้นที่ 2 (ผู้บริหาร)'\n      return 'อนุมัติ'\n    }\n  }\n}\n</script>\n\n<style scoped>\n.ticket-id-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.ticket-badge {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;\n  color: white !important;\n  font-weight: 700 !important;\n  font-size: 0.9rem !important;\n  padding: 0.5rem 0.75rem !important;\n  border-radius: 8px !important;\n  border: 2px solid rgba(102, 126, 234, 0.2) !important;\n  box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3) !important;\n  letter-spacing: 0.5px !important;\n  min-width: 80px !important;\n  text-align: center !important;\n}\n\n.approval-card {\n  width: 100%;\n  margin: 0;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);\n  border: 1px solid #e9ecef;\n}\n\n.empty-state {\n  text-align: center;\n  padding: 4rem 2rem;\n  color: #6c757d;\n  background: #f8f9fa;\n  border-radius: 8px;\n  margin: 1rem;\n}\n\n.empty-state p {\n  margin-top: 1rem;\n  font-size: 1.1rem;\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n}\n\n.approval-table :deep(.p-datatable) {\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n}\n\n.approval-table :deep(.p-datatable-thead > tr > th) {\n  background: #f8f9fa;\n  color: #495057;\n  font-weight: 600;\n  border-bottom: 2px solid #e9ecef;\n  padding: 1rem 0.75rem;\n  font-size: 0.9rem;\n}\n\n.delegate-info {\n  text-align: left;\n  padding: 0.5rem;\n  background: #f8f9fa;\n  border-radius: 8px;\n  border-left: 4px solid #28a745;\n}\n\n.delegate-info > div {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  margin-bottom: 0.5rem;\n}\n\n.delegate-info > div:last-child {\n  margin-bottom: 0;\n}\n\n.delegate-info i {\n  color: #6c757d;\n  width: 16px;\n  text-align: center;\n}\n\n.delegate-name strong {\n  color: #495057;\n  font-size: 0.95rem;\n}\n\n.delegate-role small {\n  color: #6c757d;\n  font-weight: 500;\n}\n\n.delegate-contact .contact-info {\n  color: #28a745 !important;\n  font-weight: 500;\n}\n\n.work-details {\n  flex-direction: column !important;\n  align-items: flex-start !important;\n  background: white;\n  padding: 0.5rem;\n  border-radius: 4px;\n  margin-top: 0.5rem;\n}\n\n.work-details i {\n  margin-bottom: 0.25rem;\n}\n\n.work-details small {\n  color: #495057 !important;\n  line-height: 1.4;\n  margin-left: 0;\n}\n\n.no-delegation {\n  color: #6c757d;\n  font-style: italic;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.approval-table :deep(.p-datatable-tbody > tr > td) {\n  padding: 1rem 0.75rem;\n  border-bottom: 1px solid #f1f3f4;\n  vertical-align: middle;\n  text-align: center;\n}\n\n.approval-table :deep(.p-datatable-tbody > tr:hover) {\n  background: #f8f9fa;\n}\n\n.approval-table :deep(.p-badge) {\n  font-weight: 500;\n  padding: 0.5rem 0.75rem;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  min-height: 2.5rem;\n  white-space: normal;\n  text-align: center;\n  line-height: 1.2;\n}\n\n.reason-text {\n  max-width: 200px;\n  display: inline-block;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.reason-text-wrap {\n  width: 100%;\n  display: block;\n  word-wrap: break-word;\n  white-space: normal;\n  line-height: 1.4;\n  text-align: left;\n}\n\n.view-icon {\n  font-size: 1.2rem;\n  color: #28a745;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n\n.view-icon:hover {\n  color: #20c997;\n  transform: scale(1.1);\n}\n\n.action-buttons {\n  display: flex;\n  gap: 0.5rem;\n  justify-content: center;\n}\n\n.action-buttons .p-button {\n  width: 2.5rem;\n  height: 2.5rem;\n}\n\n.attachments-content {\n  padding: 1rem;\n}\n\n.no-attachments {\n  text-align: center;\n  padding: 2rem;\n  color: #6c757d;\n}\n\n.attachments-list {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n\n.attachment-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem;\n  background: #f8f9fa;\n  border-radius: 8px;\n  border: 1px solid #e9ecef;\n}\n\n.file-info {\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n}\n\n.file-icon {\n  font-size: 2rem;\n  color: #6c757d;\n}\n\n.file-details {\n  display: flex;\n  flex-direction: column;\n}\n\n.file-name {\n  font-weight: 600;\n  color: #495057;\n}\n\n.file-type {\n  color: #6c757d;\n  font-size: 0.85rem;\n}\n\n.file-actions {\n  display: flex;\n  gap: 0.5rem;\n}\n\n.delegate-compact {\n  text-align: left;\n  font-size: 0.85rem;\n}\n\n.delegate-compact strong {\n  color: #495057;\n  display: block;\n  margin-bottom: 0.25rem;\n}\n\n.delegate-compact .work-details-btn {\n  margin-top: 0.25rem;\n}\n\n@media (max-width: 768px) {\n  .approval-table :deep(.p-datatable-tbody > tr > td) {\n    padding: 0.75rem 0.5rem;\n    font-size: 0.9rem;\n  }\n  \n  .reason-text {\n    max-width: 150px;\n  }\n\n  .delegate-info {\n    font-size: 0.85rem;\n  }\n\n  .approval-table :deep(.p-datatable-thead > tr > th) {\n    padding: 0.75rem 0.5rem;\n    font-size: 0.85rem;\n  }\n\n  .action-buttons .p-button {\n    width: 2rem;\n    height: 2rem;\n  }\n}\n\n.clickable-name {\n  cursor: pointer;\n  color: #667eea;\n  font-weight: 600;\n  transition: all 0.2s;\n}\n\n.clickable-name:hover {\n  color: #764ba2;\n  text-decoration: underline;\n}\n.status-badge {\n  display: flex;\n  justify-content: center;\n}\n\n.approval-status-box {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n.approval-step {\n  display: flex;\n  align-items: flex-start;\n  gap: 0.5rem;\n  padding: 0.4rem;\n  border-radius: 6px;\n  background: #f8f9fa;\n}\n\n.approval-step.completed {\n  background: #d1fae5;\n}\n\n.approval-step.completed i {\n  color: #10b981;\n}\n\n.approval-step.disabled {\n  opacity: 0.5;\n}\n\n.approval-step i {\n  color: #f59e0b;\n  margin-top: 2px;\n}\n\n.step-info {\n  display: flex;\n  flex-direction: column;\n}\n\n.step-label {\n  font-size: 0.75rem;\n  color: #6b7280;\n  font-weight: 600;\n}\n\n.step-approver {\n  font-size: 0.8rem;\n  color: #047857;\n}\n\n.step-pending {\n  font-size: 0.75rem;\n  color: #9ca3af;\n  font-style: italic;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}