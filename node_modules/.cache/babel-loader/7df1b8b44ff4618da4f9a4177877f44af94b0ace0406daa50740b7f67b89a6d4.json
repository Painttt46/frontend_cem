{"ast":null,"code":"import axios from '@/utils/axiosConfig';\nimport cache from '@/utils/cache';\nclass DailyWorkService {\n  /**\n   * Get all daily work records\n   * @param {boolean} useCache - Use cache or force refresh\n   * @returns {Promise<Array>}\n   */\n  async getDailyWork(useCache = true) {\n    const cacheKey = 'daily-work:all';\n    if (useCache) {\n      return cache.getOrSet(cacheKey, async () => {\n        const response = await axios.get('/api/daily-work');\n        return response.data;\n      }, 2 * 60 * 1000 // 2 minutes (shorter TTL for frequently updated data)\n      );\n    }\n    const response = await axios.get('/api/daily-work');\n    cache.set(cacheKey, response.data);\n    return response.data;\n  }\n\n  /**\n   * Create daily work record\n   * @param {Object} data - Work data\n   * @returns {Promise<Object>}\n   */\n  async createDailyWork(data) {\n    const response = await axios.post('/api/daily-work', data);\n\n    // Invalidate cache\n    cache.delete('daily-work:all');\n    return response.data;\n  }\n\n  /**\n   * Update daily work record\n   * @param {number} id - Record ID\n   * @param {Object} data - Work data\n   * @returns {Promise<Object>}\n   */\n  async updateDailyWork(id, data) {\n    const response = await axios.put(`/api/daily-work/${id}`, data);\n\n    // Invalidate cache\n    cache.delete('daily-work:all');\n    return response.data;\n  }\n\n  /**\n   * Delete daily work record\n   * @param {number} id - Record ID\n   * @returns {Promise<void>}\n   */\n  async deleteDailyWork(id) {\n    await axios.delete(`/api/daily-work/${id}`);\n\n    // Invalidate cache\n    cache.delete('daily-work:all');\n  }\n\n  /**\n   * Clear cache\n   */\n  clearCache() {\n    cache.delete('daily-work:all');\n  }\n}\nexport default new DailyWorkService();","map":{"version":3,"names":["axios","cache","DailyWorkService","getDailyWork","useCache","cacheKey","getOrSet","response","get","data","set","createDailyWork","post","delete","updateDailyWork","id","put","deleteDailyWork","clearCache"],"sources":["D:/frontend_cem/src/services/dailyWorkService.js"],"sourcesContent":["import axios from '@/utils/axiosConfig'\nimport cache from '@/utils/cache'\n\nclass DailyWorkService {\n  /**\n   * Get all daily work records\n   * @param {boolean} useCache - Use cache or force refresh\n   * @returns {Promise<Array>}\n   */\n  async getDailyWork(useCache = true) {\n    const cacheKey = 'daily-work:all'\n    \n    if (useCache) {\n      return cache.getOrSet(\n        cacheKey,\n        async () => {\n          const response = await axios.get('/api/daily-work')\n          return response.data\n        },\n        2 * 60 * 1000 // 2 minutes (shorter TTL for frequently updated data)\n      )\n    }\n\n    const response = await axios.get('/api/daily-work')\n    cache.set(cacheKey, response.data)\n    return response.data\n  }\n\n  /**\n   * Create daily work record\n   * @param {Object} data - Work data\n   * @returns {Promise<Object>}\n   */\n  async createDailyWork(data) {\n    const response = await axios.post('/api/daily-work', data)\n    \n    // Invalidate cache\n    cache.delete('daily-work:all')\n    \n    return response.data\n  }\n\n  /**\n   * Update daily work record\n   * @param {number} id - Record ID\n   * @param {Object} data - Work data\n   * @returns {Promise<Object>}\n   */\n  async updateDailyWork(id, data) {\n    const response = await axios.put(`/api/daily-work/${id}`, data)\n    \n    // Invalidate cache\n    cache.delete('daily-work:all')\n    \n    return response.data\n  }\n\n  /**\n   * Delete daily work record\n   * @param {number} id - Record ID\n   * @returns {Promise<void>}\n   */\n  async deleteDailyWork(id) {\n    await axios.delete(`/api/daily-work/${id}`)\n    \n    // Invalidate cache\n    cache.delete('daily-work:all')\n  }\n\n  /**\n   * Clear cache\n   */\n  clearCache() {\n    cache.delete('daily-work:all')\n  }\n}\n\nexport default new DailyWorkService()\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,qBAAqB;AACvC,OAAOC,KAAK,MAAM,eAAe;AAEjC,MAAMC,gBAAgB,CAAC;EACrB;AACF;AACA;AACA;AACA;EACE,MAAMC,YAAYA,CAACC,QAAQ,GAAG,IAAI,EAAE;IAClC,MAAMC,QAAQ,GAAG,gBAAgB;IAEjC,IAAID,QAAQ,EAAE;MACZ,OAAOH,KAAK,CAACK,QAAQ,CACnBD,QAAQ,EACR,YAAY;QACV,MAAME,QAAQ,GAAG,MAAMP,KAAK,CAACQ,GAAG,CAAC,iBAAiB,CAAC;QACnD,OAAOD,QAAQ,CAACE,IAAI;MACtB,CAAC,EACD,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC;MAChB,CAAC;IACH;IAEA,MAAMF,QAAQ,GAAG,MAAMP,KAAK,CAACQ,GAAG,CAAC,iBAAiB,CAAC;IACnDP,KAAK,CAACS,GAAG,CAACL,QAAQ,EAAEE,QAAQ,CAACE,IAAI,CAAC;IAClC,OAAOF,QAAQ,CAACE,IAAI;EACtB;;EAEA;AACF;AACA;AACA;AACA;EACE,MAAME,eAAeA,CAACF,IAAI,EAAE;IAC1B,MAAMF,QAAQ,GAAG,MAAMP,KAAK,CAACY,IAAI,CAAC,iBAAiB,EAAEH,IAAI,CAAC;;IAE1D;IACAR,KAAK,CAACY,MAAM,CAAC,gBAAgB,CAAC;IAE9B,OAAON,QAAQ,CAACE,IAAI;EACtB;;EAEA;AACF;AACA;AACA;AACA;AACA;EACE,MAAMK,eAAeA,CAACC,EAAE,EAAEN,IAAI,EAAE;IAC9B,MAAMF,QAAQ,GAAG,MAAMP,KAAK,CAACgB,GAAG,CAAC,mBAAmBD,EAAE,EAAE,EAAEN,IAAI,CAAC;;IAE/D;IACAR,KAAK,CAACY,MAAM,CAAC,gBAAgB,CAAC;IAE9B,OAAON,QAAQ,CAACE,IAAI;EACtB;;EAEA;AACF;AACA;AACA;AACA;EACE,MAAMQ,eAAeA,CAACF,EAAE,EAAE;IACxB,MAAMf,KAAK,CAACa,MAAM,CAAC,mBAAmBE,EAAE,EAAE,CAAC;;IAE3C;IACAd,KAAK,CAACY,MAAM,CAAC,gBAAgB,CAAC;EAChC;;EAEA;AACF;AACA;EACEK,UAAUA,CAAA,EAAG;IACXjB,KAAK,CAACY,MAAM,CAAC,gBAAgB,CAAC;EAChC;AACF;AAEA,eAAe,IAAIX,gBAAgB,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}