{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport axios from '@/utils/axiosConfig';\nimport cache from '@/utils/cache';\nclass UserService {\n  /**\r\n   * Get all users (with cache)\r\n   * @param {boolean} useCache - Use cache or force refresh\r\n   * @returns {Promise<Array>}\r\n   */\n  async getUsers(useCache = true) {\n    const cacheKey = 'users:all';\n    if (useCache) {\n      return cache.getOrSet(cacheKey, async () => {\n        const response = await axios.get('/api/users');\n        return response.data;\n      }, 5 * 60 * 1000 // 5 minutes\n      );\n    }\n\n    // Force refresh\n    const response = await axios.get('/api/users');\n    cache.set(cacheKey, response.data);\n    return response.data;\n  }\n\n  /**\r\n   * Get active users only\r\n   * @returns {Promise<Array>}\r\n   */\n  async getActiveUsers() {\n    const users = await this.getUsers();\n    return users.filter(u => u.is_active);\n  }\n\n  /**\r\n   * Get user by ID\r\n   * @param {number} id - User ID\r\n   * @returns {Promise<Object>}\r\n   */\n  async getUserById(id) {\n    const cacheKey = `user:${id}`;\n    return cache.getOrSet(cacheKey, async () => {\n      const response = await axios.get(`/api/users/${id}`);\n      return response.data;\n    }, 10 * 60 * 1000 // 10 minutes\n    );\n  }\n\n  /**\r\n   * Update user\r\n   * @param {number} id - User ID\r\n   * @param {Object} data - User data\r\n   * @returns {Promise<Object>}\r\n   */\n  async updateUser(id, data) {\n    const response = await axios.put(`/api/users/${id}`, data);\n\n    // Invalidate cache\n    cache.delete('users:all');\n    cache.delete(`user:${id}`);\n    return response.data;\n  }\n\n  /**\r\n   * Create user\r\n   * @param {Object} data - User data\r\n   * @returns {Promise<Object>}\r\n   */\n  async createUser(data) {\n    const response = await axios.post('/api/users', data);\n\n    // Invalidate cache\n    cache.delete('users:all');\n    return response.data;\n  }\n\n  /**\r\n   * Delete user\r\n   * @param {number} id - User ID\r\n   * @returns {Promise<void>}\r\n   */\n  async deleteUser(id) {\n    await axios.delete(`/api/users/${id}`);\n\n    // Invalidate cache\n    cache.delete('users:all');\n    cache.delete(`user:${id}`);\n  }\n\n  /**\r\n   * Clear all user cache\r\n   */\n  clearCache() {\n    cache.delete('users:all');\n  }\n}\nexport default new UserService();","map":{"version":3,"names":["axios","cache","UserService","getUsers","useCache","cacheKey","getOrSet","response","get","data","set","getActiveUsers","users","filter","u","is_active","getUserById","id","updateUser","put","delete","createUser","post","deleteUser","clearCache"],"sources":["D:/frontend_cem/src/services/userService.js"],"sourcesContent":["import axios from '@/utils/axiosConfig'\r\nimport cache from '@/utils/cache'\r\n\r\nclass UserService {\r\n  /**\r\n   * Get all users (with cache)\r\n   * @param {boolean} useCache - Use cache or force refresh\r\n   * @returns {Promise<Array>}\r\n   */\r\n  async getUsers(useCache = true) {\r\n    const cacheKey = 'users:all'\r\n    \r\n    if (useCache) {\r\n      return cache.getOrSet(\r\n        cacheKey,\r\n        async () => {\r\n          const response = await axios.get('/api/users')\r\n          return response.data\r\n        },\r\n        5 * 60 * 1000 // 5 minutes\r\n      )\r\n    }\r\n\r\n    // Force refresh\r\n    const response = await axios.get('/api/users')\r\n    cache.set(cacheKey, response.data)\r\n    return response.data\r\n  }\r\n\r\n  /**\r\n   * Get active users only\r\n   * @returns {Promise<Array>}\r\n   */\r\n  async getActiveUsers() {\r\n    const users = await this.getUsers()\r\n    return users.filter(u => u.is_active)\r\n  }\r\n\r\n  /**\r\n   * Get user by ID\r\n   * @param {number} id - User ID\r\n   * @returns {Promise<Object>}\r\n   */\r\n  async getUserById(id) {\r\n    const cacheKey = `user:${id}`\r\n    \r\n    return cache.getOrSet(\r\n      cacheKey,\r\n      async () => {\r\n        const response = await axios.get(`/api/users/${id}`)\r\n        return response.data\r\n      },\r\n      10 * 60 * 1000 // 10 minutes\r\n    )\r\n  }\r\n\r\n  /**\r\n   * Update user\r\n   * @param {number} id - User ID\r\n   * @param {Object} data - User data\r\n   * @returns {Promise<Object>}\r\n   */\r\n  async updateUser(id, data) {\r\n    const response = await axios.put(`/api/users/${id}`, data)\r\n    \r\n    // Invalidate cache\r\n    cache.delete('users:all')\r\n    cache.delete(`user:${id}`)\r\n    \r\n    return response.data\r\n  }\r\n\r\n  /**\r\n   * Create user\r\n   * @param {Object} data - User data\r\n   * @returns {Promise<Object>}\r\n   */\r\n  async createUser(data) {\r\n    const response = await axios.post('/api/users', data)\r\n    \r\n    // Invalidate cache\r\n    cache.delete('users:all')\r\n    \r\n    return response.data\r\n  }\r\n\r\n  /**\r\n   * Delete user\r\n   * @param {number} id - User ID\r\n   * @returns {Promise<void>}\r\n   */\r\n  async deleteUser(id) {\r\n    await axios.delete(`/api/users/${id}`)\r\n    \r\n    // Invalidate cache\r\n    cache.delete('users:all')\r\n    cache.delete(`user:${id}`)\r\n  }\r\n\r\n  /**\r\n   * Clear all user cache\r\n   */\r\n  clearCache() {\r\n    cache.delete('users:all')\r\n  }\r\n}\r\n\r\nexport default new UserService()\r\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,qBAAqB;AACvC,OAAOC,KAAK,MAAM,eAAe;AAEjC,MAAMC,WAAW,CAAC;EAChB;AACF;AACA;AACA;AACA;EACE,MAAMC,QAAQA,CAACC,QAAQ,GAAG,IAAI,EAAE;IAC9B,MAAMC,QAAQ,GAAG,WAAW;IAE5B,IAAID,QAAQ,EAAE;MACZ,OAAOH,KAAK,CAACK,QAAQ,CACnBD,QAAQ,EACR,YAAY;QACV,MAAME,QAAQ,GAAG,MAAMP,KAAK,CAACQ,GAAG,CAAC,YAAY,CAAC;QAC9C,OAAOD,QAAQ,CAACE,IAAI;MACtB,CAAC,EACD,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC;MAChB,CAAC;IACH;;IAEA;IACA,MAAMF,QAAQ,GAAG,MAAMP,KAAK,CAACQ,GAAG,CAAC,YAAY,CAAC;IAC9CP,KAAK,CAACS,GAAG,CAACL,QAAQ,EAAEE,QAAQ,CAACE,IAAI,CAAC;IAClC,OAAOF,QAAQ,CAACE,IAAI;EACtB;;EAEA;AACF;AACA;AACA;EACE,MAAME,cAAcA,CAAA,EAAG;IACrB,MAAMC,KAAK,GAAG,MAAM,IAAI,CAACT,QAAQ,CAAC,CAAC;IACnC,OAAOS,KAAK,CAACC,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,SAAS,CAAC;EACvC;;EAEA;AACF;AACA;AACA;AACA;EACE,MAAMC,WAAWA,CAACC,EAAE,EAAE;IACpB,MAAMZ,QAAQ,GAAG,QAAQY,EAAE,EAAE;IAE7B,OAAOhB,KAAK,CAACK,QAAQ,CACnBD,QAAQ,EACR,YAAY;MACV,MAAME,QAAQ,GAAG,MAAMP,KAAK,CAACQ,GAAG,CAAC,cAAcS,EAAE,EAAE,CAAC;MACpD,OAAOV,QAAQ,CAACE,IAAI;IACtB,CAAC,EACD,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;IACjB,CAAC;EACH;;EAEA;AACF;AACA;AACA;AACA;AACA;EACE,MAAMS,UAAUA,CAACD,EAAE,EAAER,IAAI,EAAE;IACzB,MAAMF,QAAQ,GAAG,MAAMP,KAAK,CAACmB,GAAG,CAAC,cAAcF,EAAE,EAAE,EAAER,IAAI,CAAC;;IAE1D;IACAR,KAAK,CAACmB,MAAM,CAAC,WAAW,CAAC;IACzBnB,KAAK,CAACmB,MAAM,CAAC,QAAQH,EAAE,EAAE,CAAC;IAE1B,OAAOV,QAAQ,CAACE,IAAI;EACtB;;EAEA;AACF;AACA;AACA;AACA;EACE,MAAMY,UAAUA,CAACZ,IAAI,EAAE;IACrB,MAAMF,QAAQ,GAAG,MAAMP,KAAK,CAACsB,IAAI,CAAC,YAAY,EAAEb,IAAI,CAAC;;IAErD;IACAR,KAAK,CAACmB,MAAM,CAAC,WAAW,CAAC;IAEzB,OAAOb,QAAQ,CAACE,IAAI;EACtB;;EAEA;AACF;AACA;AACA;AACA;EACE,MAAMc,UAAUA,CAACN,EAAE,EAAE;IACnB,MAAMjB,KAAK,CAACoB,MAAM,CAAC,cAAcH,EAAE,EAAE,CAAC;;IAEtC;IACAhB,KAAK,CAACmB,MAAM,CAAC,WAAW,CAAC;IACzBnB,KAAK,CAACmB,MAAM,CAAC,QAAQH,EAAE,EAAE,CAAC;EAC5B;;EAEA;AACF;AACA;EACEO,UAAUA,CAAA,EAAG;IACXvB,KAAK,CAACmB,MAAM,CAAC,WAAW,CAAC;EAC3B;AACF;AAEA,eAAe,IAAIlB,WAAW,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}