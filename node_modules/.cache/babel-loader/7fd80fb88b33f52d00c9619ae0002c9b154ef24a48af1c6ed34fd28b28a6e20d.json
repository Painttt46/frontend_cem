{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, withCtx as _withCtx, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock, vShow as _vShow, withDirectives as _withDirectives, Fragment as _Fragment } from \"vue\";\nimport _imports_0 from '@/assets/images/GENT.png';\nconst _hoisted_1 = {\n  class: \"flex flex-column align-items-center w-full gap-3 border-bottom-1 surface-border p-3 mb-3 pb-0\"\n};\nconst _hoisted_2 = {\n  class: \"row\",\n  style: {\n    \"height\": \"100%\"\n  }\n};\nconst _hoisted_3 = {\n  class: \"flex align-items-center gap-3 mb-3 mt-3\"\n};\nconst _hoisted_4 = {\n  class: \"flex align-items-center gap-3 mb-3\"\n};\nconst _hoisted_5 = {\n  class: \"flex justify-content-end dialog-footer\"\n};\nconst _hoisted_6 = {\n  class: \"col-3 col-sm-3 col-md-2 col-lg-2 col-xl-2 bg-light p-0 sidebar-column\"\n};\nconst _hoisted_7 = {\n  class: \"p-4 sidebar-container\",\n  style: {\n    \"height\": \"100%\",\n    \"padding-top\": \"0px !important\"\n  }\n};\nconst _hoisted_8 = {\n  class: \"datetime-section\"\n};\nconst _hoisted_9 = {\n  class: \"datetime-display\"\n};\nconst _hoisted_10 = {\n  class: \"nav-menu\"\n};\nconst _hoisted_11 = {\n  key: 0,\n  class: \"nav-item ml-2 mt-2\"\n};\nconst _hoisted_12 = {\n  key: 1,\n  class: \"nav-item ml-2 mt-2\"\n};\nconst _hoisted_13 = {\n  key: 2,\n  class: \"nav-item ml-2 mt-2\"\n};\nconst _hoisted_14 = {\n  key: 3,\n  class: \"nav-item ml-2 mt-2\"\n};\nconst _hoisted_15 = {\n  key: 4,\n  class: \"nav-item ml-2 mt-2\"\n};\nconst _hoisted_16 = {\n  class: \"nav-item ml-2\",\n  style: {\n    \"width\": \"100%\",\n    \"color\": \"white\",\n    \"vertical-align\": \"bottom\",\n    \"display\": \"flex\",\n    \"justify-content\": \"center\"\n  }\n};\nconst _hoisted_17 = {\n  class: \"pt-1 pb-3 container-fluid h-100\",\n  style: {\n    \"padding-right\": \"0\",\n    \"padding-left\": \"0\"\n  }\n};\nconst _hoisted_18 = {\n  class: \"main-content-wrapper\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Toast = _resolveComponent(\"Toast\");\n  const _component_ConfirmPopup = _resolveComponent(\"ConfirmPopup\");\n  const _component_Button = _resolveComponent(\"Button\");\n  const _component_Dialog = _resolveComponent(\"Dialog\");\n  const _component_router_link = _resolveComponent(\"router-link\");\n  const _component_RouterView = _resolveComponent(\"RouterView\");\n  const _component_ScrollPanel = _resolveComponent(\"ScrollPanel\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_Toast), _createVNode($setup[\"ConfirmDialog\"], {\n    draggable: false\n  }), _createVNode(_component_ConfirmPopup, {\n    group: \"templating\"\n  }, {\n    message: _withCtx(slotProps => [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"i\", {\n      class: _normalizeClass([slotProps.message.icon, \"text-6xl text-primary-500\"])\n    }, null, 2 /* CLASS */), _createElementVNode(\"p\", null, _toDisplayString(slotProps.message.message), 1 /* TEXT */)])]),\n    _: 1 /* STABLE */\n  }), _createCommentVNode(\" Dialog Session หมดอายุ \"), _createVNode(_component_Dialog, {\n    visible: $setup.sessionDialog,\n    \"onUpdate:visible\": _cache[0] || (_cache[0] = $event => $setup.sessionDialog = $event),\n    header: \"Session หมดอายุ!\",\n    modal: \"\",\n    closable: false,\n    closeOnEscape: false\n  }, {\n    footer: _withCtx(() => [_createVNode(_component_Button, {\n      label: \"OK\",\n      class: \"p-button-danger\",\n      onClick: $setup.locationLogout\n    })]),\n    default: _withCtx(() => [_cache[5] || (_cache[5] = _createElementVNode(\"div\", {\n      class: \"flex align-items-center gap-2\"\n    }, [_createElementVNode(\"i\", {\n      class: \"pi pi-info-circle text-primary text-xl\"\n    }), _createElementVNode(\"span\", null, \"session หมดอายุ! กรุณาทําการล็อกอินใหม่อีกครั้ง\")], -1 /* CACHED */))]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"visible\"]), _createCommentVNode(\" Dialog Session หมดอายุ \"), _createElementVNode(\"div\", {\n    class: _normalizeClass([\"flex flex-column card\", {\n      'sidebar-hidden': !$setup.sidebarVisible\n    }]),\n    style: {\n      \"height\": \"100vh\",\n      \"width\": \"100%\"\n    }\n  }, [_createElementVNode(\"div\", _hoisted_2, [_createCommentVNode(\" Toggle Button - แสดงด้านซ้ายเสมอ \"), _createVNode(_component_Button, {\n    onClick: $setup.toggleSidebar,\n    class: \"sidebar-toggle-btn\",\n    icon: $setup.sidebarVisible ? 'pi pi-chevron-left' : 'pi pi-chevron-right',\n    severity: \"secondary\",\n    text: \"\",\n    \"v-tooltip\": $setup.sidebarVisible ? 'ซ่อนเมนู' : 'แสดงเมนู'\n  }, null, 8 /* PROPS */, [\"icon\", \"v-tooltip\"]), _createVNode(_component_Dialog, {\n    visible: $setup.visible,\n    \"onUpdate:visible\": _cache[3] || (_cache[3] = $event => $setup.visible = $event),\n    header: \"Setting\",\n    style: _normalizeStyle({\n      width: $setup.isMobile ? '90vw' : '400px',\n      maxWidth: '90vw',\n      bottom: '20px'\n    }),\n    position: $setup.position,\n    modal: true,\n    draggable: false\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_router_link, {\n      to: \"/profile\",\n      onClick: _cache[1] || (_cache[1] = $event => $setup.visible = false),\n      class: \"nav-link\"\n    }, {\n      default: _withCtx(() => [...(_cache[6] || (_cache[6] = [_createElementVNode(\"h5\", null, [_createElementVNode(\"i\", {\n        class: \"pi pi-megaphone px-2\",\n        style: {\n          \"font-size\": \"1.5rem\"\n        }\n      }), _createTextVNode(\"Profile \")], -1 /* CACHED */)]))]),\n      _: 1 /* STABLE */\n    })]), _createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_router_link, {\n      to: \"/login\",\n      onClick: $setup.logout,\n      class: \"nav-link\"\n    }, {\n      default: _withCtx(() => [...(_cache[7] || (_cache[7] = [_createElementVNode(\"h5\", null, [_createElementVNode(\"i\", {\n        class: \"pi pi-sign-out px-2\",\n        style: {\n          \"font-size\": \"1.2rem\"\n        }\n      }), _createTextVNode(\"Logout \")], -1 /* CACHED */)]))]),\n      _: 1 /* STABLE */\n    })]), _createElementVNode(\"div\", _hoisted_5, [_createVNode(_component_Button, {\n      type: \"button\",\n      label: \"Cancel\",\n      severity: \"danger\",\n      onClick: _cache[2] || (_cache[2] = $event => $setup.visible = false)\n    })])]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"visible\", \"style\", \"position\"]), _withDirectives(_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_cache[15] || (_cache[15] = _createElementVNode(\"div\", {\n    class: \"logo-section\"\n  }, [_createElementVNode(\"img\", {\n    src: _imports_0,\n    alt: \"GENT Logo\",\n    style: {\n      \"max-width\": \"150px\",\n      \"height\": \"auto\"\n    }\n  })], -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_cache[8] || (_cache[8] = _createElementVNode(\"i\", {\n    class: \"pi pi-calendar\"\n  }, null, -1 /* CACHED */)), _createElementVNode(\"span\", null, _toDisplayString($setup.currentDateTime), 1 /* TEXT */)])]), _createElementVNode(\"ul\", _hoisted_10, [$setup.hasAccess('/car_booking') ? (_openBlock(), _createElementBlock(\"li\", _hoisted_11, [_createVNode(_component_router_link, {\n    to: \"/car_booking\",\n    onClick: $setup.closeSidebarOnMobile,\n    class: \"nav-link\",\n    \"active-class\": \"active\"\n  }, {\n    default: _withCtx(() => [...(_cache[9] || (_cache[9] = [_createElementVNode(\"h5\", {\n      class: \"mt-2\"\n    }, [_createElementVNode(\"i\", {\n      class: \"pi pi-car px-2\",\n      style: {\n        \"font-size\": \"1.5rem\"\n      }\n    }), _createTextVNode(\"เเจ้งใช้รถ \")], -1 /* CACHED */)]))]),\n    _: 1 /* STABLE */\n  })])) : _createCommentVNode(\"v-if\", true), $setup.hasAccess('/leave_work') ? (_openBlock(), _createElementBlock(\"li\", _hoisted_12, [_createVNode(_component_router_link, {\n    to: \"/leave_work\",\n    onClick: $setup.closeSidebarOnMobile,\n    class: \"nav-link\",\n    \"active-class\": \"active\"\n  }, {\n    default: _withCtx(() => [...(_cache[10] || (_cache[10] = [_createElementVNode(\"h5\", {\n      class: \"mt-2\"\n    }, [_createElementVNode(\"i\", {\n      class: \"pi pi-sign-out px-2\",\n      style: {\n        \"font-size\": \"1.5rem\"\n      }\n    }), _createTextVNode(\"ลางาน \")], -1 /* CACHED */)]))]),\n    _: 1 /* STABLE */\n  })])) : _createCommentVNode(\"v-if\", true), $setup.hasAccess('/daily_work') ? (_openBlock(), _createElementBlock(\"li\", _hoisted_13, [_createVNode(_component_router_link, {\n    to: \"/daily_work\",\n    onClick: $setup.closeSidebarOnMobile,\n    class: \"nav-link\",\n    \"active-class\": \"active\"\n  }, {\n    default: _withCtx(() => [...(_cache[11] || (_cache[11] = [_createElementVNode(\"h5\", {\n      class: \"mt-2\"\n    }, [_createElementVNode(\"i\", {\n      class: \"pi pi-calendar px-2\",\n      style: {\n        \"font-size\": \"1.5rem\"\n      }\n    }), _createTextVNode(\"ลงงานรายวัน \")], -1 /* CACHED */)]))]),\n    _: 1 /* STABLE */\n  })])) : _createCommentVNode(\"v-if\", true), $setup.hasAccess('/projects') ? (_openBlock(), _createElementBlock(\"li\", _hoisted_14, [_createVNode(_component_router_link, {\n    to: \"/projects\",\n    onClick: $setup.closeSidebarOnMobile,\n    class: \"nav-link\",\n    \"active-class\": \"active\"\n  }, {\n    default: _withCtx(() => [...(_cache[12] || (_cache[12] = [_createElementVNode(\"h5\", {\n      class: \"mt-2\"\n    }, [_createElementVNode(\"i\", {\n      class: \"pi pi-briefcase px-2\",\n      style: {\n        \"font-size\": \"1.5rem\"\n      }\n    }), _createTextVNode(\"โครงการ \")], -1 /* CACHED */)]))]),\n    _: 1 /* STABLE */\n  })])) : _createCommentVNode(\"v-if\", true), $setup.hasAccess('/management') ? (_openBlock(), _createElementBlock(\"li\", _hoisted_15, [_createVNode(_component_router_link, {\n    to: \"/management\",\n    onClick: $setup.closeSidebarOnMobile,\n    class: \"nav-link\",\n    \"active-class\": \"active\"\n  }, {\n    default: _withCtx(() => [...(_cache[13] || (_cache[13] = [_createElementVNode(\"h5\", {\n      class: \"mt-2\"\n    }, [_createElementVNode(\"i\", {\n      class: \"pi pi-cog px-2\",\n      style: {\n        \"font-size\": \"1.5rem\"\n      }\n    }), _createTextVNode(\"จัดการระบบ \")], -1 /* CACHED */)]))]),\n    _: 1 /* STABLE */\n  })])) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_16, [_createVNode(_component_Button, {\n    onClick: _cache[4] || (_cache[4] = $event => $setup.openPosition('bottom')),\n    style: {\n      \"width\": \"80%\",\n      \"min-width\": \"8rem\",\n      \"color\": \"white\",\n      \"background\": \"linear-gradient(135deg, #4A90E2, #D73527)\",\n      \"border\": \"none\",\n      \"border-radius\": \"8px\",\n      \"box-shadow\": \"0 2px 8px rgba(74, 144, 226, 0.3)\",\n      \"transition\": \"all 0.3s ease\",\n      \"display\": \"flex\",\n      \"align-items\": \"center\",\n      \"justify-content\": \"center\",\n      \"padding\": \"8px 16px\"\n    },\n    class: \"setting-button\"\n  }, {\n    default: _withCtx(() => [...(_cache[14] || (_cache[14] = [_createElementVNode(\"h5\", {\n      style: {\n        \"margin\": \"0\",\n        \"display\": \"flex\",\n        \"align-items\": \"center\",\n        \"justify-content\": \"center\"\n      }\n    }, [_createElementVNode(\"i\", {\n      class: \"pi pi-cog px-2\",\n      style: {\n        \"font-size\": \"1.2rem\"\n      }\n    }), _createTextVNode(\"Setting \")], -1 /* CACHED */)]))]),\n    _: 1 /* STABLE */\n  }), _createCommentVNode(\" <router-link to=\\\"/login\\\" class=\\\"nav-link\\\"><h5><i class=\\\"pi pi-sign-out px-2\\\" style=\\\"font-size: 1.2rem;\\\"></i>Logout</h5></router-link> \"), _createCommentVNode(\" <router-link to=\\\"/login\\\" class=\\\"btn btn-danger\\\" style=\\\"width: 100%;\\\">ออกจากระบบ</router-link> \")])])], 512 /* NEED_PATCH */), [[_vShow, $setup.sidebarVisible]]), _createElementVNode(\"div\", {\n    class: _normalizeClass($setup.mainContentClass),\n    style: {\n      \"height\": \"100%\",\n      \"padding\": \"0\"\n    }\n  }, [_createElementVNode(\"div\", _hoisted_17, [_createElementVNode(\"div\", _hoisted_18, [_createVNode(_component_ScrollPanel, {\n    style: {\n      \"width\": \"100%\",\n      \"height\": \"calc(100vh)\",\n      \"padding-right\": \"0\",\n      \"padding-bottom\": \"0.5rem\"\n    }\n  }, {\n    default: _withCtx(() => [_createVNode(_component_RouterView)]),\n    _: 1 /* STABLE */\n  })])])], 2 /* CLASS */)])], 2 /* CLASS */)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_imports_0","class","style","_createVNode","_component_Toast","$setup","draggable","_component_ConfirmPopup","group","message","_withCtx","slotProps","_createElementVNode","_hoisted_1","_normalizeClass","icon","_toDisplayString","_createCommentVNode","_component_Dialog","visible","sessionDialog","$event","header","modal","closable","closeOnEscape","footer","_component_Button","label","onClick","locationLogout","sidebarVisible","_hoisted_2","toggleSidebar","severity","text","_normalizeStyle","width","isMobile","maxWidth","bottom","position","_hoisted_3","_component_router_link","to","_cache","_hoisted_4","logout","_hoisted_5","type","_hoisted_6","_hoisted_7","src","alt","_hoisted_8","_hoisted_9","currentDateTime","_hoisted_10","hasAccess","_createElementBlock","_hoisted_11","closeSidebarOnMobile","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","openPosition","mainContentClass","_hoisted_17","_hoisted_18","_component_ScrollPanel","_component_RouterView"],"sources":["D:\\frontend_cem\\src\\components\\LayoutView.vue"],"sourcesContent":["<template>\n  <Toast />\n  <ConfirmDialog :draggable=\"false\"></ConfirmDialog>\n  <ConfirmPopup group=\"templating\">\n    <template #message=\"slotProps\">\n      <div class=\"flex flex-column align-items-center w-full gap-3 border-bottom-1 surface-border p-3 mb-3 pb-0\">\n        <i :class=\"slotProps.message.icon\" class=\"text-6xl text-primary-500\"></i>\n        <p>{{ slotProps.message.message }}</p>\n      </div>\n    </template>\n  </ConfirmPopup>\n\n  <!-- Dialog Session หมดอายุ -->\n  <Dialog v-model:visible=\"sessionDialog\" header=\"Session หมดอายุ!\" modal :closable=\"false\" :closeOnEscape=\"false\">\n    <div class=\"flex align-items-center gap-2\">\n      <i class=\"pi pi-info-circle text-primary text-xl\" />\n      <span>session หมดอายุ! กรุณาทําการล็อกอินใหม่อีกครั้ง</span>\n    </div>\n    <template #footer>\n      <Button label=\"OK\" class=\"p-button-danger\" @click=\"locationLogout\" />\n    </template>\n  </Dialog>\n  <!-- Dialog Session หมดอายุ -->\n\n  <div class=\"flex flex-column card\" :class=\"{ 'sidebar-hidden': !sidebarVisible }\" style=\"height: 100vh; width: 100%\">\n    <div class=\"row\" style=\"height: 100%\">\n      <!-- Toggle Button - แสดงด้านซ้ายเสมอ -->\n      <Button @click=\"toggleSidebar\" class=\"sidebar-toggle-btn\"\n        :icon=\"sidebarVisible ? 'pi pi-chevron-left' : 'pi pi-chevron-right'\" severity=\"secondary\" text\n        :v-tooltip=\"sidebarVisible ? 'ซ่อนเมนู' : 'แสดงเมนู'\" />\n\n      <Dialog v-model:visible=\"visible\" header=\"Setting\" \n        :style=\"{ width: isMobile ? '90vw' : '400px', maxWidth: '90vw', bottom: '20px' }\" \n        :position=\"position\" :modal=\"true\" :draggable=\"false\">\n        <div class=\"flex align-items-center gap-3 mb-3 mt-3\">\n          <router-link to=\"/profile\" @click=\"visible = false\" class=\"nav-link\">\n            <h5>\n              <i class=\"pi pi-megaphone px-2\" style=\"font-size: 1.5rem\"></i>Profile\n            </h5>\n          </router-link>\n        </div>\n        <div class=\"flex align-items-center gap-3 mb-3\">\n          <router-link to=\"/login\" @click=\"logout\" class=\"nav-link\">\n            <h5>\n              <i class=\"pi pi-sign-out px-2\" style=\"font-size: 1.2rem\"></i>Logout\n            </h5>\n          </router-link>\n        </div>\n        <div class=\"flex justify-content-end dialog-footer\">\n          <Button type=\"button\" label=\"Cancel\" severity=\"danger\" @click=\"visible = false\"></Button>\n        </div>\n      </Dialog>\n\n      <div v-show=\"sidebarVisible\" class=\"col-3 col-sm-3 col-md-2 col-lg-2 col-xl-2 bg-light p-0 sidebar-column\">\n        <div class=\"p-4 sidebar-container\" style=\"height: 100%; padding-top: 0px !important\">\n          <div class=\"logo-section\">\n            <img src=\"@/assets/images/GENT.png\" alt=\"GENT Logo\" style=\"max-width: 150px; height: auto;\" />\n          </div>\n\n          <div class=\"datetime-section\">\n            <div class=\"datetime-display\">\n              <i class=\"pi pi-calendar\"></i>\n              <span>{{ currentDateTime }}</span>\n            </div>\n          </div>\n\n          <ul class=\"nav-menu\">\n            <li class=\"nav-item ml-2 mt-2\" v-if=\"hasAccess('/car_booking')\">\n              <router-link to=\"/car_booking\" @click=\"closeSidebarOnMobile\" class=\"nav-link\" active-class=\"active\">\n                <h5 class=\"mt-2\">\n                  <i class=\"pi pi-car px-2\" style=\"font-size: 1.5rem\"></i>เเจ้งใช้รถ\n                </h5>\n              </router-link>\n            </li>\n            <li class=\"nav-item ml-2 mt-2\" v-if=\"hasAccess('/leave_work')\">\n              <router-link to=\"/leave_work\" @click=\"closeSidebarOnMobile\" class=\"nav-link\" active-class=\"active\">\n                <h5 class=\"mt-2\">\n                  <i class=\"pi pi-sign-out px-2\" style=\"font-size: 1.5rem\"></i>ลางาน\n                </h5>\n              </router-link>\n            </li>\n            <li class=\"nav-item ml-2 mt-2\" v-if=\"hasAccess('/daily_work')\">\n              <router-link to=\"/daily_work\" @click=\"closeSidebarOnMobile\" class=\"nav-link\" active-class=\"active\">\n                <h5 class=\"mt-2\">\n                  <i class=\"pi pi-calendar px-2\" style=\"font-size: 1.5rem\"></i>ลงงานรายวัน\n                </h5>\n              </router-link>\n            </li>\n            <li class=\"nav-item ml-2 mt-2\" v-if=\"hasAccess('/projects')\">\n              <router-link to=\"/projects\" @click=\"closeSidebarOnMobile\" class=\"nav-link\" active-class=\"active\">\n                <h5 class=\"mt-2\">\n                  <i class=\"pi pi-briefcase px-2\" style=\"font-size: 1.5rem\"></i>โครงการ\n                </h5>\n              </router-link>\n            </li>\n            <li class=\"nav-item ml-2 mt-2\" v-if=\"hasAccess('/management')\">\n              <router-link to=\"/management\" @click=\"closeSidebarOnMobile\" class=\"nav-link\" active-class=\"active\">\n                <h5 class=\"mt-2\">\n                  <i class=\"pi pi-cog px-2\" style=\"font-size: 1.5rem\"></i>จัดการระบบ\n                </h5>\n              </router-link>\n            </li>\n          </ul>\n          <div class=\"nav-item ml-2\"\n            style=\"width: 100%; color: white; vertical-align: bottom; display: flex; justify-content: center;\">\n            <Button @click=\"openPosition('bottom')\" style=\"\n                width: 80%;\n                min-width: 8rem;\n                color: white;\n                background: linear-gradient(135deg, #4A90E2, #D73527);\n                border: none;\n                border-radius: 8px;\n                box-shadow: 0 2px 8px rgba(74, 144, 226, 0.3);\n                transition: all 0.3s ease;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                padding: 8px 16px;\n              \" class=\"setting-button\">\n              <h5 style=\"margin: 0; display: flex; align-items: center; justify-content: center;\">\n                <i class=\"pi pi-cog px-2\" style=\"font-size: 1.2rem\"></i>Setting\n              </h5>\n            </Button>\n            <!-- <router-link to=\"/login\" class=\"nav-link\"><h5><i class=\"pi pi-sign-out px-2\" style=\"font-size: 1.2rem;\"></i>Logout</h5></router-link> -->\n            <!-- <router-link to=\"/login\" class=\"btn btn-danger\" style=\"width: 100%;\">ออกจากระบบ</router-link> -->\n          </div>\n        </div>\n      </div>\n\n      <div :class=\"mainContentClass\" style=\"height: 100%; padding: 0;\">\n        <div class=\"pt-1 pb-3 container-fluid h-100\" style=\"padding-right: 0; padding-left: 0;\">\n          <div class=\"main-content-wrapper\">\n            <ScrollPanel style=\"\n                width: 100%;\n                height: calc(100vh);\n                padding-right: 0;\n                padding-bottom: 0.5rem;\n              \">\n              <RouterView />\n            </ScrollPanel>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, onUnmounted, computed } from \"vue\";\nimport { upperCase } from \"@/App.vue\";\nimport axios from \"axios\";\nimport ConfirmDialog from \"primevue/confirmdialog\";\nimport { usePermissions } from \"@/composables/usePermissions\";\n\nconst { loadPermissions, hasAccess } = usePermissions();\n\nconst position = ref(\"center\");\nconst visible = ref(false);\nconst sessionDialog = ref(false);\nconst sidebarVisible = ref(true);\nconst isMobile = ref(window.innerWidth <= 768);\n\nconst openPosition = (pos) => {\n  position.value = pos;\n  visible.value = true;\n};\n\nconst toggleSidebar = () => {\n  sidebarVisible.value = !sidebarVisible.value;\n};\n\nconst closeSidebarOnMobile = () => {\n  if (window.innerWidth <= 768) {\n    sidebarVisible.value = false;\n  }\n};\n\nconst updateIsMobile = () => {\n  isMobile.value = window.innerWidth <= 768;\n};\n\nconst mainContentClass = computed(() => {\n  return sidebarVisible.value\n    ? 'col-9 col-sm-9 col-md-10 col-lg-10 col-xl-10'\n    : 'col-12';\n});\n\nvar soc_user_id = ref();\nvar soc_user = ref();\nvar soc_user_firstLetter = ref();\nvar soc_role = ref();\nvar soc_firstname = ref();\nvar soc_lastname = ref();\n\nvar users = ref();\nvar currentTime = ref(new Date());\n\nconst currentDateTime = computed(() => {\n  return currentTime.value.toLocaleString('th-TH', {\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit',\n    second: '2-digit'\n  })\n});\n\nfunction fetchData() {\n  axios.get('/user', {\n  }).then(user_response => {\n    users.value = user_response.data.data;\n  });\n}\n\nconst resetTimer = () => {\n  timeout.value = 300; // รีเซ็ตเวลาเป็น 5 นาที\n};\n\nonMounted(() => {\n  loadPermissions();\n  startCountdown();\n  window.addEventListener(\"mousemove\", resetTimer);\n  window.addEventListener(\"keydown\", resetTimer);\n  window.addEventListener(\"resize\", updateIsMobile);\n  \n  soc_user_id.value = localStorage.getItem(\"soc_user_id\");\n  soc_user.value = localStorage.getItem(\"soc_user\");\n  soc_role.value = localStorage.getItem(\"soc_role\");\n  soc_firstname.value = localStorage.getItem(\"soc_firstname\") || \"No data\";\n  soc_lastname.value = localStorage.getItem(\"soc_lastname\") || \"No data\";\n  if (soc_user.value != null) {\n    soc_user_firstLetter.value = upperCase(soc_user.value.charAt(0));\n  }\n\n  // Update time every second\n  setInterval(() => {\n    currentTime.value = new Date();\n  }, 1000);\n  fetchData\n});\n\nonUnmounted(() => {\n  clearInterval(countdownTimer);\n  window.removeEventListener(\"mousemove\", resetTimer);\n  window.removeEventListener(\"keydown\", resetTimer);\n  window.removeEventListener(\"resize\", updateIsMobile);\n});\n\nconst showSessionDialog = () => {\n  sessionDialog.value = true\n};\n\nconst timeout = ref(300) // 5 นาที (300 วินาที)\nlet countdownTimer = null; // ✅ กำหนดตัวแปรให้อยู่ภายนอก\n\nconst reloadTab = () => {\n  // Don't clear localStorage immediately, let user choose\n  showSessionDialog.value = true;\n};\nconst locationLogout = () => {\n  localStorage.clear();\n  sessionStorage.clear();\n  window.location.href = \"/login\";\n};\n\nconst logout = async () => {\n  try {\n    // เรียก API logout เพื่อ clear cookie\n    await axios.post('/api/auth/logout');\n  } catch (error) {\n    console.error('Logout error:', error);\n  } finally {\n    // Clear localStorage และ sessionStorage\n    localStorage.clear();\n    sessionStorage.clear();\n    \n    // Clear all cookies\n    document.cookie.split(\";\").forEach((c) => {\n      document.cookie = c.replace(/^ +/, \"\").replace(/=.*/, \"=;expires=\" + new Date().toUTCString() + \";path=/\")\n    });\n    \n    // Redirect\n    window.location.href = \"/login\";\n  }\n};\nconst startCountdown = () => {\n  countdownTimer = setInterval(() => {\n    timeout.value--;\n    if (timeout.value <= 0) {\n      clearInterval(countdownTimer);\n      reloadTab();\n    }\n  }, 2000);\n};\n</script>\n\n<style scoped>\n.dialog-footer {\n  margin-bottom: 1rem;\n}\n\n.p-menuitem-link span {\n  color: black !important;\n}\n\n.sidebar-toggle-btn {\n  position: fixed;\n  top: 50%;\n  transform: translateY(-50%);\n  right: var(--toggle-btn-right);\n  left: var(--toggle-btn-left);\n  z-index: 1001;\n  background: linear-gradient(135deg, #4A90E2, #D73527) !important;\n  color: white !important;\n  border: none !important;\n  border-radius: 8px !important;\n  box-shadow: -2px 2px 8px rgba(74, 144, 226, 0.3) !important;\n  width: 40px !important;\n  height: 40px !important;\n  padding: 0 !important;\n  display: flex !important;\n  align-items: center !important;\n  justify-content: center !important;\n  opacity: 0.3;\n  transition: opacity 0.3s ease, box-shadow 0.3s ease !important;\n}\n\n.sidebar-toggle-btn:hover {\n  opacity: 1;\n  box-shadow: 0 4px 12px rgba(74, 144, 226, 0.4) !important;\n}\n\n\n.sidebar-hidden .sidebar-toggle-btn {\n  right: 10px;\n}\n\n.main-content-wrapper {\n  width: 100%;\n  height: 100%;\n  padding: 0;\n  margin: 0;\n}\n\n.sidebar-column {\n  transition: all 0.3s ease;\n}\n\n.sidebar-container {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n\n.logo-section {\n  text-align: center;\n  padding: 1.5rem 0;\n  border-bottom: 1px solid #e9ecef;\n  margin-bottom: 1rem;\n}\n\n.datetime-section {\n  margin-bottom: 1.5rem;\n}\n\n.datetime-display {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.5rem;\n  font-size: 0.85rem;\n  font-weight: 500;\n  background: linear-gradient(135deg, #4A90E2, #D73527);\n  color: white;\n  padding: 0.75rem;\n  border-radius: 10px;\n  margin: 0 0.5rem;\n  box-shadow: 0 2px 8px rgba(74, 144, 226, 0.3);\n}\n\n.nav-menu {\n  flex: 1;\n  overflow-y: auto;\n}\n\nh1,\nh2,\nh3,\nh4 {\n  color: black !important;\n}\n\n.nav-link.active {\n  background: linear-gradient(135deg, #4A90E2, #D73527);\n  color: white !important;\n  border-radius: 8px;\n  border-radius: 5px;\n  padding: 2px;\n  font-size: 20px;\n}\n\n.setting-button:hover {\n  transform: translateY(-2px) !important;\n  box-shadow: 0 4px 12px rgba(74, 144, 226, 0.4) !important;\n}\n\n.setting-button:active {\n  transform: translateY(0) !important;\n}\n\n/* Responsive - ทุก device ที่หน้าจอเล็ก */\n@media (max-width: 768px) {\n  .sidebar-toggle-btn {\n    top: 50%;\n    transform: translateY(-50%);\n  }\n\n  :root {\n    --toggle-btn-right: 0.5rem;\n    --toggle-btn-left: auto;\n  }\n\n  .sidebar-hidden {\n    --toggle-btn-right: auto;\n    --toggle-btn-left: 0.5rem;\n  }\n\n  .sidebar-column {\n    position: fixed;\n    top: 0;\n    left: 0;\n    height: 100vh;\n    width: 100%;\n    z-index: 999;\n    box-shadow: 2px 0 8px rgba(0, 0, 0, 0.1);\n    transform: translateX(0);\n    transition: transform 0.3s ease;\n  }\n\n  .main-content-wrapper {\n    padding: 0 0.5rem;\n    margin-left: 0;\n    margin-right: 0;\n    width: calc(100% + 3.3rem);\n  }\n}\n\n/* ซ่อน sidebar เมื่อหน้าจอเล็ก */\n@media (max-width: 768px) {\n  .sidebar-hidden .sidebar-column {\n    transform: translateX(-100%);\n  }\n}\n\n/* ซ่อน scrollbar ของ ScrollPanel */\n:deep(.p-scrollpanel-bar-y) {\n  display: none !important;\n}\n</style>\n"],"mappings":";OAwDiBA,UAA8B;;EAnDpCC,KAAK,EAAC;AAA+F;;EAoBvGA,KAAK,EAAC,KAAK;EAACC,KAAoB,EAApB;IAAA;EAAA;;;EASRD,KAAK,EAAC;AAAyC;;EAO/CA,KAAK,EAAC;AAAoC;;EAO1CA,KAAK,EAAC;AAAwC;;EAKxBA,KAAK,EAAC;AAAuE;;EACnGA,KAAK,EAAC,uBAAuB;EAACC,KAAiD,EAAjD;IAAA;IAAA;EAAA;;;EAK5BD,KAAK,EAAC;AAAkB;;EACtBA,KAAK,EAAC;AAAkB;;EAM3BA,KAAK,EAAC;AAAU;;;EACdA,KAAK,EAAC;;;;EAONA,KAAK,EAAC;;;;EAONA,KAAK,EAAC;;;;EAONA,KAAK,EAAC;;;;EAONA,KAAK,EAAC;;;EAQPA,KAAK,EAAC,eAAe;EACxBC,KAAkG,EAAlG;IAAA;IAAA;IAAA;IAAA;IAAA;EAAA;;;EA0BCD,KAAK,EAAC,iCAAiC;EAACC,KAA0C,EAA1C;IAAA;IAAA;EAAA;;;EACtCD,KAAK,EAAC;AAAsB;;;;;;;;;6DAlIzCE,YAAA,CAASC,gBAAA,GACTD,YAAA,CAAkDE,MAAA;IAAlCC,SAAS,EAAE;EAAK,IAChCH,YAAA,CAOeI,uBAAA;IAPDC,KAAK,EAAC;EAAY;IACnBC,OAAO,EAAAC,QAAA,CAIVC,SAJqB,KAC3BC,mBAAA,CAGM,OAHNC,UAGM,GAFJD,mBAAA,CAAyE;MAArEX,KAAK,EAAAa,eAAA,EAAEH,SAAS,CAACF,OAAO,CAACM,IAAI,EAAQ,2BAA2B;6BACpEH,mBAAA,CAAsC,WAAAI,gBAAA,CAAhCL,SAAS,CAACF,OAAO,CAACA,OAAO,iB;;MAKrCQ,mBAAA,4BAA+B,EAC/Bd,YAAA,CAQSe,iBAAA;IAROC,OAAO,EAAEd,MAAA,CAAAe,aAAa;4DAAbf,MAAA,CAAAe,aAAa,GAAAC,MAAA;IAAEC,MAAM,EAAC,kBAAkB;IAACC,KAAK,EAAL,EAAK;IAAEC,QAAQ,EAAE,KAAK;IAAGC,aAAa,EAAE;;IAK7FC,MAAM,EAAAhB,QAAA,CACf,MAAqE,CAArEP,YAAA,CAAqEwB,iBAAA;MAA7DC,KAAK,EAAC,IAAI;MAAC3B,KAAK,EAAC,iBAAiB;MAAE4B,OAAK,EAAExB,MAAA,CAAAyB;;sBALrD,MAGM,C,0BAHNlB,mBAAA,CAGM;MAHDX,KAAK,EAAC;IAA+B,IACxCW,mBAAA,CAAoD;MAAjDX,KAAK,EAAC;IAAwC,IACjDW,mBAAA,CAA4D,cAAtD,iDAA+C,E;;kCAMzDK,mBAAA,4BAA+B,EAE/BL,mBAAA,CAwHM;IAxHDX,KAAK,EAAAa,eAAA,EAAC,uBAAuB;MAAA,mBAA8BT,MAAA,CAAA0B;IAAc;IAAI7B,KAAkC,EAAlC;MAAA;MAAA;IAAA;MAChFU,mBAAA,CAsHM,OAtHNoB,UAsHM,GArHJf,mBAAA,sCAAyC,EACzCd,YAAA,CAE0DwB,iBAAA;IAFjDE,OAAK,EAAExB,MAAA,CAAA4B,aAAa;IAAEhC,KAAK,EAAC,oBAAoB;IACtDc,IAAI,EAAEV,MAAA,CAAA0B,cAAc;IAAiDG,QAAQ,EAAC,WAAW;IAACC,IAAI,EAAJ,EAAI;IAC9F,WAAS,EAAE9B,MAAA,CAAA0B,cAAc;kDAE5B5B,YAAA,CAoBSe,iBAAA;IApBOC,OAAO,EAAEd,MAAA,CAAAc,OAAO;4DAAPd,MAAA,CAAAc,OAAO,GAAAE,MAAA;IAAEC,MAAM,EAAC,SAAS;IAC/CpB,KAAK,EAAAkC,eAAA;MAAAC,KAAA,EAAWhC,MAAA,CAAAiC,QAAQ;MAAAC,QAAA;MAAAC,MAAA;IAAA;IACxBC,QAAQ,EAAEpC,MAAA,CAAAoC,QAAQ;IAAGlB,KAAK,EAAE,IAAI;IAAGjB,SAAS,EAAE;;sBAC/C,MAMM,CANNM,mBAAA,CAMM,OANN8B,UAMM,GALJvC,YAAA,CAIcwC,sBAAA;MAJDC,EAAE,EAAC,UAAU;MAAEf,OAAK,EAAAgB,MAAA,QAAAA,MAAA,MAAAxB,MAAA,IAAEhB,MAAA,CAAAc,OAAO;MAAUlB,KAAK,EAAC;;wBACxD,MAEK,KAAA4C,MAAA,QAAAA,MAAA,OAFLjC,mBAAA,CAEK,aADHA,mBAAA,CAA8D;QAA3DX,KAAK,EAAC,sBAAsB;QAACC,KAAyB,EAAzB;UAAA;QAAA;2BAA8B,UAChE,E;;UAGJU,mBAAA,CAMM,OANNkC,UAMM,GALJ3C,YAAA,CAIcwC,sBAAA;MAJDC,EAAE,EAAC,QAAQ;MAAEf,OAAK,EAAExB,MAAA,CAAA0C,MAAM;MAAE9C,KAAK,EAAC;;wBAC7C,MAEK,KAAA4C,MAAA,QAAAA,MAAA,OAFLjC,mBAAA,CAEK,aADHA,mBAAA,CAA6D;QAA1DX,KAAK,EAAC,qBAAqB;QAACC,KAAyB,EAAzB;UAAA;QAAA;2BAA8B,SAC/D,E;;UAGJU,mBAAA,CAEM,OAFNoC,UAEM,GADJ7C,YAAA,CAAyFwB,iBAAA;MAAjFsB,IAAI,EAAC,QAAQ;MAACrB,KAAK,EAAC,QAAQ;MAACM,QAAQ,EAAC,QAAQ;MAAEL,OAAK,EAAAgB,MAAA,QAAAA,MAAA,MAAAxB,MAAA,IAAEhB,MAAA,CAAAc,OAAO;;;uEAI1EP,mBAAA,CA0EM,OA1ENsC,UA0EM,GAzEJtC,mBAAA,CAwEM,OAxENuC,UAwEM,G,4BAvEJvC,mBAAA,CAEM;IAFDX,KAAK,EAAC;EAAc,IACvBW,mBAAA,CAA8F;IAAzFwC,GAA8B,EAA9BpD,UAA8B;IAACqD,GAAG,EAAC,WAAW;IAACnD,KAAuC,EAAvC;MAAA;MAAA;IAAA;0BAGtDU,mBAAA,CAKM,OALN0C,UAKM,GAJJ1C,mBAAA,CAGM,OAHN2C,UAGM,G,0BAFJ3C,mBAAA,CAA8B;IAA3BX,KAAK,EAAC;EAAgB,4BACzBW,mBAAA,CAAkC,cAAAI,gBAAA,CAAzBX,MAAA,CAAAmD,eAAe,iB,KAI5B5C,mBAAA,CAoCK,MApCL6C,WAoCK,GAnCkCpD,MAAA,CAAAqD,SAAS,oB,cAA9CC,mBAAA,CAMK,MANLC,WAMK,GALHzD,YAAA,CAIcwC,sBAAA;IAJDC,EAAE,EAAC,cAAc;IAAEf,OAAK,EAAExB,MAAA,CAAAwD,oBAAoB;IAAE5D,KAAK,EAAC,UAAU;IAAC,cAAY,EAAC;;sBACzF,MAEK,KAAA4C,MAAA,QAAAA,MAAA,OAFLjC,mBAAA,CAEK;MAFDX,KAAK,EAAC;IAAM,IACdW,mBAAA,CAAwD;MAArDX,KAAK,EAAC,gBAAgB;MAACC,KAAyB,EAAzB;QAAA;MAAA;yBAA8B,aAC1D,E;;6CAGiCG,MAAA,CAAAqD,SAAS,mB,cAA9CC,mBAAA,CAMK,MANLG,WAMK,GALH3D,YAAA,CAIcwC,sBAAA;IAJDC,EAAE,EAAC,aAAa;IAAEf,OAAK,EAAExB,MAAA,CAAAwD,oBAAoB;IAAE5D,KAAK,EAAC,UAAU;IAAC,cAAY,EAAC;;sBACxF,MAEK,KAAA4C,MAAA,SAAAA,MAAA,QAFLjC,mBAAA,CAEK;MAFDX,KAAK,EAAC;IAAM,IACdW,mBAAA,CAA6D;MAA1DX,KAAK,EAAC,qBAAqB;MAACC,KAAyB,EAAzB;QAAA;MAAA;yBAA8B,QAC/D,E;;6CAGiCG,MAAA,CAAAqD,SAAS,mB,cAA9CC,mBAAA,CAMK,MANLI,WAMK,GALH5D,YAAA,CAIcwC,sBAAA;IAJDC,EAAE,EAAC,aAAa;IAAEf,OAAK,EAAExB,MAAA,CAAAwD,oBAAoB;IAAE5D,KAAK,EAAC,UAAU;IAAC,cAAY,EAAC;;sBACxF,MAEK,KAAA4C,MAAA,SAAAA,MAAA,QAFLjC,mBAAA,CAEK;MAFDX,KAAK,EAAC;IAAM,IACdW,mBAAA,CAA6D;MAA1DX,KAAK,EAAC,qBAAqB;MAACC,KAAyB,EAAzB;QAAA;MAAA;yBAA8B,cAC/D,E;;6CAGiCG,MAAA,CAAAqD,SAAS,iB,cAA9CC,mBAAA,CAMK,MANLK,WAMK,GALH7D,YAAA,CAIcwC,sBAAA;IAJDC,EAAE,EAAC,WAAW;IAAEf,OAAK,EAAExB,MAAA,CAAAwD,oBAAoB;IAAE5D,KAAK,EAAC,UAAU;IAAC,cAAY,EAAC;;sBACtF,MAEK,KAAA4C,MAAA,SAAAA,MAAA,QAFLjC,mBAAA,CAEK;MAFDX,KAAK,EAAC;IAAM,IACdW,mBAAA,CAA8D;MAA3DX,KAAK,EAAC,sBAAsB;MAACC,KAAyB,EAAzB;QAAA;MAAA;yBAA8B,UAChE,E;;6CAGiCG,MAAA,CAAAqD,SAAS,mB,cAA9CC,mBAAA,CAMK,MANLM,WAMK,GALH9D,YAAA,CAIcwC,sBAAA;IAJDC,EAAE,EAAC,aAAa;IAAEf,OAAK,EAAExB,MAAA,CAAAwD,oBAAoB;IAAE5D,KAAK,EAAC,UAAU;IAAC,cAAY,EAAC;;sBACxF,MAEK,KAAA4C,MAAA,SAAAA,MAAA,QAFLjC,mBAAA,CAEK;MAFDX,KAAK,EAAC;IAAM,IACdW,mBAAA,CAAwD;MAArDX,KAAK,EAAC,gBAAgB;MAACC,KAAyB,EAAzB;QAAA;MAAA;yBAA8B,aAC1D,E;;+CAINU,mBAAA,CAsBM,OAtBNsD,WAsBM,GApBJ/D,YAAA,CAiBSwB,iBAAA;IAjBAE,OAAK,EAAAgB,MAAA,QAAAA,MAAA,MAAAxB,MAAA,IAAEhB,MAAA,CAAA8D,YAAY;IAAYjE,KAarC,EAbqC;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;IAAA,CAarC;IAACD,KAAK,EAAC;;sBACR,MAEK,KAAA4C,MAAA,SAAAA,MAAA,QAFLjC,mBAAA,CAEK;MAFDV,KAA+E,EAA/E;QAAA;QAAA;QAAA;QAAA;MAAA;IAA+E,IACjFU,mBAAA,CAAwD;MAArDX,KAAK,EAAC,gBAAgB;MAACC,KAAyB,EAAzB;QAAA;MAAA;yBAA8B,UAC1D,E;;MAEFe,mBAAA,mJAA8I,EAC9IA,mBAAA,yGAAsG,C,uCAvE/FZ,MAAA,CAAA0B,cAAc,E,GA4E3BnB,mBAAA,CAaM;IAbAX,KAAK,EAAAa,eAAA,CAAET,MAAA,CAAA+D,gBAAgB;IAAElE,KAAiC,EAAjC;MAAA;MAAA;IAAA;MAC7BU,mBAAA,CAWM,OAXNyD,WAWM,GAVJzD,mBAAA,CASM,OATN0D,WASM,GARJnE,YAAA,CAOcoE,sBAAA;IAPDrE,KAKV,EALU;MAAA;MAAA;MAAA;MAAA;IAAA;EAKV;sBACD,MAAc,CAAdC,YAAA,CAAcqE,qBAAA,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}